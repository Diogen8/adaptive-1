/*! jQuery Mobile 1.4.5 | Git HEADhash: 68e55e7 <> 2014-10-31T17:33:30Z | (c) 2010, 2014 jQuery Foundation, Inc. | jquery.org/license */

!function(a,b,c){"function"==typeof define&&define.amd?define(["jquery"],function(d){return c(d,a,b),d.mobile}):c(a.jQuery,a,b)}(this,document,function(a,b,c){!function(a){a.mobile={}}(a),function(a,b){function d(b,c){var d,f,g,h=b.nodeName.toLowerCase();return"area"===h?(d=b.parentNode,f=d.name,b.href&&f&&"map"===d.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&e(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&e(b)}function e(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var f=0,g=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(this[0].ownerDocument||c):b},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){g.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return d(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),e=isNaN(c);return(e||c>=0)&&d(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in c.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(d){if(d!==b)return this.css("zIndex",d);if(this.length)for(var e,f,g=a(this[0]);g.length&&g[0]!==c;){if(e=g.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(f=parseInt(g.css("zIndex"),10),!isNaN(f)&&0!==f))return f;g=g.parent()}return 0}}),a.ui.plugin={add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c,d){var e,f=a.plugins[b];if(f&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(e=0;e<f.length;e++)a.options[f[e][0]]&&f[e][1].apply(a.element,c)}}}(a),function(a,b){var d=function(b,c){var d=b.parent(),e=[],f=function(){var b=a(this),c=a.mobile.toolbar&&b.data("mobile-toolbar")?b.toolbar("option"):{position:b.attr("data-"+a.mobile.ns+"position"),updatePagePadding:b.attr("data-"+a.mobile.ns+"update-page-padding")!==!1};return!("fixed"===c.position&&c.updatePagePadding===!0)},g=d.children(":jqmData(role='header')").filter(f),h=b.children(":jqmData(role='header')"),i=d.children(":jqmData(role='footer')").filter(f),j=b.children(":jqmData(role='footer')");return 0===h.length&&g.length>0&&(e=e.concat(g.toArray())),0===j.length&&i.length>0&&(e=e.concat(i.toArray())),a.each(e,function(b,d){c-=a(d).outerHeight()}),Math.max(0,c)};a.extend(a.mobile,{window:a(b),document:a(c),keyCode:a.ui.keyCode,behaviors:{},silentScroll:function(c){"number"!==a.type(c)&&(c=a.mobile.defaultHomeScroll),a.event.special.scrollstart.enabled=!1,setTimeout(function(){b.scrollTo(0,c),a.mobile.document.trigger("silentscroll",{x:0,y:c})},20),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},getClosestBaseUrl:function(b){var c=a(b).closest(".ui-page").jqmData("url"),d=a.mobile.path.documentBase.hrefNoHash;return a.mobile.dynamicBaseEnabled&&c&&a.mobile.path.isPath(c)||(c=d),a.mobile.path.makeUrlAbsolute(c,d)},removeActiveLinkClass:function(b){!a.mobile.activeClickedLink||a.mobile.activeClickedLink.closest("."+a.mobile.activePageClass).length&&!b||a.mobile.activeClickedLink.removeClass(a.mobile.activeBtnClass),a.mobile.activeClickedLink=null},getInheritedTheme:function(a,b){for(var c,d,e=a[0],f="",g=/ui-(bar|body|overlay)-([a-z])\b/;e&&(c=e.className||"",!(c&&(d=g.exec(c))&&(f=d[2])));)e=e.parentNode;return f||b||"a"},enhanceable:function(a){return this.haveParents(a,"enhance")},hijackable:function(a){return this.haveParents(a,"ajax")},haveParents:function(b,c){if(!a.mobile.ignoreContentEnabled)return b;var d,e,f,g,h,i=b.length,j=a();for(g=0;i>g;g++){for(e=b.eq(g),f=!1,d=b[g];d;){if(h=d.getAttribute?d.getAttribute("data-"+a.mobile.ns+c):"","false"===h){f=!0;break}d=d.parentNode}f||(j=j.add(e))}return j},getScreenHeight:function(){return b.innerHeight||a.mobile.window.height()},resetActivePageHeight:function(b){var c=a("."+a.mobile.activePageClass),e=c.height(),f=c.outerHeight(!0);b=d(c,"number"==typeof b?b:a.mobile.getScreenHeight()),c.css("min-height",""),c.height()<b&&c.css("min-height",b-(f-e))},loading:function(){var b=this.loading._widget||a(a.mobile.loader.prototype.defaultHtml).loader(),c=b.loader.apply(b,arguments);return this.loading._widget=b,c}}),a.addDependents=function(b,c){var d=a(b),e=d.jqmData("dependents")||a();d.jqmData("dependents",a(e).add(c))},a.fn.extend({removeWithDependents:function(){a.removeWithDependents(this)},enhanceWithin:function(){var b,c={},d=a.mobile.page.prototype.keepNativeSelector(),e=this;a.mobile.nojs&&a.mobile.nojs(this),a.mobile.links&&a.mobile.links(this),a.mobile.degradeInputsWithin&&a.mobile.degradeInputsWithin(this),a.fn.buttonMarkup&&this.find(a.fn.buttonMarkup.initSelector).not(d).jqmEnhanceable().buttonMarkup(),a.fn.fieldcontain&&this.find(":jqmData(role='fieldcontain')").not(d).jqmEnhanceable().fieldcontain(),a.each(a.mobile.widgets,function(b,f){if(f.initSelector){var g=a.mobile.enhanceable(e.find(f.initSelector));g.length>0&&(g=g.not(d)),g.length>0&&(c[f.prototype.widgetName]=g)}});for(b in c)c[b][b]();return this},addDependents:function(b){a.addDependents(this,b)},getEncodedText:function(){return a("<a>").text(this.text()).html()},jqmEnhanceable:function(){return a.mobile.enhanceable(this)},jqmHijackable:function(){return a.mobile.hijackable(this)}}),a.removeWithDependents=function(b){var c=a(b);(c.jqmData("dependents")||a()).remove(),c.remove()},a.addDependents=function(b,c){var d=a(b),e=d.jqmData("dependents")||a();d.jqmData("dependents",a(e).add(c))},a.find.matches=function(b,c){return a.find(b,null,null,c)},a.find.matchesSelector=function(b,c){return a.find(c,null,null,[b]).length>0}}(a,this),function(a){a.extend(a.mobile,{version:"1.4.5",subPageUrlKey:"ui-page",hideUrlBar:!0,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:!0,hashListeningEnabled:!0,linkBindingEnabled:!0,defaultPageTransition:"fade",maxTransitionWidth:!1,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:!1,autoInitializePage:!0,pushStateEnabled:!0,ignoreContentEnabled:!1,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:!0,pageContainer:a(),allowCrossDomainPages:!1,dialogHashKey:"&ui-state=dialog"})}(a,this),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];return b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g),g},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,this.each(h?function(){var d,e=a.data(this,f);return"instance"===g?(j=e,!1):e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}:function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(a),function(a,b,c){var d={},e=a.find,f=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,g=/:jqmData\(([^)]*)\)/g;a.extend(a.mobile,{ns:"",getAttribute:function(b,c){var d;b=b.jquery?b[0]:b,b&&b.getAttribute&&(d=b.getAttribute("data-"+a.mobile.ns+c));try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:f.test(d)?JSON.parse(d):d}catch(e){}return d},nsNormalizeDict:d,nsNormalize:function(b){return d[b]||(d[b]=a.camelCase(a.mobile.ns+b))},closestPageData:function(a){return a.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page")}}),a.fn.jqmData=function(b,d){var e;return"undefined"!=typeof b&&(b&&(b=a.mobile.nsNormalize(b)),e=arguments.length<2||d===c?this.data(b):this.data(b,d)),e},a.jqmData=function(b,c,d){var e;return"undefined"!=typeof c&&(e=a.data(b,c?a.mobile.nsNormalize(c):c,d)),e},a.fn.jqmRemoveData=function(b){return this.removeData(a.mobile.nsNormalize(b))},a.jqmRemoveData=function(b,c){return a.removeData(b,a.mobile.nsNormalize(c))},a.find=function(b,c,d,f){return b.indexOf(":jqmData")>-1&&(b=b.replace(g,"[data-"+(a.mobile.ns||"")+"$1]")),e.call(this,b,c,d,f)},a.extend(a.find,e)}(a,this),function(a){var b=/[A-Z]/g,c=function(a){return"-"+a.toLowerCase()};a.extend(a.Widget.prototype,{_getCreateOptions:function(){var d,e,f=this.element[0],g={};if(!a.mobile.getAttribute(f,"defaults"))for(d in this.options)e=a.mobile.getAttribute(f,d.replace(b,c)),null!=e&&(g[d]=e);return g}}),a.mobile.widget=a.Widget}(a),function(a){var b="ui-loader",c=a("html");a.widget("mobile.loader",{options:{theme:"a",textVisible:!1,html:"",text:"loading"},defaultHtml:"<div class='"+b+"'><span class='ui-icon-loading'></span><h1></h1></div>",fakeFixLoader:function(){var b=a("."+a.mobile.activeBtnClass).first();this.element.css({top:a.support.scrollTop&&this.window.scrollTop()+this.window.height()/2||b.length&&b.offset().top||100})},checkLoaderPosition:function(){var b=this.element.offset(),c=this.window.scrollTop(),d=a.mobile.getScreenHeight();(b.top<c||b.top-c>d)&&(this.element.addClass("ui-loader-fakefix"),this.fakeFixLoader(),this.window.unbind("scroll",this.checkLoaderPosition).bind("scroll",a.proxy(this.fakeFixLoader,this)))},resetHtml:function(){this.element.html(a(this.defaultHtml).html())},show:function(d,e,f){var g,h,i;this.resetHtml(),"object"===a.type(d)?(i=a.extend({},this.options,d),d=i.theme):(i=this.options,d=d||i.theme),h=e||(i.text===!1?"":i.text),c.addClass("ui-loading"),g=i.textVisible,this.element.attr("class",b+" ui-corner-all ui-body-"+d+" ui-loader-"+(g||e||d.text?"verbose":"default")+(i.textonly||f?" ui-loader-textonly":"")),i.html?this.element.html(i.html):this.element.find("h1").text(h),this.element.appendTo(a(a.mobile.pagecontainer?":mobile-pagecontainer":"body")),this.checkLoaderPosition(),this.window.bind("scroll",a.proxy(this.checkLoaderPosition,this))},hide:function(){c.removeClass("ui-loading"),this.options.text&&this.element.removeClass("ui-loader-fakefix"),this.window.unbind("scroll",this.fakeFixLoader),this.window.unbind("scroll",this.checkLoaderPosition)}})}(a,this),function(a,b,d){"$:nomunge";function e(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var f,g="hashchange",h=c,i=a.event.special,j=h.documentMode,k="on"+g in b&&(j===d||j>7);a.fn[g]=function(a){return a?this.bind(g,a):this.trigger(g)},a.fn[g].delay=50,i[g]=a.extend(i[g],{setup:function(){return k?!1:void a(f.start)},teardown:function(){return k?!1:void a(f.stop)}}),f=function(){function c(){var d=e(),h=n(j);d!==j?(m(j=d,h),a(b).trigger(g)):h!==j&&(location.href=location.href.replace(/#.*/,"")+h),f=setTimeout(c,a.fn[g].delay)}var f,i={},j=e(),l=function(a){return a},m=l,n=l;return i.start=function(){f||c()},i.stop=function(){f&&clearTimeout(f),f=d},b.attachEvent&&!b.addEventListener&&!k&&function(){var b,d;i.start=function(){b||(d=a.fn[g].src,d=d&&d+e(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){d||m(e()),c()}).attr("src",d||"javascript:0").insertAfter("body")[0].contentWindow,h.onpropertychange=function(){try{"title"===event.propertyName&&(b.document.title=h.title)}catch(a){}})},i.stop=l,n=function(){return e(b.location.href)},m=function(c,d){var e=b.document,f=a.fn[g].domain;c!==d&&(e.title=h.title,e.open(),f&&e.write('<script>document.domain="'+f+'"</script>'),e.close(),b.location.hash=c)}}(),i}()}(a,this),function(a){b.matchMedia=b.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(c),a.mobile.media=function(a){return b.matchMedia(a).matches}}(a),function(a){var b={touch:"ontouchend"in c};a.mobile.support=a.mobile.support||{},a.extend(a.support,b),a.extend(a.mobile.support,b)}(a),function(a){a.extend(a.support,{orientation:"orientation"in b&&"onorientationchange"in b})}(a),function(a,d){function e(a){var b,c=a.charAt(0).toUpperCase()+a.substr(1),e=(a+" "+o.join(c+" ")+c).split(" ");for(b in e)if(n[e[b]]!==d)return!0}function f(){var c=b,d=!(!c.document.createElementNS||!c.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect||c.opera&&-1===navigator.userAgent.indexOf("Chrome")),e=function(b){b&&d||a("html").addClass("ui-nosvg")},f=new c.Image;f.onerror=function(){e(!1)},f.onload=function(){e(1===f.width&&1===f.height)},f.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}function g(){var e,f,g,h="transform-3d",i=a.mobile.media("(-"+o.join("-"+h+"),(-")+"-"+h+"),("+h+")");if(i)return!!i;e=c.createElement("div"),f={MozTransform:"-moz-transform",transform:"transform"},m.append(e);for(g in f)e.style[g]!==d&&(e.style[g]="translate3d( 100px, 1px, 1px )",i=b.getComputedStyle(e).getPropertyValue(f[g]));return!!i&&"none"!==i}function h(){var b,c,d=location.protocol+"//"+location.host+location.pathname+"ui-dir/",e=a("head base"),f=null,g="";return e.length?g=e.attr("href"):e=f=a("<base>",{href:d}).appendTo("head"),b=a("<a href='testurl' />").prependTo(m),c=b[0].href,e[0].href=g||location.pathname,f&&f.remove(),0===c.indexOf(d)}function i(){var a,d=c.createElement("x"),e=c.documentElement,f=b.getComputedStyle;return"pointerEvents"in d.style?(d.style.pointerEvents="auto",d.style.pointerEvents="x",e.appendChild(d),a=f&&"auto"===f(d,"").pointerEvents,e.removeChild(d),!!a):!1}function j(){var a=c.createElement("div");return"undefined"!=typeof a.getBoundingClientRect}function k(){var a=b,c=navigator.userAgent,d=navigator.platform,e=c.match(/AppleWebKit\/([0-9]+)/),f=!!e&&e[1],g=c.match(/Fennec\/([0-9]+)/),h=!!g&&g[1],i=c.match(/Opera Mobi\/([0-9]+)/),j=!!i&&i[1];return(d.indexOf("iPhone")>-1||d.indexOf("iPad")>-1||d.indexOf("iPod")>-1)&&f&&534>f||a.operamini&&"[object OperaMini]"==={}.toString.call(a.operamini)||i&&7458>j||c.indexOf("Android")>-1&&f&&533>f||h&&6>h||"palmGetResource"in b&&f&&534>f||c.indexOf("MeeGo")>-1&&c.indexOf("NokiaBrowser/8.5.0")>-1?!1:!0}var l,m=a("<body>").prependTo("html"),n=m[0].style,o=["Webkit","Moz","O"],p="palmGetResource"in b,q=b.operamini&&"[object OperaMini]"==={}.toString.call(b.operamini),r=b.blackberry&&!e("-webkit-transform");a.extend(a.mobile,{browser:{}}),a.mobile.browser.oldIE=function(){var a=3,b=c.createElement("div"),d=b.all||[];do b.innerHTML="<!--[if gt IE "+ ++a+"]><br><![endif]-->";while(d[0]);return a>4?a:!a}(),a.extend(a.support,{pushState:"pushState"in history&&"replaceState"in history&&!(b.navigator.userAgent.indexOf("Firefox")>=0&&b.top!==b)&&-1===b.navigator.userAgent.search(/CriOS/),mediaquery:a.mobile.media("only all"),cssPseudoElement:!!e("content"),touchOverflow:!!e("overflowScrolling"),cssTransform3d:g(),boxShadow:!!e("boxShadow")&&!r,fixedPosition:k(),scrollTop:("pageXOffset"in b||"scrollTop"in c.documentElement||"scrollTop"in m[0])&&!p&&!q,dynamicBaseTag:h(),cssPointerEvents:i(),boundingRect:j(),inlineSVG:f}),m.remove(),l=function(){var a=b.navigator.userAgent;return a.indexOf("Nokia")>-1&&(a.indexOf("Symbian/3")>-1||a.indexOf("Series60/5")>-1)&&a.indexOf("AppleWebKit")>-1&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}(),a.mobile.gradeA=function(){return(a.support.mediaquery&&a.support.cssPseudoElement||a.mobile.browser.oldIE&&a.mobile.browser.oldIE>=8)&&(a.support.boundingRect||null!==a.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/))},a.mobile.ajaxBlacklist=b.blackberry&&!b.WebKitPoint||q||l,l&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")}),a.support.boxShadow||a("html").addClass("ui-noboxshadow")}(a),function(a,b){var c,d=a.mobile.window,e=function(){};a.event.special.beforenavigate={setup:function(){d.on("navigate",e)},teardown:function(){d.off("navigate",e)}},a.event.special.navigate=c={bound:!1,pushStateEnabled:!0,originalEventName:b,isPushStateEnabled:function(){return a.support.pushState&&a.mobile.pushStateEnabled===!0&&this.isHashChangeEnabled()},isHashChangeEnabled:function(){return a.mobile.hashListeningEnabled===!0},popstate:function(b){var c=new a.Event("navigate"),e=new a.Event("beforenavigate"),f=b.originalEvent.state||{};e.originalEvent=b,d.trigger(e),e.isDefaultPrevented()||(b.historyState&&a.extend(f,b.historyState),c.originalEvent=b,setTimeout(function(){d.trigger(c,{state:f})},0))},hashchange:function(b){var c=new a.Event("navigate"),e=new a.Event("beforenavigate");e.originalEvent=b,d.trigger(e),e.isDefaultPrevented()||(c.originalEvent=b,d.trigger(c,{state:b.hashchangeState||{}}))},setup:function(){c.bound||(c.bound=!0,c.isPushStateEnabled()?(c.originalEventName="popstate",d.bind("popstate.navigate",c.popstate)):c.isHashChangeEnabled()&&(c.originalEventName="hashchange",d.bind("hashchange.navigate",c.hashchange)))}}}(a),function(a,c){var d,e,f="&ui-state=dialog";a.mobile.path=d={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(a){var b=this.parseUrl(a||location.href),c=a?b:location,d=b.hash;return d="#"===d?"":d,c.protocol+b.doubleSlash+c.host+(""!==c.protocol&&"/"!==c.pathname.substring(0,1)?"/":"")+c.pathname+c.search+d},getDocumentUrl:function(b){return b?a.extend({},d.documentUrl):d.documentUrl.href},parseLocation:function(){return this.parseUrl(this.getLocation())},parseUrl:function(b){if("object"===a.type(b))return b;var c=d.urlParseRE.exec(b||"")||[];return{href:c[0]||"",hrefNoHash:c[1]||"",hrefNoSearch:c[2]||"",domain:c[3]||"",protocol:c[4]||"",doubleSlash:c[5]||"",authority:c[6]||"",username:c[8]||"",password:c[9]||"",host:c[10]||"",hostname:c[11]||"",port:c[12]||"",pathname:c[13]||"",directory:c[14]||"",filename:c[15]||"",search:c[16]||"",hash:c[17]||""}},makePathAbsolute:function(a,b){var c,d,e,f;if(a&&"/"===a.charAt(0))return a;for(a=a||"",b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",c=b?b.split("/"):[],d=a.split("/"),e=0;e<d.length;e++)switch(f=d[e]){case".":break;case"..":c.length&&c.pop();break;default:c.push(f)}return"/"+c.join("/")},isSameDomain:function(a,b){return d.parseUrl(a).domain.toLowerCase()===d.parseUrl(b).domain.toLowerCase()},isRelativeUrl:function(a){return""===d.parseUrl(a).protocol},isAbsoluteUrl:function(a){return""!==d.parseUrl(a).protocol},makeUrlAbsolute:function(a,b){if(!d.isRelativeUrl(a))return a;b===c&&(b=this.documentBase);var e=d.parseUrl(a),f=d.parseUrl(b),g=e.protocol||f.protocol,h=e.protocol?e.doubleSlash:e.doubleSlash||f.doubleSlash,i=e.authority||f.authority,j=""!==e.pathname,k=d.makePathAbsolute(e.pathname||f.filename,f.pathname),l=e.search||!j&&f.search||"",m=e.hash;return g+h+i+k+l+m},addSearchParams:function(b,c){var e=d.parseUrl(b),f="object"==typeof c?a.param(c):c,g=e.search||"?";return e.hrefNoSearch+g+("?"!==g.charAt(g.length-1)?"&":"")+f+(e.hash||"")},convertUrlToDataUrl:function(a){var c=a,e=d.parseUrl(a);return d.isEmbeddedPage(e)?c=e.hash.split(f)[0].replace(/^#/,"").replace(/\?.*$/,""):d.isSameDomain(e,this.documentBase)&&(c=e.hrefNoHash.replace(this.documentBase.domain,"").split(f)[0]),b.decodeURIComponent(c)},get:function(a){return a===c&&(a=d.parseLocation().hash),d.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,"")},set:function(a){location.hash=a},isPath:function(a){return/\//.test(a)},clean:function(a){return a.replace(this.documentBase.domain,"")},stripHash:function(a){return a.replace(/^#/,"")},stripQueryParams:function(a){return a.replace(/\?.*$/,"")},cleanHash:function(a){return d.stripHash(a.replace(/\?.*$/,"").replace(f,""))},isHashValid:function(a){return/^#[^#]+$/.test(a)},isExternal:function(a){var b=d.parseUrl(a);return!(!b.protocol||b.domain.toLowerCase()===this.documentUrl.domain.toLowerCase())},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isEmbeddedPage:function(a){var b=d.parseUrl(a);return""!==b.protocol?!this.isPath(b.hash)&&b.hash&&(b.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&b.hrefNoHash===this.documentBase.hrefNoHash):/^#/.test(b.href)},squash:function(a,b){var c,e,f,g,h,i=this.isPath(a),j=this.parseUrl(a),k=j.hash,l="";return b||(i?b=d.getLocation():(h=d.getDocumentUrl(!0),b=d.isPath(h.hash)?d.squash(h.href):h.href)),e=i?d.stripHash(a):a,e=d.isPath(j.hash)?d.stripHash(j.hash):e,g=e.indexOf(this.uiStateKey),g>-1&&(l=e.slice(g),e=e.slice(0,g)),c=d.makeUrlAbsolute(e,b),f=this.parseUrl(c).search,i?((d.isPath(k)||0===k.replace("#","").indexOf(this.uiStateKey))&&(k=""),l&&-1===k.indexOf(this.uiStateKey)&&(k+=l),-1===k.indexOf("#")&&""!==k&&(k="#"+k),c=d.parseUrl(c),c=c.protocol+c.doubleSlash+c.host+c.pathname+f+k):c+=c.indexOf("#")>-1?l:"#"+l,c},isPreservableHash:function(a){return 0===a.replace("#","").indexOf(this.uiStateKey)},hashToSelector:function(a){var b="#"===a.substring(0,1);return b&&(a=a.substring(1)),(b?"#":"")+a.replace(/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1")},getFilePath:function(a){return a&&a.split(f)[0]},isFirstPageUrl:function(b){var e=d.parseUrl(d.makeUrlAbsolute(b,this.documentBase)),f=e.hrefNoHash===this.documentUrl.hrefNoHash||this.documentBaseDiffers&&e.hrefNoHash===this.documentBase.hrefNoHash,g=a.mobile.firstPage,h=g&&g[0]?g[0].id:c;return f&&(!e.hash||"#"===e.hash||h&&e.hash.replace(/^#/,"")===h)},isPermittedCrossDomainRequest:function(b,c){return a.mobile.allowCrossDomainPages&&("file:"===b.protocol||"content:"===b.protocol)&&-1!==c.search(/^https?:/)}},d.documentUrl=d.parseLocation(),e=a("head").find("base"),d.documentBase=e.length?d.parseUrl(d.makeUrlAbsolute(e.attr("href"),d.documentUrl.href)):d.documentUrl,d.documentBaseDiffers=d.documentUrl.hrefNoHash!==d.documentBase.hrefNoHash,d.getDocumentBase=function(b){return b?a.extend({},d.documentBase):d.documentBase.href},a.extend(a.mobile,{getDocumentUrl:d.getDocumentUrl,getDocumentBase:d.getDocumentBase})}(a),function(a,b){a.mobile.History=function(a,b){this.stack=a||[],this.activeIndex=b||0},a.extend(a.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex]},getLast:function(){return this.stack[this.previousIndex]},getNext:function(){return this.stack[this.activeIndex+1]},getPrev:function(){return this.stack[this.activeIndex-1]},add:function(a,b){b=b||{},this.getNext()&&this.clearForward(),b.hash&&-1===b.hash.indexOf("#")&&(b.hash="#"+b.hash),b.url=a,this.stack.push(b),this.activeIndex=this.stack.length-1},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1)},find:function(a,b,c){b=b||this.stack;var d,e,f,g=b.length;for(e=0;g>e;e++)if(d=b[e],(decodeURIComponent(a)===decodeURIComponent(d.url)||decodeURIComponent(a)===decodeURIComponent(d.hash))&&(f=e,c))return f;return f},closest:function(a){var c,d=this.activeIndex;return c=this.find(a,this.stack.slice(0,d)),c===b&&(c=this.find(a,this.stack.slice(d),!0),c=c===b?c:c+d),c},direct:function(c){var d=this.closest(c.url),e=this.activeIndex;d!==b&&(this.activeIndex=d,this.previousIndex=e),e>d?(c.present||c.back||a.noop)(this.getActive(),"back"):d>e?(c.present||c.forward||a.noop)(this.getActive(),"forward"):d===b&&c.missing&&c.missing(this.getActive())}})}(a),function(a){var d=a.mobile.path,e=location.href;a.mobile.Navigator=function(b){this.history=b,this.ignoreInitialHashChange=!0,a.mobile.window.bind({"popstate.history":a.proxy(this.popstate,this),"hashchange.history":a.proxy(this.hashchange,this)})},a.extend(a.mobile.Navigator.prototype,{squash:function(e,f){var g,h,i=d.isPath(e)?d.stripHash(e):e;return h=d.squash(e),g=a.extend({hash:i,url:h},f),b.history.replaceState(g,g.title||c.title,h),g},hash:function(a,b){var c,e,f,g;return c=d.parseUrl(a),e=d.parseLocation(),e.pathname+e.search===c.pathname+c.search?f=c.hash?c.hash:c.pathname+c.search:d.isPath(a)?(g=d.parseUrl(b),f=g.pathname+g.search+(d.isPreservableHash(g.hash)?g.hash.replace("#",""):"")):f=a,f},go:function(e,f,g){var h,i,j,k,l=a.event.special.navigate.isPushStateEnabled();
i=d.squash(e),j=this.hash(e,i),g&&j!==d.stripHash(d.parseLocation().hash)&&(this.preventNextHashChange=g),this.preventHashAssignPopState=!0,b.location.hash=j,this.preventHashAssignPopState=!1,h=a.extend({url:i,hash:j,title:c.title},f),l&&(k=new a.Event("popstate"),k.originalEvent={type:"popstate",state:null},this.squash(e,h),g||(this.ignorePopState=!0,a.mobile.window.trigger(k))),this.history.add(h.url,h)},popstate:function(b){var c,f;if(a.event.special.navigate.isPushStateEnabled())return this.preventHashAssignPopState?(this.preventHashAssignPopState=!1,void b.stopImmediatePropagation()):this.ignorePopState?void(this.ignorePopState=!1):!b.originalEvent.state&&1===this.history.stack.length&&this.ignoreInitialHashChange&&(this.ignoreInitialHashChange=!1,location.href===e)?void b.preventDefault():(c=d.parseLocation().hash,!b.originalEvent.state&&c?(f=this.squash(c),this.history.add(f.url,f),void(b.historyState=f)):void this.history.direct({url:(b.originalEvent.state||{}).url||c,present:function(c,d){b.historyState=a.extend({},c),b.historyState.direction=d}}))},hashchange:function(b){var e,f;if(a.event.special.navigate.isHashChangeEnabled()&&!a.event.special.navigate.isPushStateEnabled()){if(this.preventNextHashChange)return this.preventNextHashChange=!1,void b.stopImmediatePropagation();e=this.history,f=d.parseLocation().hash,this.history.direct({url:f,present:function(c,d){b.hashchangeState=a.extend({},c),b.hashchangeState.direction=d},missing:function(){e.add(f,{hash:f,title:c.title})}})}}})}(a),function(a){a.mobile.navigate=function(b,c,d){a.mobile.navigate.navigator.go(b,c,d)},a.mobile.navigate.history=new a.mobile.History,a.mobile.navigate.navigator=new a.mobile.Navigator(a.mobile.navigate.history);var b=a.mobile.path.parseLocation();a.mobile.navigate.history.add(b.href,{hash:b.hash})}(a),function(a,b){var d={animation:{},transition:{}},e=c.createElement("a"),f=["","webkit-","moz-","o-"];a.each(["animation","transition"],function(c,g){var h=0===c?g+"-name":g;a.each(f,function(c,f){return e.style[a.camelCase(f+h)]!==b?(d[g].prefix=f,!1):void 0}),d[g].duration=a.camelCase(d[g].prefix+g+"-duration"),d[g].event=a.camelCase(d[g].prefix+g+"-end"),""===d[g].prefix&&(d[g].event=d[g].event.toLowerCase())}),a.support.cssTransitions=d.transition.prefix!==b,a.support.cssAnimations=d.animation.prefix!==b,a(e).remove(),a.fn.animationComplete=function(e,f,g){var h,i,j=this,k=function(){clearTimeout(h),e.apply(this,arguments)},l=f&&"animation"!==f?"transition":"animation";return a.support.cssTransitions&&"transition"===l||a.support.cssAnimations&&"animation"===l?(g===b&&(a(this).context!==c&&(i=3e3*parseFloat(a(this).css(d[l].duration))),(0===i||i===b||isNaN(i))&&(i=a.fn.animationComplete.defaultDuration)),h=setTimeout(function(){a(j).off(d[l].event,k),e.apply(j)},i),a(this).one(d[l].event,k)):(setTimeout(a.proxy(e,this),0),a(this))},a.fn.animationComplete.defaultDuration=1e3}(a),function(a,b,c,d){function e(a){for(;a&&"undefined"!=typeof a.originalEvent;)a=a.originalEvent;return a}function f(b,c){var f,g,h,i,j,k,l,m,n,o=b.type;if(b=a.Event(b),b.type=c,f=b.originalEvent,g=a.event.props,o.search(/^(mouse|click)/)>-1&&(g=E),f)for(l=g.length,i;l;)i=g[--l],b[i]=f[i];if(o.search(/mouse(down|up)|click/)>-1&&!b.which&&(b.which=1),-1!==o.search(/^touch/)&&(h=e(f),o=h.touches,j=h.changedTouches,k=o&&o.length?o[0]:j&&j.length?j[0]:d))for(m=0,n=C.length;n>m;m++)i=C[m],b[i]=k[i];return b}function g(b){for(var c,d,e={};b;){c=a.data(b,z);for(d in c)c[d]&&(e[d]=e.hasVirtualBinding=!0);b=b.parentNode}return e}function h(b,c){for(var d;b;){if(d=a.data(b,z),d&&(!c||d[c]))return b;b=b.parentNode}return null}function i(){M=!1}function j(){M=!0}function k(){Q=0,K.length=0,L=!1,j()}function l(){i()}function m(){n(),G=setTimeout(function(){G=0,k()},a.vmouse.resetTimerDuration)}function n(){G&&(clearTimeout(G),G=0)}function o(b,c,d){var e;return(d&&d[b]||!d&&h(c.target,b))&&(e=f(c,b),a(c.target).trigger(e)),e}function p(b){var c,d=a.data(b.target,A);L||Q&&Q===d||(c=o("v"+b.type,b),c&&(c.isDefaultPrevented()&&b.preventDefault(),c.isPropagationStopped()&&b.stopPropagation(),c.isImmediatePropagationStopped()&&b.stopImmediatePropagation()))}function q(b){var c,d,f,h=e(b).touches;h&&1===h.length&&(c=b.target,d=g(c),d.hasVirtualBinding&&(Q=P++,a.data(c,A,Q),n(),l(),J=!1,f=e(b).touches[0],H=f.pageX,I=f.pageY,o("vmouseover",b,d),o("vmousedown",b,d)))}function r(a){M||(J||o("vmousecancel",a,g(a.target)),J=!0,m())}function s(b){if(!M){var c=e(b).touches[0],d=J,f=a.vmouse.moveDistanceThreshold,h=g(b.target);J=J||Math.abs(c.pageX-H)>f||Math.abs(c.pageY-I)>f,J&&!d&&o("vmousecancel",b,h),o("vmousemove",b,h),m()}}function t(a){if(!M){j();var b,c,d=g(a.target);o("vmouseup",a,d),J||(b=o("vclick",a,d),b&&b.isDefaultPrevented()&&(c=e(a).changedTouches[0],K.push({touchID:Q,x:c.clientX,y:c.clientY}),L=!0)),o("vmouseout",a,d),J=!1,m()}}function u(b){var c,d=a.data(b,z);if(d)for(c in d)if(d[c])return!0;return!1}function v(){}function w(b){var c=b.substr(1);return{setup:function(){u(this)||a.data(this,z,{});var d=a.data(this,z);d[b]=!0,F[b]=(F[b]||0)+1,1===F[b]&&O.bind(c,p),a(this).bind(c,v),N&&(F.touchstart=(F.touchstart||0)+1,1===F.touchstart&&O.bind("touchstart",q).bind("touchend",t).bind("touchmove",s).bind("scroll",r))},teardown:function(){--F[b],F[b]||O.unbind(c,p),N&&(--F.touchstart,F.touchstart||O.unbind("touchstart",q).unbind("touchmove",s).unbind("touchend",t).unbind("scroll",r));var d=a(this),e=a.data(this,z);e&&(e[b]=!1),d.unbind(c,v),u(this)||d.removeData(z)}}}var x,y,z="virtualMouseBindings",A="virtualTouchID",B="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),C="clientX clientY pageX pageY screenX screenY".split(" "),D=a.event.mouseHooks?a.event.mouseHooks.props:[],E=a.event.props.concat(D),F={},G=0,H=0,I=0,J=!1,K=[],L=!1,M=!1,N="addEventListener"in c,O=a(c),P=1,Q=0;for(a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},y=0;y<B.length;y++)a.event.special[B[y]]=w(B[y]);N&&c.addEventListener("click",function(b){var c,d,e,f,g,h,i=K.length,j=b.target;if(i)for(c=b.clientX,d=b.clientY,x=a.vmouse.clickDistanceThreshold,e=j;e;){for(f=0;i>f;f++)if(g=K[f],h=0,e===j&&Math.abs(g.x-c)<x&&Math.abs(g.y-d)<x||a.data(e,A)===g.touchID)return b.preventDefault(),void b.stopPropagation();e=e.parentNode}},!0)}(a,b,c),function(a,b,d){function e(b,c,e,f){var g=e.type;e.type=c,f?a.event.trigger(e,d,b):a.event.dispatch.call(b,e),e.type=g}var f=a(c),g=a.mobile.support.touch,h="touchmove scroll",i=g?"touchstart":"mousedown",j=g?"touchend":"mouseup",k=g?"touchmove":"mousemove";a.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger(c)},a.attrFn&&(a.attrFn[c]=!0)}),a.event.special.scrollstart={enabled:!0,setup:function(){function b(a,b){c=b,e(f,c?"scrollstart":"scrollstop",a)}var c,d,f=this,g=a(f);g.bind(h,function(e){a.event.special.scrollstart.enabled&&(c||b(e,!0),clearTimeout(d),d=setTimeout(function(){b(e,!1)},50))})},teardown:function(){a(this).unbind(h)}},a.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var b=this,c=a(b),d=!1;c.bind("vmousedown",function(g){function h(){clearTimeout(k)}function i(){h(),c.unbind("vclick",j).unbind("vmouseup",h),f.unbind("vmousecancel",i)}function j(a){i(),d||l!==a.target?d&&a.preventDefault():e(b,"tap",a)}if(d=!1,g.which&&1!==g.which)return!1;var k,l=g.target;c.bind("vmouseup",h).bind("vclick",j),f.bind("vmousecancel",i),k=setTimeout(function(){a.event.special.tap.emitTapOnTaphold||(d=!0),e(b,"taphold",a.Event("taphold",{target:l}))},a.event.special.tap.tapholdThreshold)})},teardown:function(){a(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),f.unbind("vmousecancel")}},a.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(a){var c=b.pageXOffset,d=b.pageYOffset,e=a.clientX,f=a.clientY;return 0===a.pageY&&Math.floor(f)>Math.floor(a.pageY)||0===a.pageX&&Math.floor(e)>Math.floor(a.pageX)?(e-=c,f-=d):(f<a.pageY-d||e<a.pageX-c)&&(e=a.pageX-c,f=a.pageY-d),{x:e,y:f}},start:function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b,d=a.event.special.swipe.getLocation(c);return{time:(new Date).getTime(),coords:[d.x,d.y],origin:a(b.target)}},stop:function(b){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b,d=a.event.special.swipe.getLocation(c);return{time:(new Date).getTime(),coords:[d.x,d.y]}},handleSwipe:function(b,c,d,f){if(c.time-b.time<a.event.special.swipe.durationThreshold&&Math.abs(b.coords[0]-c.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(b.coords[1]-c.coords[1])<a.event.special.swipe.verticalDistanceThreshold){var g=b.coords[0]>c.coords[0]?"swipeleft":"swiperight";return e(d,"swipe",a.Event("swipe",{target:f,swipestart:b,swipestop:c}),!0),e(d,g,a.Event(g,{target:f,swipestart:b,swipestop:c}),!0),!0}return!1},eventInProgress:!1,setup:function(){var b,c=this,d=a(c),e={};b=a.data(this,"mobile-events"),b||(b={length:0},a.data(this,"mobile-events",b)),b.length++,b.swipe=e,e.start=function(b){if(!a.event.special.swipe.eventInProgress){a.event.special.swipe.eventInProgress=!0;var d,g=a.event.special.swipe.start(b),h=b.target,i=!1;e.move=function(b){g&&!b.isDefaultPrevented()&&(d=a.event.special.swipe.stop(b),i||(i=a.event.special.swipe.handleSwipe(g,d,c,h),i&&(a.event.special.swipe.eventInProgress=!1)),Math.abs(g.coords[0]-d.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault())},e.stop=function(){i=!0,a.event.special.swipe.eventInProgress=!1,f.off(k,e.move),e.move=null},f.on(k,e.move).one(j,e.stop)}},d.on(i,e.start)},teardown:function(){var b,c;b=a.data(this,"mobile-events"),b&&(c=b.swipe,delete b.swipe,b.length--,0===b.length&&a.removeData(this,"mobile-events")),c&&(c.start&&a(this).off(i,c.start),c.move&&f.off(k,c.move),c.stop&&f.off(j,c.stop))}},a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(b,c){a.event.special[b]={setup:function(){a(this).bind(c,a.noop)},teardown:function(){a(this).unbind(c)}}})}(a,this),function(a){a.event.special.throttledresize={setup:function(){a(this).bind("resize",f)},teardown:function(){a(this).unbind("resize",f)}};var b,c,d,e=250,f=function(){c=(new Date).getTime(),d=c-g,d>=e?(g=c,a(this).trigger("throttledresize")):(b&&clearTimeout(b),b=setTimeout(f,e-d))},g=0}(a),function(a,b){function d(){var a=e();a!==f&&(f=a,l.trigger(m))}var e,f,g,h,i,j,k,l=a(b),m="orientationchange",n={0:!0,180:!0};a.support.orientation&&(i=b.innerWidth||l.width(),j=b.innerHeight||l.height(),k=50,g=i>j&&i-j>k,h=n[b.orientation],(g&&h||!g&&!h)&&(n={"-90":!0,90:!0})),a.event.special.orientationchange=a.extend({},a.event.special.orientationchange,{setup:function(){return a.support.orientation&&!a.event.special.orientationchange.disabled?!1:(f=e(),void l.bind("throttledresize",d))},teardown:function(){return a.support.orientation&&!a.event.special.orientationchange.disabled?!1:void l.unbind("throttledresize",d)},add:function(a){var b=a.handler;a.handler=function(a){return a.orientation=e(),b.apply(this,arguments)}}}),a.event.special.orientationchange.orientation=e=function(){var d=!0,e=c.documentElement;return d=a.support.orientation?n[b.orientation]:e&&e.clientWidth/e.clientHeight<1.1,d?"portrait":"landscape"},a.fn[m]=function(a){return a?this.bind(m,a):this.trigger(m)},a.attrFn&&(a.attrFn[m]=!0)}(a,this),function(a){var b=a("head").children("base"),c={element:b.length?b:a("<base>",{href:a.mobile.path.documentBase.hrefNoHash}).prependTo(a("head")),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(b){a.mobile.dynamicBaseEnabled&&a.support.dynamicBaseTag&&c.element.attr("href",a.mobile.path.makeUrlAbsolute(b,a.mobile.path.documentBase))},rewrite:function(b,d){var e=a.mobile.path.get(b);d.find(c.linkSelector).each(function(b,c){var d=a(c).is("[href]")?"href":a(c).is("[src]")?"src":"action",f=a.mobile.path.parseLocation(),g=a(c).attr(d);g=g.replace(f.protocol+f.doubleSlash+f.host+f.pathname,""),/^(\w+:|#|\/)/.test(g)||a(c).attr(d,e+g)})},reset:function(){c.element.attr("href",a.mobile.path.documentBase.hrefNoSearch)}};a.mobile.base=c}(a),function(a,b){a.mobile.widgets={};var c=a.widget,d=a.mobile.keepNative;a.widget=function(c){return function(){var d=c.apply(this,arguments),e=d.prototype.widgetName;return d.initSelector=d.prototype.initSelector!==b?d.prototype.initSelector:":jqmData(role='"+e+"')",a.mobile.widgets[e]=d,d}}(a.widget),a.extend(a.widget,c),a.mobile.document.on("create",function(b){a(b.target).enhanceWithin()}),a.widget("mobile.page",{options:{theme:"a",domCache:!1,keepNativeDefault:a.mobile.keepNative,contentTheme:null,enhanced:!1},_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments),this._trigger("init")},_create:function(){return this._trigger("beforecreate")===!1?!1:(this.options.enhanced||this._enhance(),this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"}),this.element.enhanceWithin(),void("dialog"===a.mobile.getAttribute(this.element[0],"role")&&a.mobile.dialog&&this.element.dialog()))},_enhance:function(){var c="data-"+a.mobile.ns,d=this;this.options.role&&this.element.attr("data-"+a.mobile.ns+"role",this.options.role),this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme),this.element.find("["+c+"role='content']").each(function(){var e=a(this),f=this.getAttribute(c+"theme")||b;d.options.contentTheme=f||d.options.contentTheme||d.options.dialog&&d.options.theme||"dialog"===d.element.jqmData("role")&&d.options.theme,e.addClass("ui-content"),d.options.contentTheme&&e.addClass("ui-body-"+d.options.contentTheme),e.attr("role","main").addClass("ui-content")})},bindRemove:function(b){var c=this.element;!c.data("mobile-page").options.domCache&&c.is(":jqmData(external-page='true')")&&c.bind("pagehide.remove",b||function(b,c){if(!c.samePage){var d=a(this),e=new a.Event("pageremove");d.trigger(e),e.isDefaultPrevented()||d.removeWithDependents()}})},_setOptions:function(c){c.theme!==b&&this.element.removeClass("ui-page-theme-"+this.options.theme).addClass("ui-page-theme-"+c.theme),c.contentTheme!==b&&this.element.find("[data-"+a.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+c.contentTheme)},_handlePageBeforeShow:function(){this.setContainerBackground()},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({theme:"none"})},setContainerBackground:function(a){this.element.parent().pagecontainer({theme:a||this.options.theme})},keepNativeSelector:function(){var b=this.options,c=a.trim(b.keepNative||""),e=a.trim(a.mobile.keepNative),f=a.trim(b.keepNativeDefault),g=d===e?"":e,h=""===g?f:"";return(c?[c]:[]).concat(g?[g]:[]).concat(h?[h]:[]).join(", ")}})}(a),function(a,d){a.widget("mobile.pagecontainer",{options:{theme:"a"},initSelector:!1,_create:function(){this._trigger("beforecreate"),this.setLastScrollEnabled=!0,this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"}),this._on(this.window,{navigate:"_filterNavigateEvents"}),this._on({pagechange:"_afterContentChange"}),this.window.one("navigate",a.proxy(function(){this.setLastScrollEnabled=!0},this))},_setOptions:function(a){a.theme!==d&&"none"!==a.theme?this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+a.theme):a.theme!==d&&this.element.removeClass("ui-overlay-"+this.options.theme),this._super(a)},_disableRecordScroll:function(){this.setLastScrollEnabled=!1},_enableRecordScroll:function(){this.setLastScrollEnabled=!0},_afterContentChange:function(){this.setLastScrollEnabled=!0,this._off(this.window,"scrollstop"),this._on(this.window,{scrollstop:"_delayedRecordScroll"})},_recordScroll:function(){if(this.setLastScrollEnabled){var a,b,c,d=this._getActiveHistory();d&&(a=this._getScroll(),b=this._getMinScroll(),c=this._getDefaultScroll(),d.lastScroll=b>a?c:a)}},_delayedRecordScroll:function(){setTimeout(a.proxy(this,"_recordScroll"),100)},_getScroll:function(){return this.window.scrollTop()},_getMinScroll:function(){return a.mobile.minScrollBack},_getDefaultScroll:function(){return a.mobile.defaultHomeScroll},_filterNavigateEvents:function(b,c){var d;b.originalEvent&&b.originalEvent.isDefaultPrevented()||(d=b.originalEvent.type.indexOf("hashchange")>-1?c.state.hash:c.state.url,d||(d=this._getHash()),d&&"#"!==d&&0!==d.indexOf("#"+a.mobile.path.uiStateKey)||(d=location.href),this._handleNavigate(d,c.state))},_getHash:function(){return a.mobile.path.parseLocation().hash},getActivePage:function(){return this.activePage},_getInitialContent:function(){return a.mobile.firstPage},_getHistory:function(){return a.mobile.navigate.history},_getActiveHistory:function(){return this._getHistory().getActive()},_getDocumentBase:function(){return a.mobile.path.documentBase},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(c){if(a.mobile.hashListeningEnabled)b.history.go(c);else{var d=a.mobile.navigate.history.activeIndex,e=d+parseInt(c,10),f=a.mobile.navigate.history.stack[e].url,g=c>=1?"forward":"back";a.mobile.navigate.history.activeIndex=e,a.mobile.navigate.history.previousIndex=d,this.change(f,{direction:g,changeHash:!1,fromHashChange:!0})}},_handleDestination:function(b){var c;return"string"===a.type(b)&&(b=a.mobile.path.stripHash(b)),b&&(c=this._getHistory(),b=a.mobile.path.isPath(b)?b:a.mobile.path.makeUrlAbsolute("#"+b,this._getDocumentBase())),b||this._getInitialContent()},_transitionFromHistory:function(a,b){var c=this._getHistory(),d="back"===a?c.getLast():c.getActive();return d&&d.transition||b},_handleDialog:function(b,c){var d,e,f=this.getActivePage();return f&&!f.data("mobile-dialog")?("back"===c.direction?this.back():this.forward(),!1):(d=c.pageUrl,e=this._getActiveHistory(),a.extend(b,{role:e.role,transition:this._transitionFromHistory(c.direction,b.transition),reverse:"back"===c.direction}),d)},_handleNavigate:function(b,c){var d=a.mobile.path.stripHash(b),e=this._getHistory(),f=0===e.stack.length?"none":this._transitionFromHistory(c.direction),g={changeHash:!1,fromHashChange:!0,reverse:"back"===c.direction};a.extend(g,c,{transition:f}),e.activeIndex>0&&d.indexOf(a.mobile.dialogHashKey)>-1&&(d=this._handleDialog(g,c),d===!1)||this._changeContent(this._handleDestination(d),g)},_changeContent:function(b,c){a.mobile.changePage(b,c)},_getBase:function(){return a.mobile.base},_getNs:function(){return a.mobile.ns},_enhance:function(a,b){return a.page({role:b})},_include:function(a,b){a.appendTo(this.element),this._enhance(a,b.role),a.page("bindRemove")},_find:function(b){var c,d=this._createFileUrl(b),e=this._createDataUrl(b),f=this._getInitialContent();return c=this.element.children("[data-"+this._getNs()+"url='"+a.mobile.path.hashToSelector(e)+"']"),0===c.length&&e&&!a.mobile.path.isPath(e)&&(c=this.element.children(a.mobile.path.hashToSelector("#"+e)).attr("data-"+this._getNs()+"url",e).jqmData("url",e)),0===c.length&&a.mobile.path.isFirstPageUrl(d)&&f&&f.parent().length&&(c=a(f)),c},_getLoader:function(){return a.mobile.loading()},_showLoading:function(b,c,d,e){this._loadMsg||(this._loadMsg=setTimeout(a.proxy(function(){this._getLoader().loader("show",c,d,e),this._loadMsg=0},this),b))},_hideLoading:function(){clearTimeout(this._loadMsg),this._loadMsg=0,this._getLoader().loader("hide")},_showError:function(){this._hideLoading(),this._showLoading(0,a.mobile.pageLoadErrorMessageTheme,a.mobile.pageLoadErrorMessage,!0),setTimeout(a.proxy(this,"_hideLoading"),1500)},_parse:function(b,c){var d,e=a("<div></div>");return e.get(0).innerHTML=b,d=e.find(":jqmData(role='page'), :jqmData(role='dialog')").first(),d.length||(d=a("<div data-"+this._getNs()+"role='page'>"+(b.split(/<\/?body[^>]*>/gim)[1]||"")+"</div>")),d.attr("data-"+this._getNs()+"url",this._createDataUrl(c)).attr("data-"+this._getNs()+"external-page",!0),d},_setLoadedTitle:function(b,c){var d=c.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;d&&!b.jqmData("title")&&(d=a("<div>"+d+"</div>").text(),b.jqmData("title",d))},_isRewritableBaseTag:function(){return a.mobile.dynamicBaseEnabled&&!a.support.dynamicBaseTag},_createDataUrl:function(b){return a.mobile.path.convertUrlToDataUrl(b)},_createFileUrl:function(b){return a.mobile.path.getFilePath(b)},_triggerWithDeprecated:function(b,c,d){var e=a.Event("page"+b),f=a.Event(this.widgetName+b);return(d||this.element).trigger(e,c),this._trigger(b,f,c),{deprecatedEvent:e,event:f}},_loadSuccess:function(b,c,e,f){var g=this._createFileUrl(b);return a.proxy(function(h,i,j){var k,l=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),m=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");l.test(h)&&RegExp.$1&&m.test(RegExp.$1)&&RegExp.$1&&(g=a.mobile.path.getFilePath(a("<div>"+RegExp.$1+"</div>").text()),g=this.window[0].encodeURIComponent(g)),e.prefetch===d&&this._getBase().set(g),k=this._parse(h,g),this._setLoadedTitle(k,h),c.xhr=j,c.textStatus=i,c.page=k,c.content=k,c.toPage=k,this._triggerWithDeprecated("load",c).event.isDefaultPrevented()||(this._isRewritableBaseTag()&&k&&this._getBase().rewrite(g,k),this._include(k,e),e.showLoadMsg&&this._hideLoading(),f.resolve(b,e,k))},this)},_loadDefaults:{type:"get",data:d,reloadPage:!1,reload:!1,role:d,showLoadMsg:!1,loadMsgDelay:50},load:function(b,c){var e,f,g,h,i=c&&c.deferred||a.Deferred(),j=c&&c.reload===d&&c.reloadPage!==d?{reload:c.reloadPage}:{},k=a.extend({},this._loadDefaults,c,j),l=null,m=a.mobile.path.makeUrlAbsolute(b,this._findBaseWithDefault());return k.data&&"get"===k.type&&(m=a.mobile.path.addSearchParams(m,k.data),k.data=d),k.data&&"post"===k.type&&(k.reload=!0),e=this._createFileUrl(m),f=this._createDataUrl(m),l=this._find(m),0===l.length&&a.mobile.path.isEmbeddedPage(e)&&!a.mobile.path.isFirstPageUrl(e)?(i.reject(m,k),i.promise()):(this._getBase().reset(),l.length&&!k.reload?(this._enhance(l,k.role),i.resolve(m,k,l),k.prefetch||this._getBase().set(b),i.promise()):(h={url:b,absUrl:m,toPage:b,prevPage:c?c.fromPage:d,dataUrl:f,deferred:i,options:k},g=this._triggerWithDeprecated("beforeload",h),g.deprecatedEvent.isDefaultPrevented()||g.event.isDefaultPrevented()?i.promise():(k.showLoadMsg&&this._showLoading(k.loadMsgDelay),k.prefetch===d&&this._getBase().reset(),a.mobile.allowCrossDomainPages||a.mobile.path.isSameDomain(a.mobile.path.documentUrl,m)?(a.ajax({url:e,type:k.type,data:k.data,contentType:k.contentType,dataType:"html",success:this._loadSuccess(m,h,k,i),error:this._loadError(m,h,k,i)}),i.promise()):(i.reject(m,k),i.promise()))))},_loadError:function(b,c,d,e){return a.proxy(function(f,g,h){this._getBase().set(a.mobile.path.get()),c.xhr=f,c.textStatus=g,c.errorThrown=h;var i=this._triggerWithDeprecated("loadfailed",c);i.deprecatedEvent.isDefaultPrevented()||i.event.isDefaultPrevented()||(d.showLoadMsg&&this._showError(),e.reject(b,d))},this)},_getTransitionHandler:function(b){return b=a.mobile._maybeDegradeTransition(b),a.mobile.transitionHandlers[b]||a.mobile.defaultTransitionHandler},_triggerCssTransitionEvents:function(b,c,d){var e=!1;d=d||"",c&&(b[0]===c[0]&&(e=!0),this._triggerWithDeprecated(d+"hide",{nextPage:b,toPage:b,prevPage:c,samePage:e},c)),this._triggerWithDeprecated(d+"show",{prevPage:c||a(""),toPage:b},b)},_cssTransition:function(b,c,d){var e,f,g=d.transition,h=d.reverse,i=d.deferred;this._triggerCssTransitionEvents(b,c,"before"),this._hideLoading(),e=this._getTransitionHandler(g),f=new e(g,h,b,c).transition(),f.done(a.proxy(function(){this._triggerCssTransitionEvents(b,c)},this)),f.done(function(){i.resolve.apply(i,arguments)})},_releaseTransitionLock:function(){f=!1,e.length>0&&a.mobile.changePage.apply(null,e.pop())},_removeActiveLinkClass:function(b){a.mobile.removeActiveLinkClass(b)},_loadUrl:function(b,c,d){d.target=b,d.deferred=a.Deferred(),this.load(b,d),d.deferred.done(a.proxy(function(a,b,d){f=!1,b.absUrl=c.absUrl,this.transition(d,c,b)},this)),d.deferred.fail(a.proxy(function(){this._removeActiveLinkClass(!0),this._releaseTransitionLock(),this._triggerWithDeprecated("changefailed",c)},this))},_triggerPageBeforeChange:function(b,c,d){var e;return c.prevPage=this.activePage,a.extend(c,{toPage:b,options:d}),c.absUrl="string"===a.type(b)?a.mobile.path.makeUrlAbsolute(b,this._findBaseWithDefault()):d.absUrl,e=this._triggerWithDeprecated("beforechange",c),e.event.isDefaultPrevented()||e.deprecatedEvent.isDefaultPrevented()?!1:!0},change:function(b,c){if(f)return void e.unshift(arguments);var d=a.extend({},a.mobile.changePage.defaults,c),g={};d.fromPage=d.fromPage||this.activePage,this._triggerPageBeforeChange(b,g,d)&&(b=g.toPage,"string"===a.type(b)?(f=!0,this._loadUrl(b,g,d)):this.transition(b,g,d))},transition:function(b,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(f)return void e.unshift([b,h]);if(this._triggerPageBeforeChange(b,g,h)&&(g.prevPage=h.fromPage,v=this._triggerWithDeprecated("beforetransition",g),!v.deprecatedEvent.isDefaultPrevented()&&!v.event.isDefaultPrevented())){if(f=!0,b[0]!==a.mobile.firstPage[0]||h.dataUrl||(h.dataUrl=a.mobile.path.documentUrl.hrefNoHash),i=h.fromPage,j=h.dataUrl&&a.mobile.path.convertUrlToDataUrl(h.dataUrl)||b.jqmData("url"),k=j,l=a.mobile.path.getFilePath(j),m=a.mobile.navigate.history.getActive(),n=0===a.mobile.navigate.history.activeIndex,o=0,p=c.title,q=("dialog"===h.role||"dialog"===b.jqmData("role"))&&b.jqmData("dialog")!==!0,i&&i[0]===b[0]&&!h.allowSamePageTransition)return f=!1,this._triggerWithDeprecated("transition",g),this._triggerWithDeprecated("change",g),void(h.fromHashChange&&a.mobile.navigate.history.direct({url:j}));b.page({role:h.role}),h.fromHashChange&&(o="back"===h.direction?-1:1);try{c.activeElement&&"body"!==c.activeElement.nodeName.toLowerCase()?a(c.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(w){}r=!1,q&&m&&(m.url&&m.url.indexOf(a.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-dialog")&&a.mobile.navigate.history.activeIndex>0&&(h.changeHash=!1,r=!0),j=m.url||"",j+=!r&&j.indexOf("#")>-1?a.mobile.dialogHashKey:"#"+a.mobile.dialogHashKey),s=m?b.jqmData("title")||b.children(":jqmData(role='header')").find(".ui-title").text():p,s&&p===c.title&&(p=s),b.jqmData("title")||b.jqmData("title",p),h.transition=h.transition||(o&&!n?m.transition:d)||(q?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition),!o&&r&&(a.mobile.navigate.history.getActive().pageUrl=k),j&&!h.fromHashChange&&(!a.mobile.path.isPath(j)&&j.indexOf("#")<0&&(j="#"+j),t={transition:h.transition,title:p,pageUrl:k,role:h.role},h.changeHash!==!1&&a.mobile.hashListeningEnabled?a.mobile.navigate(this.window[0].encodeURI(j),t,!0):b[0]!==a.mobile.firstPage[0]&&a.mobile.navigate.history.add(j,t)),c.title=p,a.mobile.activePage=b,this.activePage=b,h.reverse=h.reverse||0>o,u=a.Deferred(),this._cssTransition(b,i,{transition:h.transition,reverse:h.reverse,deferred:u}),u.done(a.proxy(function(c,d,e,f,i){a.mobile.removeActiveLinkClass(),h.duplicateCachedPage&&h.duplicateCachedPage.remove(),i||a.mobile.focusPage(b),this._releaseTransitionLock(),this._triggerWithDeprecated("transition",g),this._triggerWithDeprecated("change",g)},this))}},_findBaseWithDefault:function(){var b=this.activePage&&a.mobile.getClosestBaseUrl(this.activePage);return b||a.mobile.path.documentBase.hrefNoHash}}),a.mobile.navreadyDeferred=a.Deferred();var e=[],f=!1}(a),function(a,d){function e(a){for(;a&&("string"!=typeof a.nodeName||"a"!==a.nodeName.toLowerCase());)a=a.parentNode;return a}var f=a.Deferred(),g=a.Deferred(),h=function(){g.resolve(),g=null},i=a.mobile.path.documentUrl,j=null;a.mobile.loadPage=function(b,c){var d;return c=c||{},d=c.pageContainer||a.mobile.pageContainer,c.deferred=a.Deferred(),d.pagecontainer("load",b,c),c.deferred.promise()},a.mobile.back=function(){var c=b.navigator;this.phonegapNavigationEnabled&&c&&c.app&&c.app.backHistory?c.app.backHistory():a.mobile.pageContainer.pagecontainer("back")},a.mobile.focusPage=function(a){var b=a.find("[autofocus]"),c=a.find(".ui-title:eq(0)");return b.length?void b.focus():void(c.length?c.focus():a.focus())},a.mobile._maybeDegradeTransition=a.mobile._maybeDegradeTransition||function(a){return a},a.mobile.changePage=function(b,c){a.mobile.pageContainer.pagecontainer("change",b,c)},a.mobile.changePage.defaults={transition:d,reverse:!1,changeHash:!0,fromHashChange:!1,role:d,duplicateCachedPage:d,pageContainer:d,showLoadMsg:!0,dataUrl:d,fromPage:d,allowSamePageTransition:!1},a.mobile._registerInternalEvents=function(){var c=function(b,c){var d,e,f,g,h=!0;return!a.mobile.ajaxEnabled||b.is(":jqmData(ajax='false')")||!b.jqmHijackable().length||b.attr("target")?!1:(d=j&&j.attr("formaction")||b.attr("action"),g=(b.attr("method")||"get").toLowerCase(),d||(d=a.mobile.getClosestBaseUrl(b),"get"===g&&(d=a.mobile.path.parseUrl(d).hrefNoSearch),d===a.mobile.path.documentBase.hrefNoHash&&(d=i.hrefNoSearch)),d=a.mobile.path.makeUrlAbsolute(d,a.mobile.getClosestBaseUrl(b)),a.mobile.path.isExternal(d)&&!a.mobile.path.isPermittedCrossDomainRequest(i,d)?!1:(c||(e=b.serializeArray(),j&&j[0].form===b[0]&&(f=j.attr("name"),f&&(a.each(e,function(a,b){return b.name===f?(f="",!1):void 0}),f&&e.push({name:f,value:j.attr("value")}))),h={url:d,options:{type:g,data:a.param(e),transition:b.jqmData("transition"),reverse:"reverse"===b.jqmData("direction"),reloadPage:!0}}),h))};a.mobile.document.delegate("form","submit",function(b){var d;b.isDefaultPrevented()||(d=c(a(this)),d&&(a.mobile.changePage(d.url,d.options),b.preventDefault()))}),a.mobile.document.bind("vclick",function(b){var d,f,g=b.target,h=!1;if(!(b.which>1)&&a.mobile.linkBindingEnabled){if(j=a(g),a.data(g,"mobile-button")){if(!c(a(g).closest("form"),!0))return;g.parentNode&&(g=g.parentNode)}else{if(g=e(g),!g||"#"===a.mobile.path.parseUrl(g.getAttribute("href")||"#").hash)return;if(!a(g).jqmHijackable().length)return}~g.className.indexOf("ui-link-inherit")?g.parentNode&&(f=a.data(g.parentNode,"buttonElements")):f=a.data(g,"buttonElements"),f?g=f.outer:h=!0,d=a(g),h&&(d=d.closest(".ui-btn")),d.length>0&&!d.hasClass("ui-state-disabled")&&(a.mobile.removeActiveLinkClass(!0),a.mobile.activeClickedLink=d,a.mobile.activeClickedLink.addClass(a.mobile.activeBtnClass))}}),a.mobile.document.bind("click",function(c){if(a.mobile.linkBindingEnabled&&!c.isDefaultPrevented()){var f,g,h,j,k,l,m,n=e(c.target),o=a(n),p=function(){b.setTimeout(function(){a.mobile.removeActiveLinkClass(!0)},200)};if(a.mobile.activeClickedLink&&a.mobile.activeClickedLink[0]===c.target.parentNode&&p(),n&&!(c.which>1)&&o.jqmHijackable().length){if(o.is(":jqmData(rel='back')"))return a.mobile.back(),!1;if(f=a.mobile.getClosestBaseUrl(o),g=a.mobile.path.makeUrlAbsolute(o.attr("href")||"#",f),!a.mobile.ajaxEnabled&&!a.mobile.path.isEmbeddedPage(g))return void p();if(!(-1===g.search("#")||a.mobile.path.isExternal(g)&&a.mobile.path.isAbsoluteUrl(g))){if(g=g.replace(/[^#]*#/,""),!g)return void c.preventDefault();g=a.mobile.path.isPath(g)?a.mobile.path.makeUrlAbsolute(g,f):a.mobile.path.makeUrlAbsolute("#"+g,i.hrefNoHash)}if(h=o.is("[rel='external']")||o.is(":jqmData(ajax='false')")||o.is("[target]"),j=h||a.mobile.path.isExternal(g)&&!a.mobile.path.isPermittedCrossDomainRequest(i,g))return void p();k=o.jqmData("transition"),l="reverse"===o.jqmData("direction")||o.jqmData("back"),m=o.attr("data-"+a.mobile.ns+"rel")||d,a.mobile.changePage(g,{transition:k,reverse:l,role:m,link:o}),c.preventDefault()}}}),a.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var b=[];a(this).find("a:jqmData(prefetch)").each(function(){var c=a(this),d=c.attr("href");d&&-1===a.inArray(d,b)&&(b.push(d),a.mobile.loadPage(d,{role:c.attr("data-"+a.mobile.ns+"rel"),prefetch:!0}))})}),a.mobile.pageContainer.pagecontainer(),a.mobile.document.bind("pageshow",function(){g?g.done(a.mobile.resetActivePageHeight):a.mobile.resetActivePageHeight()
}),a.mobile.window.bind("throttledresize",a.mobile.resetActivePageHeight)},a(function(){f.resolve()}),"complete"===c.readyState?h():a.mobile.window.load(h),a.when(f,a.mobile.navreadyDeferred).done(function(){a.mobile._registerInternalEvents()})}(a),function(a,b){a.mobile.Transition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(b,c,d,e){a.extend(this,{name:b,reverse:c,$to:d,$from:e,deferred:new a.Deferred})},cleanFrom:function(){this.$from.removeClass(a.mobile.activePageClass+" out in reverse "+this.name).height("")},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn(),this.$to.removeClass("out in reverse "+this.name).height(""),this.toggleViewportClass(),a.mobile.window.scrollTop()!==this.toScroll&&this.scrollPage(),this.sequential||this.$to.addClass(a.mobile.activePageClass),this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,!0)},doneOut:function(a,b,c,d){this.beforeDoneOut(),this.startIn(a,b,c,d)},hideIn:function(a){this.$to.css("z-index",-10),a.call(this),this.$to.css("z-index","")},scrollPage:function(){a.event.special.scrollstart.enabled=!1,(a.mobile.hideUrlBar||this.toScroll!==a.mobile.defaultHomeScroll)&&b.scrollTo(0,this.toScroll),setTimeout(function(){a.event.special.scrollstart.enabled=!0},150)},startIn:function(b,c,d,e){this.hideIn(function(){this.$to.addClass(a.mobile.activePageClass+this.toPreClass),e||a.mobile.focusPage(this.$to),this.$to.height(b+this.toScroll),d||this.scrollPage()}),this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+c),d?this.doneIn():this.$to.animationComplete(a.proxy(function(){this.doneIn()},this))},startOut:function(b,c,d){this.beforeStartOut(b,c,d),this.$from.height(b+a.mobile.window.scrollTop()).addClass(this.name+" out"+c)},toggleViewportClass:function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name)},transition:function(){var b,c=this.reverse?" reverse":"",d=a.mobile.getScreenHeight(),e=a.mobile.maxTransitionWidth!==!1&&a.mobile.window.width()>a.mobile.maxTransitionWidth;return this.toScroll=a.mobile.navigate.history.getActive().lastScroll||a.mobile.defaultHomeScroll,b=!a.support.cssTransitions||!a.support.cssAnimations||e||!this.name||"none"===this.name||Math.max(a.mobile.window.scrollTop(),this.toScroll)>a.mobile.getMaxScrollForTransition(),this.toggleViewportClass(),this.$from&&!b?this.startOut(d,c,b):this.doneOut(d,c,b,!0),this.deferred.promise()}})}(a,this),function(a){a.mobile.SerialTransition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.SerialTransition.prototype,a.mobile.Transition.prototype,{sequential:!0,beforeDoneOut:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(b,c,d){this.$from.animationComplete(a.proxy(function(){this.doneOut(b,c,d)},this))}})}(a),function(a){a.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments)},a.extend(a.mobile.ConcurrentTransition.prototype,a.mobile.Transition.prototype,{sequential:!1,beforeDoneIn:function(){this.$from&&this.cleanFrom()},beforeStartOut:function(a,b,c){this.doneOut(a,b,c)}})}(a),function(a){var b=function(){return 3*a.mobile.getScreenHeight()};a.mobile.transitionHandlers={sequential:a.mobile.SerialTransition,simultaneous:a.mobile.ConcurrentTransition},a.mobile.defaultTransitionHandler=a.mobile.transitionHandlers.sequential,a.mobile.transitionFallbacks={},a.mobile._maybeDegradeTransition=function(b){return b&&!a.support.cssTransform3d&&a.mobile.transitionFallbacks[b]&&(b=a.mobile.transitionFallbacks[b]),b},a.mobile.getMaxScrollForTransition=a.mobile.getMaxScrollForTransition||b}(a),function(a){a.mobile.transitionFallbacks.flip="fade"}(a,this),function(a){a.mobile.transitionFallbacks.flow="fade"}(a,this),function(a){a.mobile.transitionFallbacks.pop="fade"}(a,this),function(a){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous,a.mobile.transitionFallbacks.slide="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slidedown="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slidefade="fade"}(a,this),function(a){a.mobile.transitionFallbacks.slideup="fade"}(a,this),function(a){a.mobile.transitionFallbacks.turn="fade"}(a,this),function(a){a.mobile.degradeInputs={color:!1,date:!1,datetime:!1,"datetime-local":!1,email:!1,month:!1,number:!1,range:"number",search:"text",tel:!1,time:!1,url:!1,week:!1},a.mobile.page.prototype.options.degradeInputs=a.mobile.degradeInputs,a.mobile.degradeInputsWithin=function(b){b=a(b),b.find("input").not(a.mobile.page.prototype.keepNativeSelector()).each(function(){var b,c,d,e,f=a(this),g=this.getAttribute("type"),h=a.mobile.degradeInputs[g]||"text";a.mobile.degradeInputs[g]&&(b=a("<div>").html(f.clone()).html(),c=b.indexOf(" type=")>-1,d=c?/\s+type=["']?\w+['"]?/:/\/?>/,e=' type="'+h+'" data-'+a.mobile.ns+'type="'+g+'"'+(c?"":">"),f.replaceWith(b.replace(d,e)))})}}(a),function(a,b,c){a.widget("mobile.page",a.mobile.page,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0,dialog:!1},_create:function(){this._super(),this.options.dialog&&(a.extend(this,{_inner:this.element.children(),_headerCloseButton:null}),this.options.enhanced||this._setCloseBtn(this.options.closeBtn))},_enhance:function(){this._super(),this.options.dialog&&this.element.addClass("ui-dialog").wrapInner(a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(this.options.corners?" ui-corner-all":"")}))},_setOptions:function(b){var d,e,f=this.options;b.corners!==c&&this._inner.toggleClass("ui-corner-all",!!b.corners),b.overlayTheme!==c&&a.mobile.activePage[0]===this.element[0]&&(f.overlayTheme=b.overlayTheme,this._handlePageBeforeShow()),b.closeBtnText!==c&&(d=f.closeBtn,e=b.closeBtnText),b.closeBtn!==c&&(d=b.closeBtn),d&&this._setCloseBtn(d,e),this._super(b)},_handlePageBeforeShow:function(){this.options.overlayTheme&&this.options.dialog?(this.removeContainerBackground(),this.setContainerBackground(this.options.overlayTheme)):this._super()},_setCloseBtn:function(b,c){var d,e=this._headerCloseButton;b="left"===b?"left":"right"===b?"right":"none","none"===b?e&&(e.remove(),e=null):e?(e.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+b),c&&e.text(c)):(d=this._inner.find(":jqmData(role='header')").first(),e=a("<a></a>",{href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+b}).attr("data-"+a.mobile.ns+"rel","back").text(c||this.options.closeBtnText||"").prependTo(d)),this._headerCloseButton=e}})}(a,this),function(a,b,c){a.widget("mobile.dialog",{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:!0},_handlePageBeforeShow:function(){this._isCloseable=!0,this.options.overlayTheme&&this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme)},_handlePageBeforeHide:function(){this._isCloseable=!1},_handleVClickSubmit:function(b){var c,d=a(b.target).closest("vclick"===b.type?"a":"form");d.length&&!d.jqmData("transition")&&(c={},c["data-"+a.mobile.ns+"transition"]=(a.mobile.navigate.history.getActive()||{}).transition||a.mobile.defaultDialogTransition,c["data-"+a.mobile.ns+"direction"]="reverse",d.attr(c))},_create:function(){var b=this.element,c=this.options;b.addClass("ui-dialog").wrapInner(a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(c.corners?" ui-corner-all":"")})),a.extend(this,{_isCloseable:!1,_inner:b.children(),_headerCloseButton:null}),this._on(b,{vclick:"_handleVClickSubmit",submit:"_handleVClickSubmit",pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"}),this._setCloseBtn(c.closeBtn)},_setOptions:function(b){var d,e,f=this.options;b.corners!==c&&this._inner.toggleClass("ui-corner-all",!!b.corners),b.overlayTheme!==c&&a.mobile.activePage[0]===this.element[0]&&(f.overlayTheme=b.overlayTheme,this._handlePageBeforeShow()),b.closeBtnText!==c&&(d=f.closeBtn,e=b.closeBtnText),b.closeBtn!==c&&(d=b.closeBtn),d&&this._setCloseBtn(d,e),this._super(b)},_setCloseBtn:function(b,c){var d,e=this._headerCloseButton;b="left"===b?"left":"right"===b?"right":"none","none"===b?e&&(e.remove(),e=null):e?(e.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+b),c&&e.text(c)):(d=this._inner.find(":jqmData(role='header')").first(),e=a("<a></a>",{role:"button",href:"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+b}).text(c||this.options.closeBtnText||"").prependTo(d),this._on(e,{click:"close"})),this._headerCloseButton=e},close:function(){var b=a.mobile.navigate.history;this._isCloseable&&(this._isCloseable=!1,a.mobile.hashListeningEnabled&&b.activeIndex>0?a.mobile.back():a.mobile.pageContainer.pagecontainer("back"))}})}(a,this),function(a,b){var c=/([A-Z])/g,d=function(a){return"ui-btn-icon-"+(null===a?"left":a)};a.widget("mobile.collapsible",{options:{enhanced:!1,expandCueText:null,collapseCueText:null,collapsed:!0,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:null,expandedIcon:null,iconpos:null,theme:null,contentTheme:null,inset:null,corners:null,mini:null},_create:function(){var b=this.element,c={accordion:b.closest(":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')"+(a.mobile.collapsibleset?", :mobile-collapsibleset":"")).addClass("ui-collapsible-set")};this._ui=c,this._renderedOptions=this._getOptions(this.options),this.options.enhanced?(c.heading=this.element.children(".ui-collapsible-heading"),c.content=c.heading.next(),c.anchor=c.heading.children(),c.status=c.anchor.children(".ui-collapsible-heading-status")):this._enhance(b,c),this._on(c.heading,{tap:function(){c.heading.find("a").first().addClass(a.mobile.activeBtnClass)},click:function(a){this._handleExpandCollapse(!c.heading.hasClass("ui-collapsible-heading-collapsed")),a.preventDefault(),a.stopPropagation()}})},_getOptions:function(b){var d,e=this._ui.accordion,f=this._ui.accordionWidget;b=a.extend({},b),e.length&&!f&&(this._ui.accordionWidget=f=e.data("mobile-collapsibleset"));for(d in b)b[d]=null!=b[d]?b[d]:f?f.options[d]:e.length?a.mobile.getAttribute(e[0],d.replace(c,"-$1").toLowerCase()):null,null==b[d]&&(b[d]=a.mobile.collapsible.defaults[d]);return b},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:""},_enhance:function(b,c){var e,f=this._renderedOptions,g=this._themeClassFromOption("ui-body-",f.contentTheme);return b.addClass("ui-collapsible "+(f.inset?"ui-collapsible-inset ":"")+(f.inset&&f.corners?"ui-corner-all ":"")+(g?"ui-collapsible-themed-content ":"")),c.originalHeading=b.children(this.options.heading).first(),c.content=b.wrapInner("<div class='ui-collapsible-content "+g+"'></div>").children(".ui-collapsible-content"),c.heading=c.originalHeading,c.heading.is("legend")&&(c.heading=a("<div role='heading'>"+c.heading.html()+"</div>"),c.placeholder=a("<div><!-- placeholder for legend --></div>").insertBefore(c.originalHeading),c.originalHeading.remove()),e=f.collapsed?f.collapsedIcon?"ui-icon-"+f.collapsedIcon:"":f.expandedIcon?"ui-icon-"+f.expandedIcon:"",c.status=a("<span class='ui-collapsible-heading-status'></span>"),c.anchor=c.heading.detach().addClass("ui-collapsible-heading").append(c.status).wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().addClass("ui-btn "+(e?e+" ":"")+(e?d(f.iconpos)+" ":"")+this._themeClassFromOption("ui-btn-",f.theme)+" "+(f.mini?"ui-mini ":"")),c.heading.insertBefore(c.content),this._handleExpandCollapse(this.options.collapsed),c},refresh:function(){this._applyOptions(this.options),this._renderedOptions=this._getOptions(this.options)},_applyOptions:function(a){var c,e,f,g,h,i=this.element,j=this._renderedOptions,k=this._ui,l=k.anchor,m=k.status,n=this._getOptions(a);a.collapsed!==b&&this._handleExpandCollapse(a.collapsed),c=i.hasClass("ui-collapsible-collapsed"),c?n.expandCueText!==b&&m.text(n.expandCueText):n.collapseCueText!==b&&m.text(n.collapseCueText),h=n.collapsedIcon!==b?n.collapsedIcon!==!1:j.collapsedIcon!==!1,(n.iconpos!==b||n.collapsedIcon!==b||n.expandedIcon!==b)&&(l.removeClass([d(j.iconpos)].concat(j.expandedIcon?["ui-icon-"+j.expandedIcon]:[]).concat(j.collapsedIcon?["ui-icon-"+j.collapsedIcon]:[]).join(" ")),h&&l.addClass([d(n.iconpos!==b?n.iconpos:j.iconpos)].concat(c?["ui-icon-"+(n.collapsedIcon!==b?n.collapsedIcon:j.collapsedIcon)]:["ui-icon-"+(n.expandedIcon!==b?n.expandedIcon:j.expandedIcon)]).join(" "))),n.theme!==b&&(f=this._themeClassFromOption("ui-btn-",j.theme),e=this._themeClassFromOption("ui-btn-",n.theme),l.removeClass(f).addClass(e)),n.contentTheme!==b&&(f=this._themeClassFromOption("ui-body-",j.contentTheme),e=this._themeClassFromOption("ui-body-",n.contentTheme),k.content.removeClass(f).addClass(e)),n.inset!==b&&(i.toggleClass("ui-collapsible-inset",n.inset),g=!(!n.inset||!n.corners&&!j.corners)),n.corners!==b&&(g=!(!n.corners||!n.inset&&!j.inset)),g!==b&&i.toggleClass("ui-corner-all",g),n.mini!==b&&l.toggleClass("ui-mini",n.mini)},_setOptions:function(a){this._applyOptions(a),this._super(a),this._renderedOptions=this._getOptions(this.options)},_handleExpandCollapse:function(b){var c=this._renderedOptions,d=this._ui;d.status.text(b?c.expandCueText:c.collapseCueText),d.heading.toggleClass("ui-collapsible-heading-collapsed",b).find("a").first().toggleClass("ui-icon-"+c.expandedIcon,!b).toggleClass("ui-icon-"+c.collapsedIcon,b||c.expandedIcon===c.collapsedIcon).removeClass(a.mobile.activeBtnClass),this.element.toggleClass("ui-collapsible-collapsed",b),d.content.toggleClass("ui-collapsible-content-collapsed",b).attr("aria-hidden",b).trigger("updatelayout"),this.options.collapsed=b,this._trigger(b?"collapse":"expand")},expand:function(){this._handleExpandCollapse(!1)},collapse:function(){this._handleExpandCollapse(!0)},_destroy:function(){var a=this._ui,b=this.options;b.enhanced||(a.placeholder?(a.originalHeading.insertBefore(a.placeholder),a.placeholder.remove(),a.heading.remove()):(a.status.remove(),a.heading.removeClass("ui-collapsible-heading ui-collapsible-heading-collapsed").children().contents().unwrap()),a.anchor.contents().unwrap(),a.content.contents().unwrap(),this.element.removeClass("ui-collapsible ui-collapsible-collapsed ui-collapsible-themed-content ui-collapsible-inset ui-corner-all"))}}),a.mobile.collapsible.defaults={expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsedIcon:"plus",contentTheme:"inherit",expandedIcon:"minus",iconpos:"left",inset:!0,corners:!0,theme:"inherit",mini:!1}}(a),function(a){function b(b){var d,e=b.length,f=[];for(d=0;e>d;d++)b[d].className.match(c)||f.push(b[d]);return a(f)}var c=/\bui-screen-hidden\b/;a.mobile.behaviors.addFirstLastClasses={_getVisibles:function(a,c){var d;return c?d=b(a):(d=a.filter(":visible"),0===d.length&&(d=b(a))),d},_addFirstLastClasses:function(a,b,c){a.removeClass("ui-first-child ui-last-child"),b.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child"),c||this.element.trigger("updatelayout")},_removeFirstLastClasses:function(a){a.removeClass("ui-first-child ui-last-child")}}}(a),function(a,b){var c=":mobile-collapsible, "+a.mobile.collapsible.initSelector;a.widget("mobile.collapsibleset",a.extend({initSelector:":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')",options:a.extend({enhanced:!1},a.mobile.collapsible.defaults),_handleCollapsibleExpand:function(b){var c=a(b.target).closest(".ui-collapsible");c.parent().is(":mobile-collapsibleset, :jqmData(role='collapsible-set')")&&c.siblings(".ui-collapsible:not(.ui-collapsible-collapsed)").collapsible("collapse")},_create:function(){var b=this.element,c=this.options;a.extend(this,{_classes:""}),c.enhanced||(b.addClass("ui-collapsible-set "+this._themeClassFromOption("ui-group-theme-",c.theme)+" "+(c.corners&&c.inset?"ui-corner-all ":"")),this.element.find(a.mobile.collapsible.initSelector).collapsible()),this._on(b,{collapsibleexpand:"_handleCollapsibleExpand"})},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:""},_init:function(){this._refresh(!0),this.element.children(c).filter(":jqmData(collapsed='false')").collapsible("expand")},_setOptions:function(a){var c,d,e=this.element,f=this._themeClassFromOption("ui-group-theme-",a.theme);return f&&e.removeClass(this._themeClassFromOption("ui-group-theme-",this.options.theme)).addClass(f),a.inset!==b&&(d=!(!a.inset||!a.corners&&!this.options.corners)),a.corners!==b&&(d=!(!a.corners||!a.inset&&!this.options.inset)),d!==b&&e.toggleClass("ui-corner-all",d),c=this._super(a),this.element.children(":mobile-collapsible").collapsible("refresh"),c},_destroy:function(){var a=this.element;this._removeFirstLastClasses(a.children(c)),a.removeClass("ui-collapsible-set ui-corner-all "+this._themeClassFromOption("ui-group-theme-",this.options.theme)).children(":mobile-collapsible").collapsible("destroy")},_refresh:function(b){var d=this.element.children(c);this.element.find(a.mobile.collapsible.initSelector).not(".ui-collapsible").collapsible(),this._addFirstLastClasses(d,this._getVisibles(d,b),b)},refresh:function(){this._refresh(!1)}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain")}}(a),function(a){a.fn.grid=function(b){return this.each(function(){var c,d,e=a(this),f=a.extend({grid:null},b),g=e.children(),h={solo:1,a:2,b:3,c:4,d:5},i=f.grid;if(!i)if(g.length<=5)for(d in h)h[d]===g.length&&(i=d);else i="a",e.addClass("ui-grid-duo");c=h[i],e.addClass("ui-grid-"+i),g.filter(":nth-child("+c+"n+1)").addClass("ui-block-a"),c>1&&g.filter(":nth-child("+c+"n+2)").addClass("ui-block-b"),c>2&&g.filter(":nth-child("+c+"n+3)").addClass("ui-block-c"),c>3&&g.filter(":nth-child("+c+"n+4)").addClass("ui-block-d"),c>4&&g.filter(":nth-child("+c+"n+5)").addClass("ui-block-e")})}}(a),function(a,b){a.widget("mobile.navbar",{options:{iconpos:"top",grid:null},_create:function(){var d=this.element,e=d.find("a, button"),f=e.filter(":jqmData(icon)").length?this.options.iconpos:b;d.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid}),e.each(function(){var b=a.mobile.getAttribute(this,"icon"),c=a.mobile.getAttribute(this,"theme"),d="ui-btn";c&&(d+=" ui-btn-"+c),b&&(d+=" ui-icon-"+b+" ui-btn-icon-"+f),a(this).addClass(d)}),d.delegate("a","vclick",function(){var b=a(this);b.hasClass("ui-state-disabled")||b.hasClass("ui-disabled")||b.hasClass(a.mobile.activeBtnClass)||(e.removeClass(a.mobile.activeBtnClass),b.addClass(a.mobile.activeBtnClass),a(c).one("pagehide",function(){b.removeClass(a.mobile.activeBtnClass)}))}),d.closest(".ui-page").bind("pagebeforeshow",function(){e.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}})}(a),function(a){var b=a.mobile.getAttribute;a.widget("mobile.listview",a.extend({options:{theme:null,countTheme:null,dividerTheme:null,icon:"carat-r",splitIcon:"carat-r",splitTheme:null,corners:!0,shadow:!0,inset:!1},_create:function(){var a=this,b="";b+=a.options.inset?" ui-listview-inset":"",a.options.inset&&(b+=a.options.corners?" ui-corner-all":"",b+=a.options.shadow?" ui-shadow":""),a.element.addClass(" ui-listview"+b),a.refresh(!0)},_findFirstElementByTagName:function(a,b,c,d){var e={};for(e[c]=e[d]=!0;a;){if(e[a.nodeName])return a;a=a[b]}return null},_addThumbClasses:function(b){var c,d,e=b.length;for(c=0;e>c;c++)d=a(this._findFirstElementByTagName(b[c].firstChild,"nextSibling","img","IMG")),d.length&&a(this._findFirstElementByTagName(d[0].parentNode,"parentNode","li","LI")).addClass(d.hasClass("ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb")},_getChildrenByTagName:function(b,c,d){var e=[],f={};for(f[c]=f[d]=!0,b=b.firstChild;b;)f[b.nodeName]&&e.push(b),b=b.nextSibling;return a(e)},_beforeListviewRefresh:a.noop,_afterListviewRefresh:a.noop,refresh:function(c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=this.options,y=this.element,z=!!a.nodeName(y[0],"ol"),A=y.attr("start"),B={},C=y.find(".ui-li-count"),D=b(y[0],"counttheme")||this.options.countTheme,E=D?"ui-body-"+D:"ui-body-inherit";for(x.theme&&y.addClass("ui-group-theme-"+x.theme),z&&(A||0===A)&&(n=parseInt(A,10)-1,y.css("counter-reset","listnumbering "+n)),this._beforeListviewRefresh(),w=this._getChildrenByTagName(y[0],"li","LI"),e=0,f=w.length;f>e;e++)g=w.eq(e),h="",(c||g[0].className.search(/\bui-li-static\b|\bui-li-divider\b/)<0)&&(l=this._getChildrenByTagName(g[0],"a","A"),m="list-divider"===b(g[0],"role"),p=g.attr("value"),i=b(g[0],"theme"),l.length&&l[0].className.search(/\bui-btn\b/)<0&&!m?(j=b(g[0],"icon"),k=j===!1?!1:j||x.icon,l.removeClass("ui-link"),d="ui-btn",i&&(d+=" ui-btn-"+i),l.length>1?(h="ui-li-has-alt",q=l.last(),r=b(q[0],"theme")||x.splitTheme||b(g[0],"theme",!0),s=r?" ui-btn-"+r:"",t=b(q[0],"icon")||b(g[0],"icon")||x.splitIcon,u="ui-btn ui-btn-icon-notext ui-icon-"+t+s,q.attr("title",a.trim(q.getEncodedText())).addClass(u).empty(),l=l.first()):k&&(d+=" ui-btn-icon-right ui-icon-"+k),l.addClass(d)):m?(v=b(g[0],"theme")||x.dividerTheme||x.theme,h="ui-li-divider ui-bar-"+(v?v:"inherit"),g.attr("role","heading")):l.length<=0&&(h="ui-li-static ui-body-"+(i?i:"inherit")),z&&p&&(o=parseInt(p,10)-1,g.css("counter-reset","listnumbering "+o))),B[h]||(B[h]=[]),B[h].push(g[0]);for(h in B)a(B[h]).addClass(h);C.each(function(){a(this).closest("li").addClass("ui-li-has-count")}),E&&C.not("[class*='ui-body-']").addClass(E),this._addThumbClasses(w),this._addThumbClasses(w.find(".ui-btn")),this._afterListviewRefresh(),this._addFirstLastClasses(w,this._getVisibles(w,c),c)}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a){function b(b){var c=a.trim(b.text())||null;return c?c=c.slice(0,1).toUpperCase():null}a.widget("mobile.listview",a.mobile.listview,{options:{autodividers:!1,autodividersSelector:b},_beforeListviewRefresh:function(){this.options.autodividers&&(this._replaceDividers(),this._superApply(arguments))},_replaceDividers:function(){var b,d,e,f,g,h=null,i=this.element;for(i.children("li:jqmData(role='list-divider')").remove(),d=i.children("li"),b=0;b<d.length;b++)e=d[b],f=this.options.autodividersSelector(a(e)),f&&h!==f&&(g=c.createElement("li"),g.appendChild(c.createTextNode(f)),g.setAttribute("data-"+a.mobile.ns+"role","list-divider"),e.parentNode.insertBefore(g,e)),h=f}})}(a),function(a){var b=/(^|\s)ui-li-divider($|\s)/,c=/(^|\s)ui-screen-hidden($|\s)/;a.widget("mobile.listview",a.mobile.listview,{options:{hideDividers:!1},_afterListviewRefresh:function(){var a,d,e,f=!0;if(this._superApply(arguments),this.options.hideDividers)for(a=this._getChildrenByTagName(this.element[0],"li","LI"),d=a.length-1;d>-1;d--)e=a[d],e.className.match(b)?(f&&(e.className=e.className+" ui-screen-hidden"),f=!0):e.className.match(c)||(f=!1)}})}(a),function(a){a.mobile.nojs=function(b){a(":jqmData(role='nojs')",b).addClass("ui-nojs")}}(a),function(a){a.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset")}})}}}(a),function(a,b){var c=a.mobile.path.hashToSelector;a.widget("mobile.checkboxradio",a.extend({initSelector:"input:not( :jqmData(role='flipswitch' ) )[type='checkbox'],input[type='radio']:not( :jqmData(role='flipswitch' ))",options:{theme:"inherit",mini:!1,wrapperClass:null,enhanced:!1,iconpos:"left"},_create:function(){var b=this.element,c=this.options,d=function(a,b){return a.jqmData(b)||a.closest("form, fieldset").jqmData(b)},e=this.options.enhanced?{element:this.element.siblings("label"),isParent:!1}:this._findLabel(),f=b[0].type,g="ui-"+f+"-on",h="ui-"+f+"-off";("checkbox"===f||"radio"===f)&&(this.element[0].disabled&&(this.options.disabled=!0),c.iconpos=d(b,"iconpos")||e.element.attr("data-"+a.mobile.ns+"iconpos")||c.iconpos,c.mini=d(b,"mini")||c.mini,a.extend(this,{input:b,label:e.element,labelIsParent:e.isParent,inputtype:f,checkedClass:g,uncheckedClass:h}),this.options.enhanced||this._enhance(),this._on(e.element,{vmouseover:"_handleLabelVMouseOver",vclick:"_handleLabelVClick"}),this._on(b,{vmousedown:"_cacheVals",vclick:"_handleInputVClick",focus:"_handleInputFocus",blur:"_handleInputBlur"}),this._handleFormReset(),this.refresh())},_findLabel:function(){var b,d,e,f=this.element,g=f[0].labels;return g&&g.length>0?(d=a(g[0]),e=a.contains(d[0],f[0])):(b=f.closest("label"),e=b.length>0,d=e?b:a(this.document[0].getElementsByTagName("label")).filter("[for='"+c(f[0].id)+"']").first()),{element:d,isParent:e}},_enhance:function(){this.label.addClass("ui-btn ui-corner-all"),this.labelIsParent?this.input.add(this.label).wrapAll(this._wrapper()):(this.element.wrap(this._wrapper()),this.element.parent().prepend(this.label)),this._setOptions({theme:this.options.theme,iconpos:this.options.iconpos,mini:this.options.mini})},_wrapper:function(){return a("<div class='"+(this.options.wrapperClass?this.options.wrapperClass:"")+" ui-"+this.inputtype+(this.options.disabled?" ui-state-disabled":"")+"' ></div>")},_handleInputFocus:function(){this.label.addClass(a.mobile.focusClass)},_handleInputBlur:function(){this.label.removeClass(a.mobile.focusClass)},_handleInputVClick:function(){this.element.prop("checked",this.element.is(":checked")),this._getInputSet().not(this.element).prop("checked",!1),this._updateAll(!0)},_handleLabelVMouseOver:function(a){this.label.parent().hasClass("ui-state-disabled")&&a.stopPropagation()},_handleLabelVClick:function(a){var b=this.element;return b.is(":disabled")?void a.preventDefault():(this._cacheVals(),b.prop("checked","radio"===this.inputtype&&!0||!b.prop("checked")),b.triggerHandler("click"),this._getInputSet().not(b).prop("checked",!1),this._updateAll(),!1)},_cacheVals:function(){this._getInputSet().each(function(){a(this).attr("data-"+a.mobile.ns+"cacheVal",this.checked)})},_getInputSet:function(){var b,d,e=this.element[0],f=e.name,g=e.form,h=this.element.parents().last().get(0),i=this.element;return f&&"radio"===this.inputtype&&h&&(b="input[type='radio'][name='"+c(f)+"']",g?(d=g.getAttribute("id"),d&&(i=a(b+"[form='"+c(d)+"']",h)),i=a(g).find(b).filter(function(){return this.form===g}).add(i)):i=a(b,h).filter(function(){return!this.form})),i},_updateAll:function(b){var c=this;this._getInputSet().each(function(){var d=a(this);!this.checked&&"checkbox"!==c.inputtype||b||d.trigger("change")}).checkboxradio("refresh")},_reset:function(){this.refresh()},_hasIcon:function(){var b,c,d=a.mobile.controlgroup;return d&&(b=this.element.closest(":mobile-controlgroup,"+d.prototype.initSelector),b.length>0)?(c=a.data(b[0],"mobile-controlgroup"),"horizontal"!==(c?c.options.type:b.attr("data-"+a.mobile.ns+"type"))):!0},refresh:function(){var b=this.element[0].checked,c=a.mobile.activeBtnClass,d="ui-btn-icon-"+this.options.iconpos,e=[],f=[];this._hasIcon()?(f.push(c),e.push(d)):(f.push(d),(b?e:f).push(c)),b?(e.push(this.checkedClass),f.push(this.uncheckedClass)):(e.push(this.uncheckedClass),f.push(this.checkedClass)),this.widget().toggleClass("ui-state-disabled",this.element.prop("disabled")),this.label.addClass(e.join(" ")).removeClass(f.join(" "))},widget:function(){return this.label.parent()},_setOptions:function(a){var c=this.label,d=this.options,e=this.widget(),f=this._hasIcon();a.disabled!==b&&(this.input.prop("disabled",!!a.disabled),e.toggleClass("ui-state-disabled",!!a.disabled)),a.mini!==b&&e.toggleClass("ui-mini",!!a.mini),a.theme!==b&&c.removeClass("ui-btn-"+d.theme).addClass("ui-btn-"+a.theme),a.wrapperClass!==b&&e.removeClass(d.wrapperClass).addClass(a.wrapperClass),a.iconpos!==b&&f?c.removeClass("ui-btn-icon-"+d.iconpos).addClass("ui-btn-icon-"+a.iconpos):f||c.removeClass("ui-btn-icon-"+d.iconpos),this._super(a)}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.button",{initSelector:"input[type='button'], input[type='submit'], input[type='reset']",options:{theme:null,icon:null,iconpos:"left",iconshadow:!1,corners:!0,shadow:!0,inline:null,mini:null,wrapperClass:null,enhanced:!1},_create:function(){this.element.is(":disabled")&&(this.options.disabled=!0),this.options.enhanced||this._enhance(),a.extend(this,{wrapper:this.element.parent()}),this._on({focus:function(){this.widget().addClass(a.mobile.focusClass)},blur:function(){this.widget().removeClass(a.mobile.focusClass)}}),this.refresh(!0)},_enhance:function(){this.element.wrap(this._button())},_button:function(){var b=this.options,c=this._getIconClasses(this.options);return a("<div class='ui-btn ui-input-btn"+(b.wrapperClass?" "+b.wrapperClass:"")+(b.theme?" ui-btn-"+b.theme:"")+(b.corners?" ui-corner-all":"")+(b.shadow?" ui-shadow":"")+(b.inline?" ui-btn-inline":"")+(b.mini?" ui-mini":"")+(b.disabled?" ui-state-disabled":"")+(c?" "+c:"")+"' >"+this.element.val()+"</div>")},widget:function(){return this.wrapper},_destroy:function(){this.element.insertBefore(this.wrapper),this.wrapper.remove()},_getIconClasses:function(a){return a.icon?"ui-icon-"+a.icon+(a.iconshadow?" ui-shadow-icon":"")+" ui-btn-icon-"+a.iconpos:""},_setOptions:function(c){var d=this.widget();c.theme!==b&&d.removeClass(this.options.theme).addClass("ui-btn-"+c.theme),c.corners!==b&&d.toggleClass("ui-corner-all",c.corners),c.shadow!==b&&d.toggleClass("ui-shadow",c.shadow),c.inline!==b&&d.toggleClass("ui-btn-inline",c.inline),c.mini!==b&&d.toggleClass("ui-mini",c.mini),c.disabled!==b&&(this.element.prop("disabled",c.disabled),d.toggleClass("ui-state-disabled",c.disabled)),(c.icon!==b||c.iconshadow!==b||c.iconpos!==b)&&d.removeClass(this._getIconClasses(this.options)).addClass(this._getIconClasses(a.extend({},this.options,c))),this._super(c)},refresh:function(b){var c,d=this.element.prop("disabled");this.options.icon&&"notext"===this.options.iconpos&&this.element.attr("title")&&this.element.attr("title",this.element.val()),b||(c=this.element.detach(),a(this.wrapper).text(this.element.val()).append(c)),this.options.disabled!==d&&this._setOptions({disabled:d})}})}(a),function(a){var b=a("meta[name=viewport]"),c=b.attr("content"),d=c+",maximum-scale=1, user-scalable=no",e=c+",maximum-scale=10, user-scalable=yes",f=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(c);a.mobile.zoom=a.extend({},{enabled:!f,locked:!1,disable:function(c){f||a.mobile.zoom.locked||(b.attr("content",d),a.mobile.zoom.enabled=!1,a.mobile.zoom.locked=c||!1)},enable:function(c){f||a.mobile.zoom.locked&&c!==!0||(b.attr("content",e),a.mobile.zoom.enabled=!0,a.mobile.zoom.locked=!1)},restore:function(){f||(b.attr("content",c),a.mobile.zoom.enabled=!0)}})}(a),function(a,b){a.widget("mobile.textinput",{initSelector:"input[type='text'],input[type='search'],:jqmData(type='search'),input[type='number'],:jqmData(type='number'),input[type='password'],input[type='email'],input[type='url'],input[type='tel'],textarea,input[type='time'],input[type='date'],input[type='month'],input[type='week'],input[type='datetime'],input[type='datetime-local'],input[type='color'],input:not([type]),input[type='file']",options:{theme:null,corners:!0,mini:!1,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,wrapperClass:"",enhanced:!1},_create:function(){var b=this.options,c=this.element.is("[type='search'], :jqmData(type='search')"),d="TEXTAREA"===this.element[0].tagName,e=this.element.is("[data-"+(a.mobile.ns||"")+"type='range']"),f=(this.element.is("input")||this.element.is("[data-"+(a.mobile.ns||"")+"type='search']"))&&!e;this.element.prop("disabled")&&(b.disabled=!0),a.extend(this,{classes:this._classesFromOptions(),isSearch:c,isTextarea:d,isRange:e,inputNeedsWrap:f}),this._autoCorrect(),b.enhanced||this._enhance(),this._on({focus:"_handleFocus",blur:"_handleBlur"})},refresh:function(){this.setOptions({disabled:this.element.is(":disabled")})},_enhance:function(){var a=[];this.isTextarea&&a.push("ui-input-text"),(this.isTextarea||this.isRange)&&a.push("ui-shadow-inset"),this.inputNeedsWrap?this.element.wrap(this._wrap()):a=a.concat(this.classes),this.element.addClass(a.join(" "))},widget:function(){return this.inputNeedsWrap?this.element.parent():this.element},_classesFromOptions:function(){var a=this.options,b=[];return b.push("ui-body-"+(null===a.theme?"inherit":a.theme)),a.corners&&b.push("ui-corner-all"),a.mini&&b.push("ui-mini"),a.disabled&&b.push("ui-state-disabled"),a.wrapperClass&&b.push(a.wrapperClass),b
},_wrap:function(){return a("<div class='"+(this.isSearch?"ui-input-search ":"ui-input-text ")+this.classes.join(" ")+" ui-shadow-inset'></div>")},_autoCorrect:function(){"undefined"==typeof this.element[0].autocorrect||a.support.touchOverflow||(this.element[0].setAttribute("autocorrect","off"),this.element[0].setAttribute("autocomplete","off"))},_handleBlur:function(){this.widget().removeClass(a.mobile.focusClass),this.options.preventFocusZoom&&a.mobile.zoom.enable(!0)},_handleFocus:function(){this.options.preventFocusZoom&&a.mobile.zoom.disable(!0),this.widget().addClass(a.mobile.focusClass)},_setOptions:function(a){var c=this.widget();this._super(a),(a.disabled!==b||a.mini!==b||a.corners!==b||a.theme!==b||a.wrapperClass!==b)&&(c.removeClass(this.classes.join(" ")),this.classes=this._classesFromOptions(),c.addClass(this.classes.join(" "))),a.disabled!==b&&this.element.prop("disabled",!!a.disabled)},_destroy:function(){this.options.enhanced||(this.inputNeedsWrap&&this.element.unwrap(),this.element.removeClass("ui-input-text "+this.classes.join(" ")))}})}(a),function(a,d){a.widget("mobile.slider",a.extend({initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!1},_create:function(){var e,f,g,h,i,j,k,l,m,n,o=this,p=this.element,q=this.options.trackTheme||a.mobile.getAttribute(p[0],"theme"),r=q?" ui-bar-"+q:" ui-bar-inherit",s=this.options.corners||p.jqmData("corners")?" ui-corner-all":"",t=this.options.mini||p.jqmData("mini")?" ui-mini":"",u=p[0].nodeName.toLowerCase(),v="select"===u,w=p.parent().is(":jqmData(role='rangeslider')"),x=v?"ui-slider-switch":"",y=p.attr("id"),z=a("[for='"+y+"']"),A=z.attr("id")||y+"-label",B=v?0:parseFloat(p.attr("min")),C=v?p.find("option").length-1:parseFloat(p.attr("max")),D=b.parseFloat(p.attr("step")||1),E=c.createElement("a"),F=a(E),G=c.createElement("div"),H=a(G),I=this.options.highlight&&!v?function(){var b=c.createElement("div");return b.className="ui-slider-bg "+a.mobile.activeBtnClass,a(b).prependTo(H)}():!1;if(z.attr("id",A),this.isToggleSwitch=v,E.setAttribute("href","#"),G.setAttribute("role","application"),G.className=[this.isToggleSwitch?"ui-slider ui-slider-track ui-shadow-inset ":"ui-slider-track ui-shadow-inset ",x,r,s,t].join(""),E.className="ui-slider-handle",G.appendChild(E),F.attr({role:"slider","aria-valuemin":B,"aria-valuemax":C,"aria-valuenow":this._value(),"aria-valuetext":this._value(),title:this._value(),"aria-labelledby":A}),a.extend(this,{slider:H,handle:F,control:p,type:u,step:D,max:C,min:B,valuebg:I,isRangeslider:w,dragging:!1,beforeStart:null,userModified:!1,mouseMoved:!1}),v){for(k=p.attr("tabindex"),k&&F.attr("tabindex",k),p.attr("tabindex","-1").focus(function(){a(this).blur(),F.focus()}),f=c.createElement("div"),f.className="ui-slider-inneroffset",g=0,h=G.childNodes.length;h>g;g++)f.appendChild(G.childNodes[g]);for(G.appendChild(f),F.addClass("ui-slider-handle-snapping"),e=p.find("option"),i=0,j=e.length;j>i;i++)l=i?"a":"b",m=i?" "+a.mobile.activeBtnClass:"",n=c.createElement("span"),n.className=["ui-slider-label ui-slider-label-",l,m].join(""),n.setAttribute("role","img"),n.appendChild(c.createTextNode(e[i].innerHTML)),a(n).prependTo(H);o._labels=a(".ui-slider-label",H)}p.addClass(v?"ui-slider-switch":"ui-slider-input"),this._on(p,{change:"_controlChange",keyup:"_controlKeyup",blur:"_controlBlur",vmouseup:"_controlVMouseUp"}),H.bind("vmousedown",a.proxy(this._sliderVMouseDown,this)).bind("vclick",!1),this._on(c,{vmousemove:"_preventDocumentDrag"}),this._on(H.add(c),{vmouseup:"_sliderVMouseUp"}),H.insertAfter(p),v||w||(f=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>",p.add(H).wrapAll(f)),this._on(this.handle,{vmousedown:"_handleVMouseDown",keydown:"_handleKeydown",keyup:"_handleKeyup"}),this.handle.bind("vclick",!1),this._handleFormReset(),this.refresh(d,d,!0)},_setOptions:function(a){a.theme!==d&&this._setTheme(a.theme),a.trackTheme!==d&&this._setTrackTheme(a.trackTheme),a.corners!==d&&this._setCorners(a.corners),a.mini!==d&&this._setMini(a.mini),a.highlight!==d&&this._setHighlight(a.highlight),a.disabled!==d&&this._setDisabled(a.disabled),this._super(a)},_controlChange:function(a){return this._trigger("controlchange",a)===!1?!1:void(this.mouseMoved||this.refresh(this._value(),!0))},_controlKeyup:function(){this.refresh(this._value(),!0,!0)},_controlBlur:function(){this.refresh(this._value(),!0)},_controlVMouseUp:function(){this._checkedRefresh()},_handleVMouseDown:function(){this.handle.focus()},_handleKeydown:function(b){var c=this._value();if(!this.options.disabled){switch(b.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:b.preventDefault(),this._keySliding||(this._keySliding=!0,this.handle.addClass("ui-state-active"))}switch(b.keyCode){case a.mobile.keyCode.HOME:this.refresh(this.min);break;case a.mobile.keyCode.END:this.refresh(this.max);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:this.refresh(c+this.step);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:this.refresh(c-this.step)}}},_handleKeyup:function(){this._keySliding&&(this._keySliding=!1,this.handle.removeClass("ui-state-active"))},_sliderVMouseDown:function(a){return this.options.disabled||1!==a.which&&0!==a.which&&a.which!==d?!1:this._trigger("beforestart",a)===!1?!1:(this.dragging=!0,this.userModified=!1,this.mouseMoved=!1,this.isToggleSwitch&&(this.beforeStart=this.element[0].selectedIndex),this.refresh(a),this._trigger("start"),!1)},_sliderVMouseUp:function(){return this.dragging?(this.dragging=!1,this.isToggleSwitch&&(this.handle.addClass("ui-slider-handle-snapping"),this.refresh(this.mouseMoved?this.userModified?0===this.beforeStart?1:0:this.beforeStart:0===this.beforeStart?1:0)),this.mouseMoved=!1,this._trigger("stop"),!1):void 0},_preventDocumentDrag:function(a){return this._trigger("drag",a)===!1?!1:this.dragging&&!this.options.disabled?(this.mouseMoved=!0,this.isToggleSwitch&&this.handle.removeClass("ui-slider-handle-snapping"),this.refresh(a),this.userModified=this.beforeStart!==this.element[0].selectedIndex,!1):void 0},_checkedRefresh:function(){this.value!==this._value()&&this.refresh(this._value())},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val())},_reset:function(){this.refresh(d,!1,!0)},refresh:function(b,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=this,A=a.mobile.getAttribute(this.element[0],"theme"),B=this.options.theme||A,C=B?" ui-btn-"+B:"",D=this.options.trackTheme||A,E=D?" ui-bar-"+D:" ui-bar-inherit",F=this.options.corners?" ui-corner-all":"",G=this.options.mini?" ui-mini":"";if(z.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch ui-slider-track ui-shadow-inset":"ui-slider-track ui-shadow-inset",E,F,G].join(""),(this.options.disabled||this.element.prop("disabled"))&&this.disable(),this.value=this._value(),this.options.highlight&&!this.isToggleSwitch&&0===this.slider.find(".ui-slider-bg").length&&(this.valuebg=function(){var b=c.createElement("div");return b.className="ui-slider-bg "+a.mobile.activeBtnClass,a(b).prependTo(z.slider)}()),this.handle.addClass("ui-btn"+C+" ui-shadow"),l=this.element,m=!this.isToggleSwitch,n=m?[]:l.find("option"),o=m?parseFloat(l.attr("min")):0,p=m?parseFloat(l.attr("max")):n.length-1,q=m&&parseFloat(l.attr("step"))>0?parseFloat(l.attr("step")):1,"object"==typeof b){if(h=b,i=8,f=this.slider.offset().left,g=this.slider.width(),j=g/((p-o)/q),!this.dragging||h.pageX<f-i||h.pageX>f+g+i)return;k=j>1?(h.pageX-f)/g*100:Math.round((h.pageX-f)/g*100)}else null==b&&(b=m?parseFloat(l.val()||0):l[0].selectedIndex),k=(parseFloat(b)-o)/(p-o)*100;if(!isNaN(k)&&(r=k/100*(p-o)+o,s=(r-o)%q,t=r-s,2*Math.abs(s)>=q&&(t+=s>0?q:-q),u=100/((p-o)/q),r=parseFloat(t.toFixed(5)),"undefined"==typeof j&&(j=g/((p-o)/q)),j>1&&m&&(k=(r-o)*u*(1/q)),0>k&&(k=0),k>100&&(k=100),o>r&&(r=o),r>p&&(r=p),this.handle.css("left",k+"%"),this.handle[0].setAttribute("aria-valuenow",m?r:n.eq(r).attr("value")),this.handle[0].setAttribute("aria-valuetext",m?r:n.eq(r).getEncodedText()),this.handle[0].setAttribute("title",m?r:n.eq(r).getEncodedText()),this.valuebg&&this.valuebg.css("width",k+"%"),this._labels&&(v=this.handle.width()/this.slider.width()*100,w=k&&v+(100-v)*k/100,x=100===k?0:Math.min(v+100-w,100),this._labels.each(function(){var b=a(this).hasClass("ui-slider-label-a");a(this).width((b?w:x)+"%")})),!e)){if(y=!1,m?(y=parseFloat(l.val())!==r,l.val(r)):(y=l[0].selectedIndex!==r,l[0].selectedIndex=r),this._trigger("beforechange",b)===!1)return!1;!d&&y&&l.trigger("change")}},_setHighlight:function(a){a=!!a,a?(this.options.highlight=!!a,this.refresh()):this.valuebg&&(this.valuebg.remove(),this.valuebg=!1)},_setTheme:function(a){this.handle.removeClass("ui-btn-"+this.options.theme).addClass("ui-btn-"+a);var b=this.options.theme?this.options.theme:"inherit",c=a?a:"inherit";this.control.removeClass("ui-body-"+b).addClass("ui-body-"+c)},_setTrackTheme:function(a){var b=this.options.trackTheme?this.options.trackTheme:"inherit",c=a?a:"inherit";this.slider.removeClass("ui-body-"+b).addClass("ui-body-"+c)},_setMini:function(a){a=!!a,this.isToggleSwitch||this.isRangeslider||(this.slider.parent().toggleClass("ui-mini",a),this.element.toggleClass("ui-mini",a)),this.slider.toggleClass("ui-mini",a)},_setCorners:function(a){this.slider.toggleClass("ui-corner-all",a),this.isToggleSwitch||this.control.toggleClass("ui-corner-all",a)},_setDisabled:function(a){a=!!a,this.element.prop("disabled",a),this.slider.toggleClass("ui-state-disabled",a).attr("aria-disabled",a),this.element.toggleClass("ui-state-disabled",a)}},a.mobile.behaviors.formReset))}(a),function(a){function b(){return c||(c=a("<div></div>",{"class":"ui-slider-popup ui-shadow ui-corner-all"})),c.clone()}var c;a.widget("mobile.slider",a.mobile.slider,{options:{popupEnabled:!1,showValue:!1},_create:function(){this._super(),a.extend(this,{_currentValue:null,_popup:null,_popupVisible:!1}),this._setOption("popupEnabled",this.options.popupEnabled),this._on(this.handle,{vmousedown:"_showPopup"}),this._on(this.slider.add(this.document),{vmouseup:"_hidePopup"}),this._refresh()},_positionPopup:function(){var a=this.handle.offset();this._popup.offset({left:a.left+(this.handle.width()-this._popup.width())/2,top:a.top-this._popup.outerHeight()-5})},_setOption:function(a,c){this._super(a,c),"showValue"===a?this.handle.html(c&&!this.options.mini?this._value():""):"popupEnabled"===a&&c&&!this._popup&&(this._popup=b().addClass("ui-body-"+(this.options.theme||"a")).hide().insertBefore(this.element))},refresh:function(){this._super.apply(this,arguments),this._refresh()},_refresh:function(){var a,b=this.options;b.popupEnabled&&this.handle.removeAttr("title"),a=this._value(),a!==this._currentValue&&(this._currentValue=a,b.popupEnabled&&this._popup&&(this._positionPopup(),this._popup.html(a)),b.showValue&&!this.options.mini&&this.handle.html(a))},_showPopup:function(){this.options.popupEnabled&&!this._popupVisible&&(this.handle.html(""),this._popup.show(),this._positionPopup(),this._popupVisible=!0)},_hidePopup:function(){var a=this.options;a.popupEnabled&&this._popupVisible&&(a.showValue&&!a.mini&&this.handle.html(this._value()),this._popup.hide(),this._popupVisible=!1)}})}(a),function(a,b){a.widget("mobile.flipswitch",a.extend({options:{onText:"On",offText:"Off",theme:null,enhanced:!1,wrapperClass:null,corners:!0,mini:!1},_create:function(){this.options.enhanced?a.extend(this,{flipswitch:this.element.parent(),on:this.element.find(".ui-flipswitch-on").eq(0),off:this.element.find(".ui-flipswitch-off").eq(0),type:this.element.get(0).tagName}):this._enhance(),this._handleFormReset(),this._originalTabIndex=this.element.attr("tabindex"),null!=this._originalTabIndex&&this.on.attr("tabindex",this._originalTabIndex),this.element.attr("tabindex","-1"),this._on({focus:"_handleInputFocus"}),this.element.is(":disabled")&&this._setOptions({disabled:!0}),this._on(this.flipswitch,{click:"_toggle",swipeleft:"_left",swiperight:"_right"}),this._on(this.on,{keydown:"_keydown"}),this._on({change:"refresh"})},_handleInputFocus:function(){this.on.focus()},widget:function(){return this.flipswitch},_left:function(){this.flipswitch.removeClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=0:this.element.prop("checked",!1),this.element.trigger("change")},_right:function(){this.flipswitch.addClass("ui-flipswitch-active"),"SELECT"===this.type?this.element.get(0).selectedIndex=1:this.element.prop("checked",!0),this.element.trigger("change")},_enhance:function(){var b=a("<div>"),c=this.options,d=this.element,e=c.theme?c.theme:"inherit",f=a("<a></a>",{href:"#"}),g=a("<span></span>"),h=d.get(0).tagName,i="INPUT"===h?c.onText:d.find("option").eq(1).text(),j="INPUT"===h?c.offText:d.find("option").eq(0).text();f.addClass("ui-flipswitch-on ui-btn ui-shadow ui-btn-inherit").text(i),g.addClass("ui-flipswitch-off").text(j),b.addClass("ui-flipswitch ui-shadow-inset ui-bar-"+e+" "+(c.wrapperClass?c.wrapperClass:"")+" "+(d.is(":checked")||d.find("option").eq(1).is(":selected")?"ui-flipswitch-active":"")+(d.is(":disabled")?" ui-state-disabled":"")+(c.corners?" ui-corner-all":"")+(c.mini?" ui-mini":"")).append(f,g),d.addClass("ui-flipswitch-input").after(b).appendTo(b),a.extend(this,{flipswitch:b,on:f,off:g,type:h})},_reset:function(){this.refresh()},refresh:function(){var a,b=this.flipswitch.hasClass("ui-flipswitch-active")?"_right":"_left";a="SELECT"===this.type?this.element.get(0).selectedIndex>0?"_right":"_left":this.element.prop("checked")?"_right":"_left",a!==b&&this[a]()},_toggle:function(){var a=this.flipswitch.hasClass("ui-flipswitch-active")?"_left":"_right";this[a]()},_keydown:function(b){b.which===a.mobile.keyCode.LEFT?this._left():b.which===a.mobile.keyCode.RIGHT?this._right():b.which===a.mobile.keyCode.SPACE&&(this._toggle(),b.preventDefault())},_setOptions:function(a){if(a.theme!==b){var c=a.theme?a.theme:"inherit",d=a.theme?a.theme:"inherit";this.widget().removeClass("ui-bar-"+c).addClass("ui-bar-"+d)}a.onText!==b&&this.on.text(a.onText),a.offText!==b&&this.off.text(a.offText),a.disabled!==b&&this.widget().toggleClass("ui-state-disabled",a.disabled),a.mini!==b&&this.widget().toggleClass("ui-mini",a.mini),a.corners!==b&&this.widget().toggleClass("ui-corner-all",a.corners),this._super(a)},_destroy:function(){this.options.enhanced||(null!=this._originalTabIndex?this.element.attr("tabindex",this._originalTabIndex):this.element.removeAttr("tabindex"),this.on.remove(),this.off.remove(),this.element.unwrap(),this.flipswitch.remove(),this.removeClass("ui-flipswitch-input"))}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.rangeslider",a.extend({options:{theme:null,trackTheme:null,corners:!0,mini:!1,highlight:!0},_create:function(){var b=this.element,c=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",d=b.find("input").first(),e=b.find("input").last(),f=b.find("label").first(),g=a.data(d.get(0),"mobile-slider")||a.data(d.slider().get(0),"mobile-slider"),h=a.data(e.get(0),"mobile-slider")||a.data(e.slider().get(0),"mobile-slider"),i=g.slider,j=h.slider,k=g.handle,l=a("<div class='ui-rangeslider-sliders' />").appendTo(b);d.addClass("ui-rangeslider-first"),e.addClass("ui-rangeslider-last"),b.addClass(c),i.appendTo(l),j.appendTo(l),f.insertBefore(b),k.prependTo(j),a.extend(this,{_inputFirst:d,_inputLast:e,_sliderFirst:i,_sliderLast:j,_label:f,_targetVal:null,_sliderTarget:!1,_sliders:l,_proxy:!1}),this.refresh(),this._on(this.element.find("input.ui-slider-input"),{slidebeforestart:"_slidebeforestart",slidestop:"_slidestop",slidedrag:"_slidedrag",slidebeforechange:"_change",blur:"_change",keyup:"_change"}),this._on({mousedown:"_change"}),this._on(this.element.closest("form"),{reset:"_handleReset"}),this._on(k,{vmousedown:"_dragFirstHandle"})},_handleReset:function(){var a=this;setTimeout(function(){a._updateHighlight()},0)},_dragFirstHandle:function(b){return a.data(this._inputFirst.get(0),"mobile-slider").dragging=!0,a.data(this._inputFirst.get(0),"mobile-slider").refresh(b),a.data(this._inputFirst.get(0),"mobile-slider")._trigger("start"),!1},_slidedrag:function(b){var c=a(b.target).is(this._inputFirst),d=c?this._inputLast:this._inputFirst;return this._sliderTarget=!1,"first"===this._proxy&&c||"last"===this._proxy&&!c?(a.data(d.get(0),"mobile-slider").dragging=!0,a.data(d.get(0),"mobile-slider").refresh(b),!1):void 0},_slidestop:function(b){var c=a(b.target).is(this._inputFirst);this._proxy=!1,this.element.find("input").trigger("vmouseup"),this._sliderFirst.css("z-index",c?1:"")},_slidebeforestart:function(b){this._sliderTarget=!1,a(b.originalEvent.target).hasClass("ui-slider-track")&&(this._sliderTarget=!0,this._targetVal=a(b.target).val())},_setOptions:function(a){a.theme!==b&&this._setTheme(a.theme),a.trackTheme!==b&&this._setTrackTheme(a.trackTheme),a.mini!==b&&this._setMini(a.mini),a.highlight!==b&&this._setHighlight(a.highlight),a.disabled!==b&&this._setDisabled(a.disabled),this._super(a),this.refresh()},refresh:function(){var a=this.element,b=this.options;(this._inputFirst.is(":disabled")||this._inputLast.is(":disabled"))&&(this.options.disabled=!0),a.find("input").slider({theme:b.theme,trackTheme:b.trackTheme,disabled:b.disabled,corners:b.corners,mini:b.mini,highlight:b.highlight}).slider("refresh"),this._updateHighlight()},_change:function(b){if("keyup"===b.type)return this._updateHighlight(),!1;var c=this,d=parseFloat(this._inputFirst.val(),10),e=parseFloat(this._inputLast.val(),10),f=a(b.target).hasClass("ui-rangeslider-first"),g=f?this._inputFirst:this._inputLast,h=f?this._inputLast:this._inputFirst;if(this._inputFirst.val()>this._inputLast.val()&&"mousedown"===b.type&&!a(b.target).hasClass("ui-slider-handle"))g.blur();else if("mousedown"===b.type)return;return d>e&&!this._sliderTarget?(g.val(f?e:d).slider("refresh"),this._trigger("normalize")):d>e&&(g.val(this._targetVal).slider("refresh"),setTimeout(function(){h.val(f?d:e).slider("refresh"),a.data(h.get(0),"mobile-slider").handle.focus(),c._sliderFirst.css("z-index",f?"":1),c._trigger("normalize")},0),this._proxy=f?"first":"last"),d===e?(a.data(g.get(0),"mobile-slider").handle.css("z-index",1),a.data(h.get(0),"mobile-slider").handle.css("z-index",0)):(a.data(h.get(0),"mobile-slider").handle.css("z-index",""),a.data(g.get(0),"mobile-slider").handle.css("z-index","")),this._updateHighlight(),d>=e?!1:void 0},_updateHighlight:function(){var b=parseInt(a.data(this._inputFirst.get(0),"mobile-slider").handle.get(0).style.left,10),c=parseInt(a.data(this._inputLast.get(0),"mobile-slider").handle.get(0).style.left,10),d=c-b;this.element.find(".ui-slider-bg").css({"margin-left":b+"%",width:d+"%"})},_setTheme:function(a){this._inputFirst.slider("option","theme",a),this._inputLast.slider("option","theme",a)},_setTrackTheme:function(a){this._inputFirst.slider("option","trackTheme",a),this._inputLast.slider("option","trackTheme",a)},_setMini:function(a){this._inputFirst.slider("option","mini",a),this._inputLast.slider("option","mini",a),this.element.toggleClass("ui-mini",!!a)},_setHighlight:function(a){this._inputFirst.slider("option","highlight",a),this._inputLast.slider("option","highlight",a)},_setDisabled:function(a){this._inputFirst.prop("disabled",a),this._inputLast.prop("disabled",a)},_destroy:function(){this._label.prependTo(this.element),this.element.removeClass("ui-rangeslider ui-mini"),this._inputFirst.after(this._sliderFirst),this._inputLast.after(this._sliderLast),this._sliders.remove(),this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy")}},a.mobile.behaviors.formReset))}(a),function(a,b){a.widget("mobile.textinput",a.mobile.textinput,{options:{clearBtn:!1,clearBtnText:"Clear text"},_create:function(){this._super(),this.isSearch&&(this.options.clearBtn=!0),this.options.clearBtn&&this.inputNeedsWrap&&this._addClearBtn()},clearButton:function(){return a("<a href='#' tabindex='-1' aria-hidden='true' class='ui-input-clear ui-btn ui-icon-delete ui-btn-icon-notext ui-corner-all'></a>").attr("title",this.options.clearBtnText).text(this.options.clearBtnText)},_clearBtnClick:function(a){this.element.val("").focus().trigger("change"),this._clearBtn.addClass("ui-input-clear-hidden"),a.preventDefault()},_addClearBtn:function(){this.options.enhanced||this._enhanceClear(),a.extend(this,{_clearBtn:this.widget().find("a.ui-input-clear")}),this._bindClearEvents(),this._toggleClear()},_enhanceClear:function(){this.clearButton().appendTo(this.widget()),this.widget().addClass("ui-input-has-clear")},_bindClearEvents:function(){this._on(this._clearBtn,{click:"_clearBtnClick"}),this._on({keyup:"_toggleClear",change:"_toggleClear",input:"_toggleClear",focus:"_toggleClear",blur:"_toggleClear",cut:"_toggleClear",paste:"_toggleClear"})},_unbindClear:function(){this._off(this._clearBtn,"click"),this._off(this.element,"keyup change input focus blur cut paste")},_setOptions:function(a){this._super(a),a.clearBtn===b||this.element.is("textarea, :jqmData(type='range')")||(a.clearBtn?this._addClearBtn():this._destroyClear()),a.clearBtnText!==b&&this._clearBtn!==b&&this._clearBtn.text(a.clearBtnText).attr("title",a.clearBtnText)},_toggleClear:function(){this._delay("_toggleClearClass",0)},_toggleClearClass:function(){this._clearBtn.toggleClass("ui-input-clear-hidden",!this.element.val())},_destroyClear:function(){this.widget().removeClass("ui-input-has-clear"),this._unbindClear(),this._clearBtn.remove()},_destroy:function(){this._super(),this.options.clearBtn&&this._destroyClear()}})}(a),function(a,b){a.widget("mobile.textinput",a.mobile.textinput,{options:{autogrow:!0,keyupTimeoutBuffer:100},_create:function(){this._super(),this.options.autogrow&&this.isTextarea&&this._autogrow()},_autogrow:function(){this.element.addClass("ui-textinput-autogrow"),this._on({keyup:"_timeout",change:"_timeout",input:"_timeout",paste:"_timeout"}),this._on(!0,this.document,{pageshow:"_handleShow",popupbeforeposition:"_handleShow",updatelayout:"_handleShow",panelopen:"_handleShow"})},_handleShow:function(b){a.contains(b.target,this.element[0])&&this.element.is(":visible")&&("popupbeforeposition"!==b.type&&this.element.addClass("ui-textinput-autogrow-resize").animationComplete(a.proxy(function(){this.element.removeClass("ui-textinput-autogrow-resize")},this),"transition"),this._prepareHeightUpdate())},_unbindAutogrow:function(){this.element.removeClass("ui-textinput-autogrow"),this._off(this.element,"keyup change input paste"),this._off(this.document,"pageshow popupbeforeposition updatelayout panelopen")},keyupTimeout:null,_prepareHeightUpdate:function(a){this.keyupTimeout&&clearTimeout(this.keyupTimeout),a===b?this._updateHeight():this.keyupTimeout=this._delay("_updateHeight",a)},_timeout:function(){this._prepareHeightUpdate(this.options.keyupTimeoutBuffer)},_updateHeight:function(){var a,b,c,d,e,f,g,h,i,j=this.window.scrollTop();this.keyupTimeout=0,"onpage"in this.element[0]||this.element.css({height:0,"min-height":0,"max-height":0}),d=this.element[0].scrollHeight,e=this.element[0].clientHeight,f=parseFloat(this.element.css("border-top-width")),g=parseFloat(this.element.css("border-bottom-width")),h=f+g,i=d+h+15,0===e&&(a=parseFloat(this.element.css("padding-top")),b=parseFloat(this.element.css("padding-bottom")),c=a+b,i+=c),this.element.css({height:i,"min-height":"","max-height":""}),this.window.scrollTop(j)},refresh:function(){this.options.autogrow&&this.isTextarea&&this._updateHeight()},_setOptions:function(a){this._super(a),a.autogrow!==b&&this.isTextarea&&(a.autogrow?this._autogrow():this._unbindAutogrow())}})}(a),function(a){a.widget("mobile.selectmenu",a.extend({initSelector:"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )",options:{theme:null,icon:"carat-d",iconpos:"right",inline:!1,corners:!0,shadow:!0,iconshadow:!1,overlayTheme:null,dividerTheme:null,hidePlaceholderMenuItems:!0,closeText:"Close",nativeMenu:!0,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,mini:!1},_button:function(){return a("<div/>")},_setDisabled:function(a){return this.element.attr("disabled",a),this.button.attr("aria-disabled",a),this._setOption("disabled",a)},_focusButton:function(){var a=this;setTimeout(function(){a.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var b=this.options.inline||this.element.jqmData("inline"),c=this.options.mini||this.element.jqmData("mini"),d="";~this.element[0].className.indexOf("ui-btn-left")&&(d=" ui-btn-left"),~this.element[0].className.indexOf("ui-btn-right")&&(d=" ui-btn-right"),b&&(d+=" ui-btn-inline"),c&&(d+=" ui-mini"),this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+d+"'>"),this.selectId=this.select.attr("id")||"select-"+this.uuid,this.buttonId=this.selectId+"-button",this.label=a("label[for='"+this.selectId+"']"),this.isMultiple=this.select[0].multiple},_destroy:function(){var a=this.element.parents(".ui-select");a.length>0&&(a.is(".ui-btn-left, .ui-btn-right")&&this.element.addClass(a.hasClass("ui-btn-left")?"ui-btn-left":"ui-btn-right"),this.element.insertAfter(a),a.remove())},_create:function(){this._preExtension(),this.button=this._button();var c=this,d=this.options,e=d.icon?d.iconpos||this.select.jqmData("iconpos"):!1,f=this.button.insertBefore(this.select).attr("id",this.buttonId).addClass("ui-btn"+(d.icon?" ui-icon-"+d.icon+" ui-btn-icon-"+e+(d.iconshadow?" ui-shadow-icon":""):"")+(d.theme?" ui-btn-"+d.theme:"")+(d.corners?" ui-corner-all":"")+(d.shadow?" ui-shadow":""));this.setButtonText(),d.nativeMenu&&b.opera&&b.opera.version&&f.addClass("ui-select-nativeonly"),this.isMultiple&&(this.buttonCount=a("<span>").addClass("ui-li-count ui-body-inherit").hide().appendTo(f.addClass("ui-li-has-count"))),(d.disabled||this.element.attr("disabled"))&&this.disable(),this.select.change(function(){c.refresh(),d.nativeMenu&&c._delay(function(){c.select.blur()})}),this._handleFormReset(),this._on(this.button,{keydown:"_handleKeydown"}),this.build()},build:function(){var b=this;this.select.appendTo(b.button).bind("vmousedown",function(){b.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){b.button.addClass(a.mobile.focusClass)}).bind("blur",function(){b.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",function(){b.button.trigger("vmouseover")}).bind("vmousemove",function(){b.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){b.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}),b.button.bind("vmousedown",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.label.bind("click focus",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.select.bind("focus",function(){b.options.preventFocusZoom&&a.mobile.zoom.disable(!0)}),b.button.bind("mouseup",function(){b.options.preventFocusZoom&&setTimeout(function(){a.mobile.zoom.enable(!0)},0)}),b.select.bind("blur",function(){b.options.preventFocusZoom&&a.mobile.zoom.enable(!0)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var a=this;return this.selected().map(function(){return a._selectOptions().index(this)}).get()},setButtonText:function(){var b=this,d=this.selected(),e=this.placeholder,f=a(c.createElement("span"));this.button.children("span").not(".ui-li-count").remove().end().end().prepend(function(){return e=d.length?d.map(function(){return a(this).text()}).get().join(", "):b.placeholder,e?f.text(e):f.html("&#160;"),f.addClass(b.select.attr("class")).addClass(d.attr("class")).removeClass("ui-screen-hidden")}())},setButtonCount:function(){var a=this.selected();this.isMultiple&&this.buttonCount[a.length>1?"show":"hide"]().text(a.length)},_handleKeydown:function(){this._delay("_refreshButton")},_reset:function(){this.refresh()},_refreshButton:function(){this.setButtonText(),this.setButtonCount()},refresh:function(){this._refreshButton()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(!0),this.button.addClass("ui-state-disabled")},enable:function(){this._setDisabled(!1),this.button.removeClass("ui-state-disabled")}},a.mobile.behaviors.formReset))}(a),function(a){a.mobile.links=function(b){a(b).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var a=this,b=a.getAttribute("href").substring(1);b&&(a.setAttribute("aria-haspopup",!0),a.setAttribute("aria-owns",b),a.setAttribute("aria-expanded",!1))}).end().not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")}}(a),function(a,c){function d(a,b,c,d){var e=d;return e=b>a?c+(a-b)/2:Math.min(Math.max(c,d-b/2),c+a-b)}function e(a){return{x:a.scrollLeft(),y:a.scrollTop(),cx:a[0].innerWidth||a.width(),cy:a[0].innerHeight||a.height()}}a.widget("mobile.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:!0,corners:!0,transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:!0,enhanced:!1,history:!a.mobile.browser.oldIE},_handleDocumentVmousedown:function(b){this._isOpen&&a.contains(this._ui.container[0],b.target)&&this._ignoreResizeEvents()},_create:function(){var b=this.element,c=b.attr("id"),d=this.options;d.history=d.history&&a.mobile.ajaxEnabled&&a.mobile.hashListeningEnabled,this._on(this.document,{vmousedown:"_handleDocumentVmousedown"}),a.extend(this,{_scrollTop:0,_page:b.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:!1,_prerequisites:null,_isOpen:!1,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:!1}),0===this._page.length&&(this._page=a("body")),d.enhanced?this._ui={container:b.parent(),screen:b.parent().prev(),placeholder:a(this.document[0].getElementById(c+"-placeholder"))}:(this._ui=this._enhance(b,c),this._applyTransition(d.transition)),this._setTolerance(d.tolerance)._ui.focusElement=this._ui.container,this._on(this._ui.screen,{vclick:"_eatEventAndClose"}),this._on(this.window,{orientationchange:a.proxy(this,"_handleWindowOrientationchange"),resize:a.proxy(this,"_handleWindowResize"),keyup:a.proxy(this,"_handleWindowKeyUp")}),this._on(this.document,{focusin:"_handleDocumentFocusIn"})},_enhance:function(b,c){var d=this.options,e=d.wrapperClass,f={screen:a("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",d.overlayTheme)+"'></div>"),placeholder:a("<div style='display: none;'><!-- placeholder --></div>"),container:a("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+(e?" "+e:"")+"'></div>")},g=this.document[0].createDocumentFragment();return g.appendChild(f.screen[0]),g.appendChild(f.container[0]),c&&(f.screen.attr("id",c+"-screen"),f.container.attr("id",c+"-popup"),f.placeholder.attr("id",c+"-placeholder").html("<!-- placeholder for "+c+" -->")),this._page[0].appendChild(g),f.placeholder.insertAfter(b),b.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",d.theme)+" "+(d.shadow?"ui-overlay-shadow ":"")+(d.corners?"ui-corner-all ":"")).appendTo(f.container),f},_eatEventAndClose:function(a){return a.preventDefault(),a.stopImmediatePropagation(),this.options.dismissible&&this.close(),!1},_resizeScreen:function(){var a=this._ui.screen,b=this._ui.container.outerHeight(!0),c=a.removeAttr("style").height(),d=this.document.height()-1;d>c?a.height(d):b>c&&a.height(b)},_handleWindowKeyUp:function(b){return this._isOpen&&b.keyCode===a.mobile.keyCode.ESCAPE?this._eatEventAndClose(b):void 0},_expectResizeEvent:function(){var a=e(this.window);
if(this._resizeData){if(a.x===this._resizeData.windowCoordinates.x&&a.y===this._resizeData.windowCoordinates.y&&a.cx===this._resizeData.windowCoordinates.cx&&a.cy===this._resizeData.windowCoordinates.cy)return!1;clearTimeout(this._resizeData.timeoutId)}return this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:a},!0},_resizeTimeout:function(){this._isOpen?this._expectResizeEvent()||(this._ui.container.hasClass("ui-popup-hidden")&&(this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate"),this.reposition({positionTo:"window"}),this._ignoreResizeEvents()),this._resizeScreen(),this._resizeData=null,this._orientationchangeInProgress=!1):(this._resizeData=null,this._orientationchangeInProgress=!1)},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0},_ignoreResizeEvents:function(){this._ignoreResizeTo&&clearTimeout(this._ignoreResizeTo),this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1e3)},_handleWindowResize:function(){this._isOpen&&0===this._ignoreResizeTo&&(!this._expectResizeEvent()&&!this._orientationchangeInProgress||this._ui.container.hasClass("ui-popup-hidden")||this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style"))},_handleWindowOrientationchange:function(){!this._orientationchangeInProgress&&this._isOpen&&0===this._ignoreResizeTo&&(this._expectResizeEvent(),this._orientationchangeInProgress=!0)},_handleDocumentFocusIn:function(b){var c,d=b.target,e=this._ui;if(this._isOpen){if(d!==e.container[0]){if(c=a(d),!a.contains(e.container[0],d))return a(this.document[0].activeElement).one("focus",a.proxy(function(){this._safelyBlur(d)},this)),e.focusElement.focus(),b.preventDefault(),b.stopImmediatePropagation(),!1;e.focusElement[0]===e.container[0]&&(e.focusElement=c)}this._ignoreResizeEvents()}},_themeClassFromOption:function(a,b){return b?"none"===b?"":a+b:a+"inherit"},_applyTransition:function(b){return b&&(this._ui.container.removeClass(this._fallbackTransition),"none"!==b&&(this._fallbackTransition=a.mobile._maybeDegradeTransition(b),"none"===this._fallbackTransition&&(this._fallbackTransition=""),this._ui.container.addClass(this._fallbackTransition))),this},_setOptions:function(a){var b=this.options,d=this.element,e=this._ui.screen;return a.wrapperClass!==c&&this._ui.container.removeClass(b.wrapperClass).addClass(a.wrapperClass),a.theme!==c&&d.removeClass(this._themeClassFromOption("ui-body-",b.theme)).addClass(this._themeClassFromOption("ui-body-",a.theme)),a.overlayTheme!==c&&(e.removeClass(this._themeClassFromOption("ui-overlay-",b.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",a.overlayTheme)),this._isOpen&&e.addClass("in")),a.shadow!==c&&d.toggleClass("ui-overlay-shadow",a.shadow),a.corners!==c&&d.toggleClass("ui-corner-all",a.corners),a.transition!==c&&(this._currentTransition||this._applyTransition(a.transition)),a.tolerance!==c&&this._setTolerance(a.tolerance),a.disabled!==c&&a.disabled&&this.close(),this._super(a)},_setTolerance:function(b){var d,e={t:30,r:15,b:30,l:15};if(b!==c)switch(d=String(b).split(","),a.each(d,function(a,b){d[a]=parseInt(b,10)}),d.length){case 1:isNaN(d[0])||(e.t=e.r=e.b=e.l=d[0]);break;case 2:isNaN(d[0])||(e.t=e.b=d[0]),isNaN(d[1])||(e.l=e.r=d[1]);break;case 4:isNaN(d[0])||(e.t=d[0]),isNaN(d[1])||(e.r=d[1]),isNaN(d[2])||(e.b=d[2]),isNaN(d[3])||(e.l=d[3])}return this._tolerance=e,this},_clampPopupWidth:function(a){var b,c=e(this.window),d={x:this._tolerance.l,y:c.y+this._tolerance.t,cx:c.cx-this._tolerance.l-this._tolerance.r,cy:c.cy-this._tolerance.t-this._tolerance.b};return a||this._ui.container.css("max-width",d.cx),b={cx:this._ui.container.outerWidth(!0),cy:this._ui.container.outerHeight(!0)},{rc:d,menuSize:b}},_calculateFinalLocation:function(a,b){var c,e=b.rc,f=b.menuSize;return c={left:d(e.cx,f.cx,e.x,a.x),top:d(e.cy,f.cy,e.y,a.y)},c.top=Math.max(0,c.top),c.top-=Math.min(c.top,Math.max(0,c.top+f.cy-this.document.height())),c},_placementCoords:function(a){return this._calculateFinalLocation(a,this._clampPopupWidth())},_createPrerequisites:function(b,c,d){var e,f=this;e={screen:a.Deferred(),container:a.Deferred()},e.screen.then(function(){e===f._prerequisites&&b()}),e.container.then(function(){e===f._prerequisites&&c()}),a.when(e.screen,e.container).done(function(){e===f._prerequisites&&(f._prerequisites=null,d())}),f._prerequisites=e},_animate:function(b){return this._ui.screen.removeClass(b.classToRemove).addClass(b.screenClassToAdd),b.prerequisites.screen.resolve(),b.transition&&"none"!==b.transition&&(b.applyTransition&&this._applyTransition(b.transition),this._fallbackTransition)?void this._ui.container.addClass(b.containerClassToAdd).removeClass(b.classToRemove).animationComplete(a.proxy(b.prerequisites.container,"resolve")):(this._ui.container.removeClass(b.classToRemove),void b.prerequisites.container.resolve())},_desiredCoords:function(b){var c,d=null,f=e(this.window),g=b.x,h=b.y,i=b.positionTo;if(i&&"origin"!==i)if("window"===i)g=f.cx/2+f.x,h=f.cy/2+f.y;else{try{d=a(i)}catch(j){d=null}d&&(d.filter(":visible"),0===d.length&&(d=null))}return d&&(c=d.offset(),g=c.left+d.outerWidth()/2,h=c.top+d.outerHeight()/2),("number"!==a.type(g)||isNaN(g))&&(g=f.cx/2+f.x),("number"!==a.type(h)||isNaN(h))&&(h=f.cy/2+f.y),{x:g,y:h}},_reposition:function(a){a={x:a.x,y:a.y,positionTo:a.positionTo},this._trigger("beforeposition",c,a),this._ui.container.offset(this._placementCoords(this._desiredCoords(a)))},reposition:function(a){this._isOpen&&this._reposition(a)},_safelyBlur:function(b){b!==this.window[0]&&"body"!==b.nodeName.toLowerCase()&&a(b).blur()},_openPrerequisitesComplete:function(){var b=this.element.attr("id"),c=this._ui.container.find(":focusable").first();this._ui.container.addClass("ui-popup-active"),this._isOpen=!0,this._resizeScreen(),a.contains(this._ui.container[0],this.document[0].activeElement)||this._safelyBlur(this.document[0].activeElement),c.length>0&&(this._ui.focusElement=c),this._ignoreResizeEvents(),b&&this.document.find("[aria-haspopup='true'][aria-owns='"+b+"']").attr("aria-expanded",!0),this._trigger("afteropen")},_open:function(b){var c=a.extend({},this.options,b),d=function(){var a=navigator.userAgent,b=a.match(/AppleWebKit\/([0-9\.]+)/),c=!!b&&b[1],d=a.match(/Android (\d+(?:\.\d+))/),e=!!d&&d[1],f=a.indexOf("Chrome")>-1;return null!==d&&"4.0"===e&&c&&c>534.13&&!f?!0:!1}();this._createPrerequisites(a.noop,a.noop,a.proxy(this,"_openPrerequisitesComplete")),this._currentTransition=c.transition,this._applyTransition(c.transition),this._ui.screen.removeClass("ui-screen-hidden"),this._ui.container.removeClass("ui-popup-truncate"),this._reposition(c),this._ui.container.removeClass("ui-popup-hidden"),this.options.overlayTheme&&d&&this.element.closest(".ui-page").addClass("ui-popup-open"),this._animate({additionalCondition:!0,transition:c.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:!1,prerequisites:this._prerequisites})},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden")},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style")},_closePrerequisitesDone:function(){var b=this._ui.container,d=this.element.attr("id");a.mobile.popup.active=c,a(":focus",b[0]).add(b[0]).blur(),d&&this.document.find("[aria-haspopup='true'][aria-owns='"+d+"']").attr("aria-expanded",!1),this._trigger("afterclose")},_close:function(b){this._ui.container.removeClass("ui-popup-active"),this._page.removeClass("ui-popup-open"),this._isOpen=!1,this._createPrerequisites(a.proxy(this,"_closePrerequisiteScreen"),a.proxy(this,"_closePrerequisiteContainer"),a.proxy(this,"_closePrerequisitesDone")),this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:b?"none":this._currentTransition,classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:!0,prerequisites:this._prerequisites})},_unenhance:function(){this.options.enhanced||(this._setOptions({theme:a.mobile.popup.prototype.options.theme}),this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit"),this._ui.screen.remove(),this._ui.container.remove(),this._ui.placeholder.remove())},_destroy:function(){return a.mobile.popup.active===this?(this.element.one("popupafterclose",a.proxy(this,"_unenhance")),this.close()):this._unenhance(),this},_closePopup:function(c,d){var e,f,g=this.options,h=!1;c&&c.isDefaultPrevented()||a.mobile.popup.active!==this||(b.scrollTo(0,this._scrollTop),c&&"pagebeforechange"===c.type&&d&&(e="string"==typeof d.toPage?d.toPage:d.toPage.jqmData("url"),e=a.mobile.path.parseUrl(e),f=e.pathname+e.search+e.hash,this._myUrl!==a.mobile.path.makeUrlAbsolute(f)?h=!0:c.preventDefault()),this.window.off(g.closeEvents),this.element.undelegate(g.closeLinkSelector,g.closeLinkEvents),this._close(h))},_bindContainerClose:function(){this.window.on(this.options.closeEvents,a.proxy(this,"_closePopup"))},widget:function(){return this._ui.container},open:function(b){var c,d,e,f,g,h,i=this,j=this.options;return a.mobile.popup.active||j.disabled?this:(a.mobile.popup.active=this,this._scrollTop=this.window.scrollTop(),j.history?(h=a.mobile.navigate.history,d=a.mobile.dialogHashKey,e=a.mobile.activePage,f=e?e.hasClass("ui-dialog"):!1,this._myUrl=c=h.getActive().url,(g=c.indexOf(d)>-1&&!f&&h.activeIndex>0)?(i._open(b),i._bindContainerClose(),this):(-1!==c.indexOf(d)||f?c=a.mobile.path.parseLocation().hash+d:c+=c.indexOf("#")>-1?d:"#"+d,this.window.one("beforenavigate",function(a){a.preventDefault(),i._open(b),i._bindContainerClose()}),this.urlAltered=!0,a.mobile.navigate(c,{role:"dialog"}),this)):(i._open(b),i._bindContainerClose(),i.element.delegate(j.closeLinkSelector,j.closeLinkEvents,function(a){i.close(),a.preventDefault()}),this))},close:function(){return a.mobile.popup.active!==this?this:(this._scrollTop=this.window.scrollTop(),this.options.history&&this.urlAltered?(a.mobile.back(),this.urlAltered=!1):this._closePopup(),this)}}),a.mobile.popup.handleLink=function(b){var c,d=a.mobile.path,e=a(d.hashToSelector(d.parseUrl(b.attr("href")).hash)).first();e.length>0&&e.data("mobile-popup")&&(c=b.offset(),e.popup("open",{x:c.left+b.outerWidth()/2,y:c.top+b.outerHeight()/2,transition:b.jqmData("transition"),positionTo:b.jqmData("position-to")})),setTimeout(function(){b.removeClass(a.mobile.activeBtnClass)},300)},a.mobile.document.on("pagebeforechange",function(b,c){"popup"===c.options.role&&(a.mobile.popup.handleLink(c.options.link),b.preventDefault())})}(a),function(a,b){var d=".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')",e=function(a,b,c){var e=a[c+"All"]().not(d).first();e.length&&(b.blur().attr("tabindex","-1"),e.find("a").first().focus())};a.widget("mobile.selectmenu",a.mobile.selectmenu,{_create:function(){var a=this.options;return a.nativeMenu=a.nativeMenu||this.element.parents(":jqmData(role='popup'),:mobile-popup").length>0,this._super()},_handleSelectFocus:function(){this.element.blur(),this.button.focus()},_handleKeydown:function(a){this._super(a),this._handleButtonVclickKeydown(a)},_handleButtonVclickKeydown:function(b){this.options.disabled||this.isOpen||this.options.nativeMenu||("vclick"===b.type||b.keyCode&&(b.keyCode===a.mobile.keyCode.ENTER||b.keyCode===a.mobile.keyCode.SPACE))&&(this._decideFormat(),"overlay"===this.menuType?this.button.attr("href","#"+this.popupId).attr("data-"+(a.mobile.ns||"")+"rel","popup"):this.button.attr("href","#"+this.dialogId).attr("data-"+(a.mobile.ns||"")+"rel","dialog"),this.isOpen=!0)},_handleListFocus:function(b){var c="focusin"===b.type?{tabindex:"0",event:"vmouseover"}:{tabindex:"-1",event:"vmouseout"};a(b.target).attr("tabindex",c.tabindex).trigger(c.event)},_handleListKeydown:function(b){var c=a(b.target),d=c.closest("li");switch(b.keyCode){case 38:return e(d,c,"prev"),!1;case 40:return e(d,c,"next"),!1;case 13:case 32:return c.trigger("click"),!1}},_handleMenuPageHide:function(){this._delayedTrigger(),this.thisPage.page("bindRemove")},_handleHeaderCloseClick:function(){return"overlay"===this.menuType?(this.close(),!1):void 0},_handleListItemClick:function(b){var c=a(b.target).closest("li"),d=this.select[0].selectedIndex,e=a.mobile.getAttribute(c,"option-index"),f=this._selectOptions().eq(e)[0];f.selected=this.isMultiple?!f.selected:!0,this.isMultiple&&c.find("a").toggleClass("ui-checkbox-on",f.selected).toggleClass("ui-checkbox-off",!f.selected),this.isMultiple||d===e||(this._triggerChange=!0),this.isMultiple?(this.select.trigger("change"),this.list.find("li:not(.ui-li-divider)").eq(e).find("a").first().focus()):this.close(),b.preventDefault()},build:function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this.options;return v.nativeMenu?this._super():(c=this.selectId,d=c+"-listbox",e=c+"-dialog",f=this.label,g=this.element.closest(".ui-page"),h=this.element[0].multiple,i=c+"-menu",j=v.theme?" data-"+a.mobile.ns+"theme='"+v.theme+"'":"",k=v.overlayTheme||v.theme||null,l=k?" data-"+a.mobile.ns+"overlay-theme='"+k+"'":"",m=v.dividerTheme&&h?" data-"+a.mobile.ns+"divider-theme='"+v.dividerTheme+"'":"",n=a("<div data-"+a.mobile.ns+"role='dialog' class='ui-selectmenu' id='"+e+"'"+j+l+"><div data-"+a.mobile.ns+"role='header'><div class='ui-title'></div></div><div data-"+a.mobile.ns+"role='content'></div></div>"),o=a("<div"+j+l+" id='"+d+"' class='ui-selectmenu'></div>").insertAfter(this.select).popup(),p=a("<ul class='ui-selectmenu-list' id='"+i+"' role='listbox' aria-labelledby='"+this.buttonId+"'"+j+m+"></ul>").appendTo(o),q=a("<div class='ui-header ui-bar-"+(v.theme?v.theme:"inherit")+"'></div>").prependTo(o),r=a("<h1 class='ui-title'></h1>").appendTo(q),this.isMultiple&&(u=a("<a>",{role:"button",text:v.closeText,href:"#","class":"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete"}).appendTo(q)),a.extend(this,{selectId:c,menuId:i,popupId:d,dialogId:e,thisPage:g,menuPage:n,label:f,isMultiple:h,theme:v.theme,listbox:o,list:p,header:q,headerTitle:r,headerClose:u,menuPageContent:s,menuPageClose:t,placeholder:""}),this.refresh(),this._origTabIndex===b&&(this._origTabIndex=null===this.select[0].getAttribute("tabindex")?!1:this.select.attr("tabindex")),this.select.attr("tabindex","-1"),this._on(this.select,{focus:"_handleSelectFocus"}),this._on(this.button,{vclick:"_handleButtonVclickKeydown"}),this.list.attr("role","listbox"),this._on(this.list,{focusin:"_handleListFocus",focusout:"_handleListFocus",keydown:"_handleListKeydown","click li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)":"_handleListItemClick"}),this._on(this.menuPage,{pagehide:"_handleMenuPageHide"}),this._on(this.listbox,{popupafterclose:"_popupClosed"}),this.isMultiple&&this._on(this.headerClose,{click:"_handleHeaderCloseClick"}),this)},_popupClosed:function(){this.close(),this._delayedTrigger()},_delayedTrigger:function(){this._triggerChange&&this.element.trigger("change"),this._triggerChange=!1},_isRebuildRequired:function(){var a=this.list.find("li"),b=this._selectOptions().not(".ui-screen-hidden");return b.text()!==a.text()},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )")},refresh:function(b){var c,d;return this.options.nativeMenu?this._super(b):(c=this,(b||this._isRebuildRequired())&&c._buildList(),d=this.selectedIndices(),c.setButtonText(),c.setButtonCount(),void c.list.find("li:not(.ui-li-divider)").find("a").removeClass(a.mobile.activeBtnClass).end().attr("aria-selected",!1).each(function(b){var e=a(this);a.inArray(b,d)>-1?(e.attr("aria-selected",!0),c.isMultiple?e.find("a").removeClass("ui-checkbox-off").addClass("ui-checkbox-on"):e.hasClass("ui-screen-hidden")?e.next().find("a").addClass(a.mobile.activeBtnClass):e.find("a").addClass(a.mobile.activeBtnClass)):c.isMultiple&&e.find("a").removeClass("ui-checkbox-on").addClass("ui-checkbox-off")}))},close:function(){if(!this.options.disabled&&this.isOpen){var a=this;"page"===a.menuType?(a.menuPage.dialog("close"),a.list.appendTo(a.listbox)):a.listbox.popup("close"),a._focusButton(),a.isOpen=!1}},open:function(){this.button.click()},_focusMenuItem:function(){var b=this.list.find("a."+a.mobile.activeBtnClass);0===b.length&&(b=this.list.find("li:not("+d+") a.ui-btn")),b.first().focus()},_decideFormat:function(){var b=this,c=this.window,d=b.list.parent(),e=d.outerHeight(),f=c.scrollTop(),g=b.button.offset().top,h=c.height();e>h-80||!a.support.scrollTop?(b.menuPage.appendTo(a.mobile.pageContainer).page(),b.menuPageContent=b.menuPage.find(".ui-content"),b.menuPageClose=b.menuPage.find(".ui-header a"),b.thisPage.unbind("pagehide.remove"),0===f&&g>h&&b.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",g)}),b.menuPage.one({pageshow:a.proxy(this,"_focusMenuItem"),pagehide:a.proxy(this,"close")}),b.menuType="page",b.menuPageContent.append(b.list),b.menuPage.find("div .ui-title").text(b.label.getEncodedText()||b.placeholder)):(b.menuType="overlay",b.listbox.one({popupafteropen:a.proxy(this,"_focusMenuItem")}))},_buildList:function(){var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=this.options,s=this.placeholder,t=!0,u="false",v="data-"+a.mobile.ns,w=v+"option-index",x=v+"icon",y=v+"role",z=v+"placeholder",A=c.createDocumentFragment(),B=!1;for(q.list.empty().filter(".ui-listview").listview("destroy"),b=this._selectOptions(),d=b.length,e=this.select[0],g=0;d>g;g++,B=!1)h=b[g],i=a(h),i.hasClass("ui-screen-hidden")||(j=h.parentNode,m=[],k=i.text(),l=c.createElement("a"),l.setAttribute("href","#"),l.appendChild(c.createTextNode(k)),j!==e&&"optgroup"===j.nodeName.toLowerCase()&&(n=j.getAttribute("label"),n!==f&&(o=c.createElement("li"),o.setAttribute(y,"list-divider"),o.setAttribute("role","option"),o.setAttribute("tabindex","-1"),o.appendChild(c.createTextNode(n)),A.appendChild(o),f=n)),!t||h.getAttribute("value")&&0!==k.length&&!i.jqmData("placeholder")||(t=!1,B=!0,null===h.getAttribute(z)&&(this._removePlaceholderAttr=!0),h.setAttribute(z,!0),r.hidePlaceholderMenuItems&&m.push("ui-screen-hidden"),s!==k&&(s=q.placeholder=k)),p=c.createElement("li"),h.disabled&&(m.push("ui-state-disabled"),p.setAttribute("aria-disabled",!0)),p.setAttribute(w,g),p.setAttribute(x,u),B&&p.setAttribute(z,!0),p.className=m.join(" "),p.setAttribute("role","option"),l.setAttribute("tabindex","-1"),this.isMultiple&&a(l).addClass("ui-btn ui-checkbox-off ui-btn-icon-right"),p.appendChild(l),A.appendChild(p));q.list[0].appendChild(A),this.isMultiple||s.length?this.headerTitle.text(this.placeholder):this.header.addClass("ui-screen-hidden"),q.list.listview()},_button:function(){return this.options.nativeMenu?this._super():a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})},_destroy:function(){this.options.nativeMenu||(this.close(),this._origTabIndex!==b&&(this._origTabIndex!==!1?this.select.attr("tabindex",this._origTabIndex):this.select.removeAttr("tabindex")),this._removePlaceholderAttr&&this._selectOptions().removeAttr("data-"+a.mobile.ns+"placeholder"),this.listbox.remove(),this.menuPage.remove()),this._super()}})}(a),function(a,b){function c(a,b){var c=b?b:[];return c.push("ui-btn"),a.theme&&c.push("ui-btn-"+a.theme),a.icon&&(c=c.concat(["ui-icon-"+a.icon,"ui-btn-icon-"+a.iconpos]),a.iconshadow&&c.push("ui-shadow-icon")),a.inline&&c.push("ui-btn-inline"),a.shadow&&c.push("ui-shadow"),a.corners&&c.push("ui-corner-all"),a.mini&&c.push("ui-mini"),c}function d(a){var c,d,e,g=!1,h=!0,i={icon:"",inline:!1,shadow:!1,corners:!1,iconshadow:!1,mini:!1},j=[];for(a=a.split(" "),c=0;c<a.length;c++)e=!0,d=f[a[c]],d!==b?(e=!1,i[d]=!0):0===a[c].indexOf("ui-btn-icon-")?(e=!1,h=!1,i.iconpos=a[c].substring(12)):0===a[c].indexOf("ui-icon-")?(e=!1,i.icon=a[c].substring(8)):0===a[c].indexOf("ui-btn-")&&8===a[c].length?(e=!1,i.theme=a[c].substring(7)):"ui-btn"===a[c]&&(e=!1,g=!0),e&&j.push(a[c]);return h&&(i.icon=""),{options:i,unknownClasses:j,alreadyEnhanced:g}}function e(a){return"-"+a.toLowerCase()}var f={"ui-shadow":"shadow","ui-corner-all":"corners","ui-btn-inline":"inline","ui-shadow-icon":"iconshadow","ui-mini":"mini"},g=function(){var c=a.mobile.getAttribute.apply(this,arguments);return null==c?b:c},h=/[A-Z]/g;a.fn.buttonMarkup=function(f,i){var j,k,l,m,n,o=a.fn.buttonMarkup.defaults;for(j=0;j<this.length;j++){if(l=this[j],k=i?{alreadyEnhanced:!1,unknownClasses:[]}:d(l.className),m=a.extend({},k.alreadyEnhanced?k.options:{},f),!k.alreadyEnhanced)for(n in o)m[n]===b&&(m[n]=g(l,n.replace(h,e)));l.className=c(a.extend({},o,m),k.unknownClasses).join(" "),"button"!==l.tagName.toLowerCase()&&l.setAttribute("role","button")}return this},a.fn.buttonMarkup.defaults={icon:"",iconpos:"left",theme:null,inline:!1,shadow:!0,corners:!0,iconshadow:!1,mini:!1},a.extend(a.fn.buttonMarkup,{initSelector:"a:jqmData(role='button'), .ui-bar > a, .ui-bar > :jqmData(role='controlgroup') > a, button:not(:jqmData(role='navbar') button)"})}(a),function(a,b){a.widget("mobile.controlgroup",a.extend({options:{enhanced:!1,theme:null,shadow:!1,corners:!0,excludeInvisible:!0,type:"vertical",mini:!1},_create:function(){var b=this.element,c=this.options,d=a.mobile.page.prototype.keepNativeSelector();a.fn.buttonMarkup&&this.element.find(a.fn.buttonMarkup.initSelector).not(d).buttonMarkup(),a.each(this._childWidgets,a.proxy(function(b,c){a.mobile[c]&&this.element.find(a.mobile[c].initSelector).not(d)[c]()},this)),a.extend(this,{_ui:null,_initialRefresh:!0}),this._ui=c.enhanced?{groupLegend:b.children(".ui-controlgroup-label").children(),childWrapper:b.children(".ui-controlgroup-controls")}:this._enhance()},_childWidgets:["checkboxradio","selectmenu","button"],_themeClassFromOption:function(a){return a?"none"===a?"":"ui-group-theme-"+a:""},_enhance:function(){var b=this.element,c=this.options,d={groupLegend:b.children("legend"),childWrapper:b.addClass("ui-controlgroup ui-controlgroup-"+("horizontal"===c.type?"horizontal":"vertical")+" "+this._themeClassFromOption(c.theme)+" "+(c.corners?"ui-corner-all ":"")+(c.mini?"ui-mini ":"")).wrapInner("<div class='ui-controlgroup-controls "+(c.shadow===!0?"ui-shadow":"")+"'></div>").children()};return d.groupLegend.length>0&&a("<div role='heading' class='ui-controlgroup-label'></div>").append(d.groupLegend).prependTo(b),d},_init:function(){this.refresh()},_setOptions:function(a){var c,d,e=this.element;return a.type!==b&&(e.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+("horizontal"===a.type?"horizontal":"vertical")),c=!0),a.theme!==b&&e.removeClass(this._themeClassFromOption(this.options.theme)).addClass(this._themeClassFromOption(a.theme)),a.corners!==b&&e.toggleClass("ui-corner-all",a.corners),a.mini!==b&&e.toggleClass("ui-mini",a.mini),a.shadow!==b&&this._ui.childWrapper.toggleClass("ui-shadow",a.shadow),a.excludeInvisible!==b&&(this.options.excludeInvisible=a.excludeInvisible,c=!0),d=this._super(a),c&&this.refresh(),d},container:function(){return this._ui.childWrapper},refresh:function(){var b=this.container(),c=b.find(".ui-btn").not(".ui-slider-handle"),d=this._initialRefresh;a.mobile.checkboxradio&&b.find(":mobile-checkboxradio").checkboxradio("refresh"),this._addFirstLastClasses(c,this.options.excludeInvisible?this._getVisibles(c,d):c,d),this._initialRefresh=!1},_destroy:function(){var a,b,c=this.options;return c.enhanced?this:(a=this._ui,b=this.element.removeClass("ui-controlgroup ui-controlgroup-horizontal ui-controlgroup-vertical ui-corner-all ui-mini "+this._themeClassFromOption(c.theme)).find(".ui-btn").not(".ui-slider-handle"),this._removeFirstLastClasses(b),a.groupLegend.unwrap(),void a.childWrapper.children().unwrap())}},a.mobile.behaviors.addFirstLastClasses))}(a),function(a,b){a.widget("mobile.toolbar",{initSelector:":jqmData(role='footer'), :jqmData(role='header')",options:{theme:null,addBackBtn:!1,backBtnTheme:null,backBtnText:"Back"},_create:function(){var b,c,d=this.element.is(":jqmData(role='header')")?"header":"footer",e=this.element.closest(".ui-page");0===e.length&&(e=!1,this._on(this.document,{pageshow:"refresh"})),a.extend(this,{role:d,page:e,leftbtn:b,rightbtn:c}),this.element.attr("role","header"===d?"banner":"contentinfo").addClass("ui-"+d),this.refresh(),this._setOptions(this.options)},_setOptions:function(a){if(a.addBackBtn!==b&&this._updateBackButton(),null!=a.backBtnTheme&&this.element.find(".ui-toolbar-back-btn").addClass("ui-btn ui-btn-"+a.backBtnTheme),a.backBtnText!==b&&this.element.find(".ui-toolbar-back-btn .ui-btn-text").text(a.backBtnText),a.theme!==b){var c=this.options.theme?this.options.theme:"inherit",d=a.theme?a.theme:"inherit";this.element.removeClass("ui-bar-"+c).addClass("ui-bar-"+d)}this._super(a)},refresh:function(){"header"===this.role&&this._addHeaderButtonClasses(),this.page||(this._setRelative(),"footer"===this.role?this.element.appendTo("body"):"header"===this.role&&this._updateBackButton()),this._addHeadingClasses(),this._btnMarkup()},_setRelative:function(){a("[data-"+a.mobile.ns+"role='page']").css({position:"relative"})},_btnMarkup:function(){this.element.children("a").filter(":not([data-"+a.mobile.ns+"role='none'])").attr("data-"+a.mobile.ns+"role","button"),this.element.trigger("create")},_addHeaderButtonClasses:function(){var a=this.element.children("a, button");this.leftbtn=a.hasClass("ui-btn-left")&&!a.hasClass("ui-toolbar-back-btn"),this.rightbtn=a.hasClass("ui-btn-right"),this.leftbtn=this.leftbtn||a.eq(0).not(".ui-btn-right,.ui-toolbar-back-btn").addClass("ui-btn-left").length,this.rightbtn=this.rightbtn||a.eq(1).addClass("ui-btn-right").length},_updateBackButton:function(){var b,c=this.options,d=c.backBtnTheme||c.theme;b=this._backButton=this._backButton||{},this.options.addBackBtn&&"header"===this.role&&a(".ui-page").length>1&&(this.page?this.page[0].getAttribute("data-"+a.mobile.ns+"url")!==a.mobile.path.stripHash(location.hash):a.mobile.navigate&&a.mobile.navigate.history&&a.mobile.navigate.history.activeIndex>0)&&!this.leftbtn?b.attached||(this.backButton=b.element=(b.element||a("<a role='button' href='javascript:void(0);' class='ui-btn ui-corner-all ui-shadow ui-btn-left "+(d?"ui-btn-"+d+" ":"")+"ui-toolbar-back-btn ui-icon-carat-l ui-btn-icon-left' data-"+a.mobile.ns+"rel='back'>"+c.backBtnText+"</a>")).prependTo(this.element),b.attached=!0):b.element&&(b.element.detach(),b.attached=!1)},_addHeadingClasses:function(){this.element.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading","aria-level":"1"})},_destroy:function(){var a;this.element.children("h1, h2, h3, h4, h5, h6").removeClass("ui-title").removeAttr("role").removeAttr("aria-level"),"header"===this.role&&(this.element.children("a, button").removeClass("ui-btn-left ui-btn-right ui-btn ui-shadow ui-corner-all"),this.backButton&&this.backButton.remove()),a=this.options.theme?this.options.theme:"inherit",this.element.removeClass("ui-bar-"+a),this.element.removeClass("ui-"+this.role).removeAttr("role")}})}(a),function(a,b){a.widget("mobile.toolbar",a.mobile.toolbar,{options:{position:null,visibleOnPageShow:!0,disablePageZoom:!0,transition:"slide",fullscreen:!1,tapToggle:!0,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-flipswitch, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:!0,trackPersistentToolbars:!0,supportBlacklist:function(){return!a.support.fixedPosition}},_create:function(){this._super(),this.pagecontainer=a(":mobile-pagecontainer"),"fixed"!==this.options.position||this.options.supportBlacklist()||this._makeFixed()},_makeFixed:function(){this.element.addClass("ui-"+this.role+"-fixed"),this.updatePagePadding(),this._addTransitionClass(),this._bindPageEvents(),this._bindToggleHandlers()},_setOptions:function(c){if("fixed"===c.position&&"fixed"!==this.options.position&&this._makeFixed(),"fixed"===this.options.position&&!this.options.supportBlacklist()){var d=this.page?this.page:a(".ui-page-active").length>0?a(".ui-page-active"):a(".ui-page").eq(0);c.fullscreen!==b&&(c.fullscreen?(this.element.addClass("ui-"+this.role+"-fullscreen"),d.addClass("ui-page-"+this.role+"-fullscreen")):(this.element.removeClass("ui-"+this.role+"-fullscreen"),d.removeClass("ui-page-"+this.role+"-fullscreen").addClass("ui-page-"+this.role+"-fixed")))}this._super(c)},_addTransitionClass:function(){var a=this.options.transition;a&&"none"!==a&&("slide"===a&&(a=this.element.hasClass("ui-header")?"slidedown":"slideup"),this.element.addClass(a))},_bindPageEvents:function(){var a=this.page?this.element.closest(".ui-page"):this.document;this._on(a,{pagebeforeshow:"_handlePageBeforeShow",webkitAnimationStart:"_handleAnimationStart",animationstart:"_handleAnimationStart",updatelayout:"_handleAnimationStart",pageshow:"_handlePageShow",pagebeforehide:"_handlePageBeforeHide"})},_handlePageBeforeShow:function(){var b=this.options;b.disablePageZoom&&a.mobile.zoom.disable(!0),b.visibleOnPageShow||this.hide(!0)},_handleAnimationStart:function(){this.options.updatePagePadding&&this.updatePagePadding(this.page?this.page:".ui-page-active")},_handlePageShow:function(){this.updatePagePadding(this.page?this.page:".ui-page-active"),this.options.updatePagePadding&&this._on(this.window,{throttledresize:"updatePagePadding"})},_handlePageBeforeHide:function(b,c){var d,e,f,g,h=this.options;h.disablePageZoom&&a.mobile.zoom.enable(!0),h.updatePagePadding&&this._off(this.window,"throttledresize"),h.trackPersistentToolbars&&(d=a(".ui-footer-fixed:jqmData(id)",this.page),e=a(".ui-header-fixed:jqmData(id)",this.page),f=d.length&&c.nextPage&&a(".ui-footer-fixed:jqmData(id='"+d.jqmData("id")+"')",c.nextPage)||a(),g=e.length&&c.nextPage&&a(".ui-header-fixed:jqmData(id='"+e.jqmData("id")+"')",c.nextPage)||a(),(f.length||g.length)&&(f.add(g).appendTo(a.mobile.pageContainer),c.nextPage.one("pageshow",function(){g.prependTo(this),f.appendTo(this)})))},_visible:!0,updatePagePadding:function(c){var d=this.element,e="header"===this.role,f=parseFloat(d.css(e?"top":"bottom"));this.options.fullscreen||(c=c&&c.type===b&&c||this.page||d.closest(".ui-page"),c=this.page?this.page:".ui-page-active",a(c).css("padding-"+(e?"top":"bottom"),d.outerHeight()+f))},_useTransition:function(b){var c=this.window,d=this.element,e=c.scrollTop(),f=d.height(),g=this.page?d.closest(".ui-page").height():a(".ui-page-active").height(),h=a.mobile.getScreenHeight();return!b&&(this.options.transition&&"none"!==this.options.transition&&("header"===this.role&&!this.options.fullscreen&&e>f||"footer"===this.role&&!this.options.fullscreen&&g-f>e+h)||this.options.fullscreen)},show:function(a){var b="ui-fixed-hidden",c=this.element;this._useTransition(a)?c.removeClass("out "+b).addClass("in").animationComplete(function(){c.removeClass("in")}):c.removeClass(b),this._visible=!0},hide:function(a){var b="ui-fixed-hidden",c=this.element,d="out"+("slide"===this.options.transition?" reverse":"");this._useTransition(a)?c.addClass(d).removeClass("in").animationComplete(function(){c.addClass(b).removeClass(d)}):c.addClass(b).removeClass(d),this._visible=!1},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var b,c,d=this,e=d.options,f=!0,g=this.page?this.page:a(".ui-page");g.bind("vclick",function(b){e.tapToggle&&!a(b.target).closest(e.tapToggleBlacklist).length&&d.toggle()}).bind("focusin focusout",function(g){screen.width<1025&&a(g.target).is(e.hideDuringFocus)&&!a(g.target).closest(".ui-header-fixed, .ui-footer-fixed").length&&("focusout"!==g.type||f?"focusin"===g.type&&f&&(clearTimeout(b),f=!1,c=setTimeout(function(){d.hide()},0)):(f=!0,clearTimeout(c),b=setTimeout(function(){d.show()},0)))})},_setRelative:function(){"fixed"!==this.options.position&&a("[data-"+a.mobile.ns+"role='page']").css({position:"relative"})},_destroy:function(){var b,c,d,e,f,g=this.pagecontainer.pagecontainer("getActivePage");this._super(),"fixed"===this.options.position&&(d=a("body>.ui-"+this.role+"-fixed").add(g.find(".ui-"+this.options.role+"-fixed")).not(this.element).length>0,f=a("body>.ui-"+this.role+"-fixed").add(g.find(".ui-"+this.options.role+"-fullscreen")).not(this.element).length>0,c="ui-header-fixed ui-footer-fixed ui-header-fullscreen in out ui-footer-fullscreen fade slidedown slideup ui-fixed-hidden",this.element.removeClass(c),f||(b="ui-page-"+this.role+"-fullscreen"),d||(e="header"===this.role,b+=" ui-page-"+this.role+"-fixed",g.css("padding-"+(e?"top":"bottom"),"")),g.removeClass(b))
}})}(a),function(a){a.widget("mobile.toolbar",a.mobile.toolbar,{_makeFixed:function(){this._super(),this._workarounds()},_workarounds:function(){var a=navigator.userAgent,b=navigator.platform,c=a.match(/AppleWebKit\/([0-9]+)/),d=!!c&&c[1],e=null,f=this;if(b.indexOf("iPhone")>-1||b.indexOf("iPad")>-1||b.indexOf("iPod")>-1)e="ios";else{if(!(a.indexOf("Android")>-1))return;e="android"}if("ios"===e)f._bindScrollWorkaround();else{if(!("android"===e&&d&&534>d))return;f._bindScrollWorkaround(),f._bindListThumbWorkaround()}},_viewportOffset:function(){var a=this.element,b=a.hasClass("ui-header"),c=Math.abs(a.offset().top-this.window.scrollTop());return b||(c=Math.round(c-this.window.height()+a.outerHeight())-60),c},_bindScrollWorkaround:function(){var a=this;this._on(this.window,{scrollstop:function(){var b=a._viewportOffset();b>2&&a._visible&&a._triggerRedraw()}})},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed")},_triggerRedraw:function(){var b=parseFloat(a(".ui-page-active").css("padding-bottom"));a(".ui-page-active").css("padding-bottom",b+1+"px"),setTimeout(function(){a(".ui-page-active").css("padding-bottom",b+"px")},0)},destroy:function(){this._super(),this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix")}})}(a),function(a,b){function c(){var a=e.clone(),b=a.eq(0),c=a.eq(1),d=c.children();return{arEls:c.add(b),gd:b,ct:c,ar:d}}var d=a.mobile.browser.oldIE&&a.mobile.browser.oldIE<=8,e=a("<div class='ui-popup-arrow-guide'></div><div class='ui-popup-arrow-container"+(d?" ie":"")+"'><div class='ui-popup-arrow'></div></div>");a.widget("mobile.popup",a.mobile.popup,{options:{arrow:""},_create:function(){var a,b=this._super();return this.options.arrow&&(this._ui.arrow=a=this._addArrow()),b},_addArrow:function(){var a,b=this.options,d=c();return a=this._themeClassFromOption("ui-body-",b.theme),d.ar.addClass(a+(b.shadow?" ui-overlay-shadow":"")),d.arEls.hide().appendTo(this.element),d},_unenhance:function(){var a=this._ui.arrow;return a&&a.arEls.remove(),this._super()},_tryAnArrow:function(a,b,c,d,e){var f,g,h,i={},j={};return d.arFull[a.dimKey]>d.guideDims[a.dimKey]?e:(i[a.fst]=c[a.fst]+(d.arHalf[a.oDimKey]+d.menuHalf[a.oDimKey])*a.offsetFactor-d.contentBox[a.fst]+(d.clampInfo.menuSize[a.oDimKey]-d.contentBox[a.oDimKey])*a.arrowOffsetFactor,i[a.snd]=c[a.snd],f=d.result||this._calculateFinalLocation(i,d.clampInfo),g={x:f.left,y:f.top},j[a.fst]=g[a.fst]+d.contentBox[a.fst]+a.tipOffset,j[a.snd]=Math.max(f[a.prop]+d.guideOffset[a.prop]+d.arHalf[a.dimKey],Math.min(f[a.prop]+d.guideOffset[a.prop]+d.guideDims[a.dimKey]-d.arHalf[a.dimKey],c[a.snd])),h=Math.abs(c.x-j.x)+Math.abs(c.y-j.y),(!e||h<e.diff)&&(j[a.snd]-=d.arHalf[a.dimKey]+f[a.prop]+d.contentBox[a.snd],e={dir:b,diff:h,result:f,posProp:a.prop,posVal:j[a.snd]}),e)},_getPlacementState:function(a){var b,c,d=this._ui.arrow,e={clampInfo:this._clampPopupWidth(!a),arFull:{cx:d.ct.width(),cy:d.ct.height()},guideDims:{cx:d.gd.width(),cy:d.gd.height()},guideOffset:d.gd.offset()};return b=this.element.offset(),d.gd.css({left:0,top:0,right:0,bottom:0}),c=d.gd.offset(),e.contentBox={x:c.left-b.left,y:c.top-b.top,cx:d.gd.width(),cy:d.gd.height()},d.gd.removeAttr("style"),e.guideOffset={left:e.guideOffset.left-b.left,top:e.guideOffset.top-b.top},e.arHalf={cx:e.arFull.cx/2,cy:e.arFull.cy/2},e.menuHalf={cx:e.clampInfo.menuSize.cx/2,cy:e.clampInfo.menuSize.cy/2},e},_placementCoords:function(b){var c,e,f,g,h,i=this.options.arrow,j=this._ui.arrow;return j?(j.arEls.show(),h={},c=this._getPlacementState(!0),f={l:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:1,tipOffset:-c.arHalf.cx,arrowOffsetFactor:0},r:{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:-1,tipOffset:c.arHalf.cx+c.contentBox.cx,arrowOffsetFactor:1},b:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:-1,tipOffset:c.arHalf.cy+c.contentBox.cy,arrowOffsetFactor:1},t:{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:1,tipOffset:-c.arHalf.cy,arrowOffsetFactor:0}},a.each((i===!0?"l,t,r,b":i).split(","),a.proxy(function(a,d){e=this._tryAnArrow(f[d],d,b,c,e)},this)),e?(j.ct.removeClass("ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b").addClass("ui-popup-arrow-"+e.dir).removeAttr("style").css(e.posProp,e.posVal).show(),d||(g=this.element.offset(),h[f[e.dir].fst]=j.ct.offset(),h[f[e.dir].snd]={left:g.left+c.contentBox.x,top:g.top+c.contentBox.y}),e.result):(j.arEls.hide(),this._super(b))):this._super(b)},_setOptions:function(a){var c,d=this.options.theme,e=this._ui.arrow,f=this._super(a);if(a.arrow!==b){if(!e&&a.arrow)return void(this._ui.arrow=this._addArrow());e&&!a.arrow&&(e.arEls.remove(),this._ui.arrow=null)}return e=this._ui.arrow,e&&(a.theme!==b&&(d=this._themeClassFromOption("ui-body-",d),c=this._themeClassFromOption("ui-body-",a.theme),e.ar.removeClass(d).addClass(c)),a.shadow!==b&&e.ar.toggleClass("ui-overlay-shadow",a.shadow)),f},_destroy:function(){var a=this._ui.arrow;return a&&a.arEls.remove(),this._super()}})}(a),function(a,c){a.widget("mobile.panel",{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pageContainer:"ui-panel-page-container",pageWrapper:"ui-panel-wrapper",pageFixedToolbar:"ui-panel-fixed-toolbar",pageContentPrefix:"ui-panel-page-content",animate:"ui-panel-animate"},animate:!0,theme:null,position:"left",dismissible:!0,display:"reveal",swipeClose:!0,positionFixed:!1},_closeLink:null,_parentPage:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbars:null,_create:function(){var b=this.element,c=b.closest(".ui-page, :jqmData(role='page')");a.extend(this,{_closeLink:b.find(":jqmData(rel='close')"),_parentPage:c.length>0?c:!1,_openedPage:null,_page:this._getPage,_panelInner:this._getPanelInner(),_fixedToolbars:this._getFixedToolbars}),"overlay"!==this.options.display&&this._getWrapper(),this._addPanelClasses(),a.support.cssTransform3d&&this.options.animate&&this.element.addClass(this.options.classes.animate),this._bindUpdateLayout(),this._bindCloseEvents(),this._bindLinkListeners(),this._bindPageEvents(),this.options.dismissible&&this._createModal(),this._bindSwipeEvents()},_getPanelInner:function(){var a=this.element.find("."+this.options.classes.panelInner);return 0===a.length&&(a=this.element.children().wrapAll("<div class='"+this.options.classes.panelInner+"' />").parent()),a},_createModal:function(){var b=this,c=b._parentPage?b._parentPage.parent():b.element.parent();b._modal=a("<div class='"+b.options.classes.modal+"'></div>").on("mousedown",function(){b.close()}).appendTo(c)},_getPage:function(){var b=this._openedPage||this._parentPage||a("."+a.mobile.activePageClass);return b},_getWrapper:function(){var a=this._page().find("."+this.options.classes.pageWrapper);0===a.length&&(a=this._page().children(".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)").wrapAll("<div class='"+this.options.classes.pageWrapper+"'></div>").parent()),this._wrapper=a},_getFixedToolbars:function(){var b=a("body").children(".ui-header-fixed, .ui-footer-fixed"),c=this._page().find(".ui-header-fixed, .ui-footer-fixed"),d=b.add(c).addClass(this.options.classes.pageFixedToolbar);return d},_getPosDisplayClasses:function(a){return a+"-position-"+this.options.position+" "+a+"-display-"+this.options.display},_getPanelClasses:function(){var a=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed+" ui-body-"+(this.options.theme?this.options.theme:"inherit");return this.options.positionFixed&&(a+=" "+this.options.classes.panelFixed),a},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses())},_handleCloseClick:function(a){a.isDefaultPrevented()||this.close()},_bindCloseEvents:function(){this._on(this._closeLink,{click:"_handleCloseClick"}),this._on({"click a:jqmData(ajax='false')":"_handleCloseClick"})},_positionPanel:function(b){var c=this,d=c._panelInner.outerHeight(),e=d>a.mobile.getScreenHeight();e||!c.options.positionFixed?(e&&(c._unfixPanel(),a.mobile.resetActivePageHeight(d)),b&&this.window[0].scrollTo(0,a.mobile.defaultHomeScroll)):c._fixPanel()},_bindFixListener:function(){this._on(a(b),{throttledresize:"_positionPanel"})},_unbindFixListener:function(){this._off(a(b),"throttledresize")},_unfixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.removeClass(this.options.classes.panelFixed)},_fixPanel:function(){this.options.positionFixed&&a.support.fixedPosition&&this.element.addClass(this.options.classes.panelFixed)},_bindUpdateLayout:function(){var a=this;a.element.on("updatelayout",function(){a._open&&a._positionPanel()})},_bindLinkListeners:function(){this._on("body",{"click a":"_handleClick"})},_handleClick:function(b){var d,e=this.element.attr("id");b.currentTarget.href.split("#")[1]===e&&e!==c&&(b.preventDefault(),d=a(b.target),d.hasClass("ui-btn")&&(d.addClass(a.mobile.activeBtnClass),this.element.one("panelopen panelclose",function(){d.removeClass(a.mobile.activeBtnClass)})),this.toggle())},_bindSwipeEvents:function(){var a=this,b=a._modal?a.element.add(a._modal):a.element;a.options.swipeClose&&("left"===a.options.position?b.on("swipeleft.panel",function(){a.close()}):b.on("swiperight.panel",function(){a.close()}))},_bindPageEvents:function(){var a=this;this.document.on("panelbeforeopen",function(b){a._open&&b.target!==a.element[0]&&a.close()}).on("keyup.panel",function(b){27===b.keyCode&&a._open&&a.close()}),this._parentPage||"overlay"===this.options.display||this._on(this.document,{pageshow:function(){this._openedPage=null,this._getWrapper()}}),a._parentPage?this.document.on("pagehide",":jqmData(role='page')",function(){a._open&&a.close(!0)}):this.document.on("pagebeforehide",function(){a._open&&a.close(!0)})},_open:!1,_pageContentOpenClasses:null,_modalOpenClasses:null,open:function(b){if(!this._open){var c=this,d=c.options,e=function(){c._off(c.document,"panelclose"),c._page().jqmData("panel","open"),a.support.cssTransform3d&&d.animate&&"overlay"!==d.display&&(c._wrapper.addClass(d.classes.animate),c._fixedToolbars().addClass(d.classes.animate)),!b&&a.support.cssTransform3d&&d.animate?(c._wrapper||c.element).animationComplete(f,"transition"):setTimeout(f,0),d.theme&&"overlay"!==d.display&&c._page().parent().addClass(d.classes.pageContainer+"-themed "+d.classes.pageContainer+"-"+d.theme),c.element.removeClass(d.classes.panelClosed).addClass(d.classes.panelOpen),c._positionPanel(!0),c._pageContentOpenClasses=c._getPosDisplayClasses(d.classes.pageContentPrefix),"overlay"!==d.display&&(c._page().parent().addClass(d.classes.pageContainer),c._wrapper.addClass(c._pageContentOpenClasses),c._fixedToolbars().addClass(c._pageContentOpenClasses)),c._modalOpenClasses=c._getPosDisplayClasses(d.classes.modal)+" "+d.classes.modalOpen,c._modal&&c._modal.addClass(c._modalOpenClasses).height(Math.max(c._modal.height(),c.document.height()))},f=function(){c._open&&("overlay"!==d.display&&(c._wrapper.addClass(d.classes.pageContentPrefix+"-open"),c._fixedToolbars().addClass(d.classes.pageContentPrefix+"-open")),c._bindFixListener(),c._trigger("open"),c._openedPage=c._page())};c._trigger("beforeopen"),"open"===c._page().jqmData("panel")?c._on(c.document,{panelclose:e}):e(),c._open=!0}},close:function(b){if(this._open){var c=this,d=this.options,e=function(){c.element.removeClass(d.classes.panelOpen),"overlay"!==d.display&&(c._wrapper.removeClass(c._pageContentOpenClasses),c._fixedToolbars().removeClass(c._pageContentOpenClasses)),!b&&a.support.cssTransform3d&&d.animate?(c._wrapper||c.element).animationComplete(f,"transition"):setTimeout(f,0),c._modal&&c._modal.removeClass(c._modalOpenClasses).height("")},f=function(){d.theme&&"overlay"!==d.display&&c._page().parent().removeClass(d.classes.pageContainer+"-themed "+d.classes.pageContainer+"-"+d.theme),c.element.addClass(d.classes.panelClosed),"overlay"!==d.display&&(c._page().parent().removeClass(d.classes.pageContainer),c._wrapper.removeClass(d.classes.pageContentPrefix+"-open"),c._fixedToolbars().removeClass(d.classes.pageContentPrefix+"-open")),a.support.cssTransform3d&&d.animate&&"overlay"!==d.display&&(c._wrapper.removeClass(d.classes.animate),c._fixedToolbars().removeClass(d.classes.animate)),c._fixPanel(),c._unbindFixListener(),a.mobile.resetActivePageHeight(),c._page().jqmRemoveData("panel"),c._trigger("close"),c._openedPage=null};c._trigger("beforeclose"),e(),c._open=!1}},toggle:function(){this[this._open?"close":"open"]()},_destroy:function(){var b,c=this.options,d=a("body > :mobile-panel").length+a.mobile.activePage.find(":mobile-panel").length>1;"overlay"!==c.display&&(b=a("body > :mobile-panel").add(a.mobile.activePage.find(":mobile-panel")),0===b.not(".ui-panel-display-overlay").not(this.element).length&&this._wrapper.children().unwrap(),this._open&&(this._fixedToolbars().removeClass(c.classes.pageContentPrefix+"-open"),a.support.cssTransform3d&&c.animate&&this._fixedToolbars().removeClass(c.classes.animate),this._page().parent().removeClass(c.classes.pageContainer),c.theme&&this._page().parent().removeClass(c.classes.pageContainer+"-themed "+c.classes.pageContainer+"-"+c.theme))),d||this.document.off("panelopen panelclose"),this._open&&this._page().jqmRemoveData("panel"),this._panelInner.children().unwrap(),this.element.removeClass([this._getPanelClasses(),c.classes.panelOpen,c.classes.animate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout"),this._modal&&this._modal.remove()}})}(a),function(a,b){a.widget("mobile.table",{options:{classes:{table:"ui-table"},enhanced:!1},_create:function(){this.options.enhanced||this.element.addClass(this.options.classes.table),a.extend(this,{headers:b,allHeaders:b}),this._refresh(!0)},_setHeaders:function(){var a=this.element.find("thead tr");this.headers=this.element.find("tr:eq(0)").children(),this.allHeaders=this.headers.add(a.children())},refresh:function(){this._refresh()},rebuild:a.noop,_refresh:function(){var b=this.element,c=b.find("thead tr");this._setHeaders(),c.each(function(){var d=0;a(this).children().each(function(){var e,f=parseInt(this.getAttribute("colspan"),10),g=":nth-child("+(d+1)+")";if(this.setAttribute("data-"+a.mobile.ns+"colstart",d+1),f)for(e=0;f-1>e;e++)d++,g+=", :nth-child("+(d+1)+")";a(this).jqmData("cells",b.find("tr").not(c.eq(0)).not(this).children(g)),d++})})}})}(a),function(a){a.widget("mobile.table",a.mobile.table,{options:{mode:"columntoggle",columnBtnTheme:null,columnPopupTheme:null,columnBtnText:"Columns...",classes:a.extend(a.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"})},_create:function(){this._super(),"columntoggle"===this.options.mode&&(a.extend(this,{_menu:null}),this.options.enhanced?(this._menu=a(this.document[0].getElementById(this._id()+"-popup")).children().first(),this._addToggles(this._menu,!0)):(this._menu=this._enhanceColToggle(),this.element.addClass(this.options.classes.columnToggleTable)),this._setupEvents(),this._setToggleState())},_id:function(){return this.element.attr("id")||this.widgetName+this.uuid},_setupEvents:function(){this._on(this.window,{throttledresize:"_setToggleState"}),this._on(this._menu,{"change input":"_menuInputChange"})},_addToggles:function(b,c){var d,e=0,f=this.options,g=b.controlgroup("container");c?d=b.find("input"):g.empty(),this.headers.not("td").each(function(){var b,h,i=a(this),j=a.mobile.getAttribute(this,"priority");j&&(h=i.add(i.jqmData("cells")),h.addClass(f.classes.priorityPrefix+j),b=(c?d.eq(e++):a("<label><input type='checkbox' checked />"+(i.children("abbr").first().attr("title")||i.text())+"</label>").appendTo(g).children(0).checkboxradio({theme:f.columnPopupTheme})).jqmData("header",i).jqmData("cells",h),i.jqmData("input",b))}),c||b.controlgroup("refresh")},_menuInputChange:function(b){var c=a(b.target),d=c[0].checked;c.jqmData("cells").toggleClass("ui-table-cell-hidden",!d).toggleClass("ui-table-cell-visible",d)},_unlockCells:function(a){a.removeClass("ui-table-cell-hidden ui-table-cell-visible")},_enhanceColToggle:function(){var b,c,d,e,f=this.element,g=this.options,h=a.mobile.ns,i=this.document[0].createDocumentFragment();return b=this._id()+"-popup",c=a("<a href='#"+b+"' class='"+g.classes.columnBtn+" ui-btn ui-btn-"+(g.columnBtnTheme||"a")+" ui-corner-all ui-shadow ui-mini' data-"+h+"rel='popup'>"+g.columnBtnText+"</a>"),d=a("<div class='"+g.classes.popup+"' id='"+b+"'></div>"),e=a("<fieldset></fieldset>").controlgroup(),this._addToggles(e,!1),e.appendTo(d),i.appendChild(d[0]),i.appendChild(c[0]),f.before(i),d.popup(),e},rebuild:function(){this._super(),"columntoggle"===this.options.mode&&this._refresh(!1)},_refresh:function(b){var c,d,e;if(this._super(b),!b&&"columntoggle"===this.options.mode)for(c=this.headers,d=[],this._menu.find("input").each(function(){var b=a(this),e=b.jqmData("header"),f=c.index(e[0]);f>-1&&!b.prop("checked")&&d.push(f)}),this._unlockCells(this.element.find(".ui-table-cell-hidden, .ui-table-cell-visible")),this._addToggles(this._menu,b),e=d.length-1;e>-1;e--)c.eq(d[e]).jqmData("input").prop("checked",!1).checkboxradio("refresh").trigger("change")},_setToggleState:function(){this._menu.find("input").each(function(){var b=a(this);this.checked="table-cell"===b.jqmData("cells").eq(0).css("display"),b.checkboxradio("refresh")})},_destroy:function(){this._super()}})}(a),function(a){a.widget("mobile.table",a.mobile.table,{options:{mode:"reflow",classes:a.extend(a.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"})},_create:function(){this._super(),"reflow"===this.options.mode&&(this.options.enhanced||(this.element.addClass(this.options.classes.reflowTable),this._updateReflow()))},rebuild:function(){this._super(),"reflow"===this.options.mode&&this._refresh(!1)},_refresh:function(a){this._super(a),a||"reflow"!==this.options.mode||this._updateReflow()},_updateReflow:function(){var b=this,c=this.options;a(b.allHeaders.get().reverse()).each(function(){var d,e,f=a(this).jqmData("cells"),g=a.mobile.getAttribute(this,"colstart"),h=f.not(this).filter("thead th").length&&" ui-table-cell-label-top",i=a(this).clone().contents();i.length>0&&(h?(d=parseInt(this.getAttribute("colspan"),10),e="",d&&(e="td:nth-child("+d+"n + "+g+")"),b._addLabels(f.filter(e),c.classes.cellLabels+h,i)):b._addLabels(f,c.classes.cellLabels,i))})},_addLabels:function(b,c,d){1===d.length&&"abbr"===d[0].nodeName.toLowerCase()&&(d=d.eq(0).attr("title")),b.not(":has(b."+c+")").prepend(a("<b class='"+c+"'></b>").append(d))}})}(a),function(a,c){var d=function(b,c){return-1===(""+(a.mobile.getAttribute(this,"filtertext")||a(this).text())).toLowerCase().indexOf(c)};a.widget("mobile.filterable",{initSelector:":jqmData(filter='true')",options:{filterReveal:!1,filterCallback:d,enhanced:!1,input:null,children:"> li, > option, > optgroup option, > tbody tr, > .ui-controlgroup-controls > .ui-btn, > .ui-controlgroup-controls > .ui-checkbox, > .ui-controlgroup-controls > .ui-radio"},_create:function(){var b=this.options;a.extend(this,{_search:null,_timer:0}),this._setInput(b.input),b.enhanced||this._filterItems((this._search&&this._search.val()||"").toLowerCase())},_onKeyUp:function(){var c,d,e=this._search;if(e){if(c=e.val().toLowerCase(),d=a.mobile.getAttribute(e[0],"lastval")+"",d&&d===c)return;this._timer&&(b.clearTimeout(this._timer),this._timer=0),this._timer=this._delay(function(){return this._trigger("beforefilter",null,{input:e})===!1?!1:(e[0].setAttribute("data-"+a.mobile.ns+"lastval",c),this._filterItems(c),void(this._timer=0))},250)}},_getFilterableItems:function(){var b=this.element,c=this.options.children,d=c?a.isFunction(c)?c():c.nodeName?a(c):c.jquery?c:this.element.find(c):{length:0};return 0===d.length&&(d=b.children()),d},_filterItems:function(b){var c,e,f,g,h=[],i=[],j=this.options,k=this._getFilterableItems();if(null!=b)for(e=j.filterCallback||d,f=k.length,c=0;f>c;c++)g=e.call(k[c],c,b)?i:h,g.push(k[c]);0===i.length?k[j.filterReveal&&0===b.length?"addClass":"removeClass"]("ui-screen-hidden"):(a(i).addClass("ui-screen-hidden"),a(h).removeClass("ui-screen-hidden")),this._refreshChildWidget(),this._trigger("filter",null,{items:k})},_refreshChildWidget:function(){var b,c,d=["collapsibleset","selectmenu","controlgroup","listview"];for(c=d.length-1;c>-1;c--)b=d[c],a.mobile[b]&&(b=this.element.data("mobile-"+b),b&&a.isFunction(b.refresh)&&b.refresh())},_setInput:function(c){var d=this._search;this._timer&&(b.clearTimeout(this._timer),this._timer=0),d&&(this._off(d,"keyup change input"),d=null),c&&(d=c.jquery?c:c.nodeName?a(c):this.document.find(c),this._on(d,{keydown:"_onKeyDown",keypress:"_onKeyPress",keyup:"_onKeyUp",change:"_onKeyUp",input:"_onKeyUp"})),this._search=d},_onKeyDown:function(b){b.keyCode===a.ui.keyCode.ENTER&&(b.preventDefault(),this._preventKeyPress=!0)},_onKeyPress:function(a){this._preventKeyPress&&(a.preventDefault(),this._preventKeyPress=!1)},_setOptions:function(a){var b=!(a.filterReveal===c&&a.filterCallback===c&&a.children===c);this._super(a),a.input!==c&&(this._setInput(a.input),b=!0),b&&this.refresh()},_destroy:function(){var a=this.options,b=this._getFilterableItems();a.enhanced?b.toggleClass("ui-screen-hidden",a.filterReveal):b.removeClass("ui-screen-hidden")},refresh:function(){this._timer&&(b.clearTimeout(this._timer),this._timer=0),this._filterItems((this._search&&this._search.val()||"").toLowerCase())}})}(a),function(a,b){var c=function(a,b){return function(c){b.call(this,c),a._syncTextInputOptions(c)}},d=/(^|\s)ui-li-divider(\s|$)/,e=a.mobile.filterable.prototype.options.filterCallback;a.mobile.filterable.prototype.options.filterCallback=function(a,b){return!this.className.match(d)&&e.call(this,a,b)},a.widget("mobile.filterable",a.mobile.filterable,{options:{filterPlaceholder:"Filter items...",filterTheme:null},_create:function(){var b,c,d=this.element,e=["collapsibleset","selectmenu","controlgroup","listview"],f={};for(this._super(),a.extend(this,{_widget:null}),b=e.length-1;b>-1;b--)if(c=e[b],a.mobile[c]){if(this._setWidget(d.data("mobile-"+c)))break;f[c+"create"]="_handleCreate"}this._widget||this._on(d,f)},_handleCreate:function(a){this._setWidget(this.element.data("mobile-"+a.type.substring(0,a.type.length-6)))},_trigger:function(a,b,c){return this._widget&&"mobile-listview"===this._widget.widgetFullName&&"beforefilter"===a&&this._widget._trigger("beforefilter",b,c),this._super(a,b,c)},_setWidget:function(a){return!this._widget&&a&&(this._widget=a,this._widget._setOptions=c(this,this._widget._setOptions)),this._widget&&(this._syncTextInputOptions(this._widget.options),"listview"===this._widget.widgetName&&(this._widget.options.hideDividers=!0,this._widget.element.listview("refresh"))),!!this._widget},_isSearchInternal:function(){return this._search&&this._search.jqmData("ui-filterable-"+this.uuid+"-internal")},_setInput:function(b){var c=this.options,d=!0,e={};if(!b){if(this._isSearchInternal())return;d=!1,b=a("<input data-"+a.mobile.ns+"type='search' placeholder='"+c.filterPlaceholder+"'></input>").jqmData("ui-filterable-"+this.uuid+"-internal",!0),a("<form class='ui-filterable'></form>").append(b).submit(function(a){a.preventDefault(),b.blur()}).insertBefore(this.element),a.mobile.textinput&&(null!=this.options.filterTheme&&(e.theme=c.filterTheme),b.textinput(e))}this._super(b),this._isSearchInternal()&&d&&this._search.attr("placeholder",this.options.filterPlaceholder)},_setOptions:function(c){var d=this._super(c);return c.filterPlaceholder!==b&&this._isSearchInternal()&&this._search.attr("placeholder",c.filterPlaceholder),c.filterTheme!==b&&this._search&&a.mobile.textinput&&this._search.textinput("option","theme",c.filterTheme),d},_refreshChildWidget:function(){this._refreshingChildWidget=!0,this._superApply(arguments),this._refreshingChildWidget=!1},refresh:function(){this._refreshingChildWidget||this._superApply(arguments)},_destroy:function(){this._isSearchInternal()&&this._search.remove(),this._super()},_syncTextInputOptions:function(c){var d,e={};if(this._isSearchInternal()&&a.mobile.textinput){for(d in a.mobile.textinput.prototype.options)c[d]!==b&&(e[d]="theme"===d&&null!=this.options.filterTheme?this.options.filterTheme:c[d]);this._search.textinput("option",e)}}}),a.widget("mobile.listview",a.mobile.listview,{options:{filter:!1},_create:function(){return this.options.filter!==!0||this.element.data("mobile-filterable")||this.element.filterable(),this._super()},refresh:function(){var a;this._superApply(arguments),this.options.filter===!0&&(a=this.element.data("mobile-filterable"),a&&a.refresh())}})}(a),function(a,b){function c(){return++e}function d(a){return a.hash.length>1&&decodeURIComponent(a.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}var e=0,f=/#.*$/;a.widget("ui.tabs",{version:"fadf2b312a05040436451c64bbfaf4814bc62c56",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(c.active):a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each(function(c,e){return a(e).attr("aria-controls")===d?(b=c,!1):void 0}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===b||-1===b)&&(b=this.tabs.length?0:!1)),b!==!1&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=c?!1:0)),!c&&b===!1&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d===this.options.active?!1:d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),0>b&&(b=e),b}for(var e=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?void this._activate(b):"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(c,e){var f,g,h,i=a(e).uniqueId().attr("id"),j=a(e).closest("li"),k=j.attr("aria-controls");d(e)?(f=e.hash,g=b.element.find(b._sanitizeSelector(f))):(h=b._tabId(j),f="#"+h,g=b.element.find(f),g.length||(g=b._createPanel(h),g.insertAfter(b.panels[c-1]||b.tablist)),g.attr("aria-live","polite")),g.length&&(b.panels=b.panels.add(g)),k&&j.data("ui-tabs-aria-controls",k),j.attr({"aria-controls":f.substring(1),"aria-labelledby":i}),g.attr("aria-labelledby",i)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c,d=0;c=this.tabs[d];d++)b===!0||-1!==a.inArray(d,b)?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)
}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=h?!1:this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e()),h.attr({"aria-expanded":"false","aria-hidden":"true"}),c.oldTab.attr("aria-selected","false"),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr({"aria-expanded":"true","aria-hidden":"false"}),c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(c){var d=this.options.disabled;d!==!1&&(c===b?d=!1:(c=this._getIndex(c),d=a.isArray(d)?a.map(d,function(a){return a!==c?a:null}):a.map(this.tabs,function(a,b){return b!==c?b:null})),this._setupDisabled(d))},disable:function(c){var d=this.options.disabled;if(d!==!0){if(c===b)d=!0;else{if(c=this._getIndex(c),-1!==a.inArray(c,d))return;d=a.isArray(d)?a.merge([c],d).sort():[c]}this._setupDisabled(d)}},load:function(b,c){b=this._getIndex(b);var e=this,f=this.tabs.eq(b),g=f.find(".ui-tabs-anchor"),h=this._getPanelForTab(f),i={tab:f,panel:h};d(g[0])||(this.xhr=a.ajax(this._ajaxSettings(g,c,i)),this.xhr&&"canceled"!==this.xhr.statusText&&(f.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){h.html(a),e._trigger("load",c,i)},1)}).complete(function(a,b){setTimeout(function(){"abort"===b&&e.panels.stop(!1,!0),f.removeClass("ui-tabs-loading"),h.removeAttr("aria-busy"),a===e.xhr&&delete e.xhr},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}})}(a),function(){}(a),function(a,b){function c(a){e=a.originalEvent,i=e.accelerationIncludingGravity,f=Math.abs(i.x),g=Math.abs(i.y),h=Math.abs(i.z),!b.orientation&&(f>7||(h>6&&8>g||8>h&&g>6)&&f>5)?d.enabled&&d.disable():d.enabled||d.enable()}a.mobile.iosorientationfixEnabled=!0;var d,e,f,g,h,i,j=navigator.userAgent;return/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(j)&&j.indexOf("AppleWebKit")>-1?(d=a.mobile.zoom,void a.mobile.document.on("mobileinit",function(){a.mobile.iosorientationfixEnabled&&a.mobile.window.bind("orientationchange.iosorientationfix",d.enable).bind("devicemotion.iosorientationfix",c)})):void(a.mobile.iosorientationfixEnabled=!1)}(a,this),function(a,b,d){function e(){f.removeClass("ui-mobile-rendering")}var f=a("html"),g=a.mobile.window;a(b.document).trigger("mobileinit"),a.mobile.gradeA()&&(a.mobile.ajaxBlacklist&&(a.mobile.ajaxEnabled=!1),f.addClass("ui-mobile ui-mobile-rendering"),setTimeout(e,5e3),a.extend(a.mobile,{initializePage:function(){var b=a.mobile.path,f=a(":jqmData(role='page'), :jqmData(role='dialog')"),h=b.stripHash(b.stripQueryParams(b.parseLocation().hash)),i=a.mobile.path.parseLocation(),j=h?c.getElementById(h):d;f.length||(f=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0)),f.each(function(){var c=a(this);c[0].getAttribute("data-"+a.mobile.ns+"url")||c.attr("data-"+a.mobile.ns+"url",c.attr("id")||b.convertUrlToDataUrl(i.pathname+i.search))}),a.mobile.firstPage=f.first(),a.mobile.pageContainer=a.mobile.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer(),a.mobile.navreadyDeferred.resolve(),g.trigger("pagecontainercreate"),a.mobile.loading("show"),e(),a.mobile.hashListeningEnabled&&a.mobile.path.isHashValid(location.hash)&&(a(j).is(":jqmData(role='page')")||a.mobile.path.isPath(h)||h===a.mobile.dialogHashKey)?a.event.special.navigate.isPushStateEnabled()?(a.mobile.navigate.history.stack=[],a.mobile.navigate(a.mobile.path.isPath(location.hash)?location.hash:location.href)):g.trigger("hashchange",[!0]):(a.event.special.navigate.isPushStateEnabled()&&a.mobile.navigate.navigator.squash(b.parseLocation().href),a.mobile.changePage(a.mobile.firstPage,{transition:"none",reverse:!0,changeHash:!1,fromHashChange:!0}))}}),a(function(){a.support.inlineSVG(),a.mobile.hideUrlBar&&b.scrollTo(0,1),a.mobile.defaultHomeScroll=a.support.scrollTop&&1!==a.mobile.window.scrollTop()?1:0,a.mobile.autoInitializePage&&a.mobile.initializePage(),a.mobile.hideUrlBar&&g.load(a.mobile.silentScroll),a.support.cssPointerEvents||a.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(a){a.preventDefault(),a.stopImmediatePropagation()})}))}(a,this)});
//# sourceMappingURL=jquery.mobile-1.4.5.min.map
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJqcXVlcnkubW9iaWxlLm1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgalF1ZXJ5IE1vYmlsZSAxLjQuNSB8IEdpdCBIRUFEaGFzaDogNjhlNTVlNyA8PiAyMDE0LTEwLTMxVDE3OjMzOjMwWiB8IChjKSAyMDEwLCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uLCBJbmMuIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovXHJcblxyXG4hZnVuY3Rpb24oYSxiLGMpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wianF1ZXJ5XCJdLGZ1bmN0aW9uKGQpe3JldHVybiBjKGQsYSxiKSxkLm1vYmlsZX0pOmMoYS5qUXVlcnksYSxiKX0odGhpcyxkb2N1bWVudCxmdW5jdGlvbihhLGIsYyl7IWZ1bmN0aW9uKGEpe2EubW9iaWxlPXt9fShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoYixjKXt2YXIgZCxmLGcsaD1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJhcmVhXCI9PT1oPyhkPWIucGFyZW50Tm9kZSxmPWQubmFtZSxiLmhyZWYmJmYmJlwibWFwXCI9PT1kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/KGc9YShcImltZ1t1c2VtYXA9I1wiK2YrXCJdXCIpWzBdLCEhZyYmZShnKSk6ITEpOigvaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QvLnRlc3QoaCk/IWIuZGlzYWJsZWQ6XCJhXCI9PT1oP2IuaHJlZnx8YzpjKSYmZShiKX1mdW5jdGlvbiBlKGIpe3JldHVybiBhLmV4cHIuZmlsdGVycy52aXNpYmxlKGIpJiYhYShiKS5wYXJlbnRzKCkuYWRkQmFjaygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVyblwiaGlkZGVuXCI9PT1hLmNzcyh0aGlzLFwidmlzaWJpbGl0eVwiKX0pLmxlbmd0aH12YXIgZj0wLGc9L151aS1pZC1cXGQrJC87YS51aT1hLnVpfHx7fSxhLmV4dGVuZChhLnVpLHt2ZXJzaW9uOlwiYzBhYjcxMDU2YjkzNjYyN2U4YTc4MjFmMDNjMDQ0YWVjNjI4MGE0MFwiLGtleUNvZGU6e0JBQ0tTUEFDRTo4LENPTU1BOjE4OCxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsTEVGVDozNyxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNQQUNFOjMyLFRBQjo5LFVQOjM4fX0pLGEuZm4uZXh0ZW5kKHtmb2N1czpmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYz90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthKGIpLmZvY3VzKCksZCYmZC5jYWxsKGIpfSxjKX0pOmIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oYS5mbi5mb2N1cyksc2Nyb2xsUGFyZW50OmZ1bmN0aW9uKCl7dmFyIGI7cmV0dXJuIGI9YS51aS5pZSYmLyhzdGF0aWN8cmVsYXRpdmUpLy50ZXN0KHRoaXMuY3NzKFwicG9zaXRpb25cIikpfHwvYWJzb2x1dGUvLnRlc3QodGhpcy5jc3MoXCJwb3NpdGlvblwiKSk/dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuLyhyZWxhdGl2ZXxhYnNvbHV0ZXxmaXhlZCkvLnRlc3QoYS5jc3ModGhpcyxcInBvc2l0aW9uXCIpKSYmLyhhdXRvfHNjcm9sbCkvLnRlc3QoYS5jc3ModGhpcyxcIm92ZXJmbG93XCIpK2EuY3NzKHRoaXMsXCJvdmVyZmxvdy15XCIpK2EuY3NzKHRoaXMsXCJvdmVyZmxvdy14XCIpKX0pLmVxKDApOnRoaXMucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybi8oYXV0b3xzY3JvbGwpLy50ZXN0KGEuY3NzKHRoaXMsXCJvdmVyZmxvd1wiKSthLmNzcyh0aGlzLFwib3ZlcmZsb3cteVwiKSthLmNzcyh0aGlzLFwib3ZlcmZsb3cteFwiKSl9KS5lcSgwKSwvZml4ZWQvLnRlc3QodGhpcy5jc3MoXCJwb3NpdGlvblwiKSl8fCFiLmxlbmd0aD9hKHRoaXNbMF0ub3duZXJEb2N1bWVudHx8Yyk6Yn0sdW5pcXVlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5pZHx8KHRoaXMuaWQ9XCJ1aS1pZC1cIisgKytmKX0pfSxyZW1vdmVVbmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtnLnRlc3QodGhpcy5pZCkmJmEodGhpcykucmVtb3ZlQXR0cihcImlkXCIpfSl9fSksYS5leHRlbmQoYS5leHByW1wiOlwiXSx7ZGF0YTphLmV4cHIuY3JlYXRlUHNldWRvP2EuZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiEhYS5kYXRhKGMsYil9fSk6ZnVuY3Rpb24oYixjLGQpe3JldHVybiEhYS5kYXRhKGIsZFszXSl9LGZvY3VzYWJsZTpmdW5jdGlvbihiKXtyZXR1cm4gZChiLCFpc05hTihhLmF0dHIoYixcInRhYmluZGV4XCIpKSl9LHRhYmJhYmxlOmZ1bmN0aW9uKGIpe3ZhciBjPWEuYXR0cihiLFwidGFiaW5kZXhcIiksZT1pc05hTihjKTtyZXR1cm4oZXx8Yz49MCkmJmQoYiwhZSl9fSksYShcIjxhPlwiKS5vdXRlcldpZHRoKDEpLmpxdWVyeXx8YS5lYWNoKFtcIldpZHRoXCIsXCJIZWlnaHRcIl0sZnVuY3Rpb24oYyxkKXtmdW5jdGlvbiBlKGIsYyxkLGUpe3JldHVybiBhLmVhY2goZixmdW5jdGlvbigpe2MtPXBhcnNlRmxvYXQoYS5jc3MoYixcInBhZGRpbmdcIit0aGlzKSl8fDAsZCYmKGMtPXBhcnNlRmxvYXQoYS5jc3MoYixcImJvcmRlclwiK3RoaXMrXCJXaWR0aFwiKSl8fDApLGUmJihjLT1wYXJzZUZsb2F0KGEuY3NzKGIsXCJtYXJnaW5cIit0aGlzKSl8fDApfSksY312YXIgZj1cIldpZHRoXCI9PT1kP1tcIkxlZnRcIixcIlJpZ2h0XCJdOltcIlRvcFwiLFwiQm90dG9tXCJdLGc9ZC50b0xvd2VyQ2FzZSgpLGg9e2lubmVyV2lkdGg6YS5mbi5pbm5lcldpZHRoLGlubmVySGVpZ2h0OmEuZm4uaW5uZXJIZWlnaHQsb3V0ZXJXaWR0aDphLmZuLm91dGVyV2lkdGgsb3V0ZXJIZWlnaHQ6YS5mbi5vdXRlckhlaWdodH07YS5mbltcImlubmVyXCIrZF09ZnVuY3Rpb24oYyl7cmV0dXJuIGM9PT1iP2hbXCJpbm5lclwiK2RdLmNhbGwodGhpcyk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jc3MoZyxlKHRoaXMsYykrXCJweFwiKX0pfSxhLmZuW1wib3V0ZXJcIitkXT1mdW5jdGlvbihiLGMpe3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiBiP2hbXCJvdXRlclwiK2RdLmNhbGwodGhpcyxiKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmNzcyhnLGUodGhpcyxiLCEwLGMpK1wicHhcIil9KX19KSxhLmZuLmFkZEJhY2t8fChhLmZuLmFkZEJhY2s9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfSksYShcIjxhPlwiKS5kYXRhKFwiYS1iXCIsXCJhXCIpLnJlbW92ZURhdGEoXCJhLWJcIikuZGF0YShcImEtYlwiKSYmKGEuZm4ucmVtb3ZlRGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/Yi5jYWxsKHRoaXMsYS5jYW1lbENhc2UoYykpOmIuY2FsbCh0aGlzKX19KGEuZm4ucmVtb3ZlRGF0YSkpLGEudWkuaWU9ISEvbXNpZSBbXFx3Ll0rLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSksYS5zdXBwb3J0LnNlbGVjdHN0YXJ0PVwib25zZWxlY3RzdGFydFwiaW4gYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGEuZm4uZXh0ZW5kKHtkaXNhYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmluZCgoYS5zdXBwb3J0LnNlbGVjdHN0YXJ0P1wic2VsZWN0c3RhcnRcIjpcIm1vdXNlZG93blwiKStcIi51aS1kaXNhYmxlU2VsZWN0aW9uXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfSl9LGVuYWJsZVNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuYmluZChcIi51aS1kaXNhYmxlU2VsZWN0aW9uXCIpfSx6SW5kZXg6ZnVuY3Rpb24oZCl7aWYoZCE9PWIpcmV0dXJuIHRoaXMuY3NzKFwiekluZGV4XCIsZCk7aWYodGhpcy5sZW5ndGgpZm9yKHZhciBlLGYsZz1hKHRoaXNbMF0pO2cubGVuZ3RoJiZnWzBdIT09Yzspe2lmKGU9Zy5jc3MoXCJwb3NpdGlvblwiKSwoXCJhYnNvbHV0ZVwiPT09ZXx8XCJyZWxhdGl2ZVwiPT09ZXx8XCJmaXhlZFwiPT09ZSkmJihmPXBhcnNlSW50KGcuY3NzKFwiekluZGV4XCIpLDEwKSwhaXNOYU4oZikmJjAhPT1mKSlyZXR1cm4gZjtnPWcucGFyZW50KCl9cmV0dXJuIDB9fSksYS51aS5wbHVnaW49e2FkZDpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj1hLnVpW2JdLnByb3RvdHlwZTtmb3IoZSBpbiBkKWYucGx1Z2luc1tlXT1mLnBsdWdpbnNbZV18fFtdLGYucGx1Z2luc1tlXS5wdXNoKFtjLGRbZV1dKX0sY2FsbDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmPWEucGx1Z2luc1tiXTtpZihmJiYoZHx8YS5lbGVtZW50WzBdLnBhcmVudE5vZGUmJjExIT09YS5lbGVtZW50WzBdLnBhcmVudE5vZGUubm9kZVR5cGUpKWZvcihlPTA7ZTxmLmxlbmd0aDtlKyspYS5vcHRpb25zW2ZbZV1bMF1dJiZmW2VdWzFdLmFwcGx5KGEuZWxlbWVudCxjKX19fShhKSxmdW5jdGlvbihhLGIpe3ZhciBkPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yi5wYXJlbnQoKSxlPVtdLGY9ZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGM9YS5tb2JpbGUudG9vbGJhciYmYi5kYXRhKFwibW9iaWxlLXRvb2xiYXJcIik/Yi50b29sYmFyKFwib3B0aW9uXCIpOntwb3NpdGlvbjpiLmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1wicG9zaXRpb25cIiksdXBkYXRlUGFnZVBhZGRpbmc6Yi5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInVwZGF0ZS1wYWdlLXBhZGRpbmdcIikhPT0hMX07cmV0dXJuIShcImZpeGVkXCI9PT1jLnBvc2l0aW9uJiZjLnVwZGF0ZVBhZ2VQYWRkaW5nPT09ITApfSxnPWQuY2hpbGRyZW4oXCI6anFtRGF0YShyb2xlPSdoZWFkZXInKVwiKS5maWx0ZXIoZiksaD1iLmNoaWxkcmVuKFwiOmpxbURhdGEocm9sZT0naGVhZGVyJylcIiksaT1kLmNoaWxkcmVuKFwiOmpxbURhdGEocm9sZT0nZm9vdGVyJylcIikuZmlsdGVyKGYpLGo9Yi5jaGlsZHJlbihcIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpXCIpO3JldHVybiAwPT09aC5sZW5ndGgmJmcubGVuZ3RoPjAmJihlPWUuY29uY2F0KGcudG9BcnJheSgpKSksMD09PWoubGVuZ3RoJiZpLmxlbmd0aD4wJiYoZT1lLmNvbmNhdChpLnRvQXJyYXkoKSkpLGEuZWFjaChlLGZ1bmN0aW9uKGIsZCl7Yy09YShkKS5vdXRlckhlaWdodCgpfSksTWF0aC5tYXgoMCxjKX07YS5leHRlbmQoYS5tb2JpbGUse3dpbmRvdzphKGIpLGRvY3VtZW50OmEoYyksa2V5Q29kZTphLnVpLmtleUNvZGUsYmVoYXZpb3JzOnt9LHNpbGVudFNjcm9sbDpmdW5jdGlvbihjKXtcIm51bWJlclwiIT09YS50eXBlKGMpJiYoYz1hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCksYS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsc2V0VGltZW91dChmdW5jdGlvbigpe2Iuc2Nyb2xsVG8oMCxjKSxhLm1vYmlsZS5kb2N1bWVudC50cmlnZ2VyKFwic2lsZW50c2Nyb2xsXCIse3g6MCx5OmN9KX0sMjApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0sZ2V0Q2xvc2VzdEJhc2VVcmw6ZnVuY3Rpb24oYil7dmFyIGM9YShiKS5jbG9zZXN0KFwiLnVpLXBhZ2VcIikuanFtRGF0YShcInVybFwiKSxkPWEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2g7cmV0dXJuIGEubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmYyYmYS5tb2JpbGUucGF0aC5pc1BhdGgoYyl8fChjPWQpLGEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGMsZCl9LHJlbW92ZUFjdGl2ZUxpbmtDbGFzczpmdW5jdGlvbihiKXshYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbmt8fGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rLmNsb3Nlc3QoXCIuXCIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKS5sZW5ndGgmJiFifHxhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluay5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYS5tb2JpbGUuYWN0aXZlQ2xpY2tlZExpbms9bnVsbH0sZ2V0SW5oZXJpdGVkVGhlbWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZCxlPWFbMF0sZj1cIlwiLGc9L3VpLShiYXJ8Ym9keXxvdmVybGF5KS0oW2Etel0pXFxiLztlJiYoYz1lLmNsYXNzTmFtZXx8XCJcIiwhKGMmJihkPWcuZXhlYyhjKSkmJihmPWRbMl0pKSk7KWU9ZS5wYXJlbnROb2RlO3JldHVybiBmfHxifHxcImFcIn0sZW5oYW5jZWFibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoYSxcImVuaGFuY2VcIil9LGhpamFja2FibGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGF2ZVBhcmVudHMoYSxcImFqYXhcIil9LGhhdmVQYXJlbnRzOmZ1bmN0aW9uKGIsYyl7aWYoIWEubW9iaWxlLmlnbm9yZUNvbnRlbnRFbmFibGVkKXJldHVybiBiO3ZhciBkLGUsZixnLGgsaT1iLmxlbmd0aCxqPWEoKTtmb3IoZz0wO2k+ZztnKyspe2ZvcihlPWIuZXEoZyksZj0hMSxkPWJbZ107ZDspe2lmKGg9ZC5nZXRBdHRyaWJ1dGU/ZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLVwiK2EubW9iaWxlLm5zK2MpOlwiXCIsXCJmYWxzZVwiPT09aCl7Zj0hMDticmVha31kPWQucGFyZW50Tm9kZX1mfHwoaj1qLmFkZChlKSl9cmV0dXJuIGp9LGdldFNjcmVlbkhlaWdodDpmdW5jdGlvbigpe3JldHVybiBiLmlubmVySGVpZ2h0fHxhLm1vYmlsZS53aW5kb3cuaGVpZ2h0KCl9LHJlc2V0QWN0aXZlUGFnZUhlaWdodDpmdW5jdGlvbihiKXt2YXIgYz1hKFwiLlwiK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyksZT1jLmhlaWdodCgpLGY9Yy5vdXRlckhlaWdodCghMCk7Yj1kKGMsXCJudW1iZXJcIj09dHlwZW9mIGI/YjphLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSksYy5jc3MoXCJtaW4taGVpZ2h0XCIsXCJcIiksYy5oZWlnaHQoKTxiJiZjLmNzcyhcIm1pbi1oZWlnaHRcIixiLShmLWUpKX0sbG9hZGluZzpmdW5jdGlvbigpe3ZhciBiPXRoaXMubG9hZGluZy5fd2lkZ2V0fHxhKGEubW9iaWxlLmxvYWRlci5wcm90b3R5cGUuZGVmYXVsdEh0bWwpLmxvYWRlcigpLGM9Yi5sb2FkZXIuYXBwbHkoYixhcmd1bWVudHMpO3JldHVybiB0aGlzLmxvYWRpbmcuX3dpZGdldD1iLGN9fSksYS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiKSxlPWQuanFtRGF0YShcImRlcGVuZGVudHNcIil8fGEoKTtkLmpxbURhdGEoXCJkZXBlbmRlbnRzXCIsYShlKS5hZGQoYykpfSxhLmZuLmV4dGVuZCh7cmVtb3ZlV2l0aERlcGVuZGVudHM6ZnVuY3Rpb24oKXthLnJlbW92ZVdpdGhEZXBlbmRlbnRzKHRoaXMpfSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKCl7dmFyIGIsYz17fSxkPWEubW9iaWxlLnBhZ2UucHJvdG90eXBlLmtlZXBOYXRpdmVTZWxlY3RvcigpLGU9dGhpczthLm1vYmlsZS5ub2pzJiZhLm1vYmlsZS5ub2pzKHRoaXMpLGEubW9iaWxlLmxpbmtzJiZhLm1vYmlsZS5saW5rcyh0aGlzKSxhLm1vYmlsZS5kZWdyYWRlSW5wdXRzV2l0aGluJiZhLm1vYmlsZS5kZWdyYWRlSW5wdXRzV2l0aGluKHRoaXMpLGEuZm4uYnV0dG9uTWFya3VwJiZ0aGlzLmZpbmQoYS5mbi5idXR0b25NYXJrdXAuaW5pdFNlbGVjdG9yKS5ub3QoZCkuanFtRW5oYW5jZWFibGUoKS5idXR0b25NYXJrdXAoKSxhLmZuLmZpZWxkY29udGFpbiYmdGhpcy5maW5kKFwiOmpxbURhdGEocm9sZT0nZmllbGRjb250YWluJylcIikubm90KGQpLmpxbUVuaGFuY2VhYmxlKCkuZmllbGRjb250YWluKCksYS5lYWNoKGEubW9iaWxlLndpZGdldHMsZnVuY3Rpb24oYixmKXtpZihmLmluaXRTZWxlY3Rvcil7dmFyIGc9YS5tb2JpbGUuZW5oYW5jZWFibGUoZS5maW5kKGYuaW5pdFNlbGVjdG9yKSk7Zy5sZW5ndGg+MCYmKGc9Zy5ub3QoZCkpLGcubGVuZ3RoPjAmJihjW2YucHJvdG90eXBlLndpZGdldE5hbWVdPWcpfX0pO2ZvcihiIGluIGMpY1tiXVtiXSgpO3JldHVybiB0aGlzfSxhZGREZXBlbmRlbnRzOmZ1bmN0aW9uKGIpe2EuYWRkRGVwZW5kZW50cyh0aGlzLGIpfSxnZXRFbmNvZGVkVGV4dDpmdW5jdGlvbigpe3JldHVybiBhKFwiPGE+XCIpLnRleHQodGhpcy50ZXh0KCkpLmh0bWwoKX0sanFtRW5oYW5jZWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZW5oYW5jZWFibGUodGhpcyl9LGpxbUhpamFja2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuaGlqYWNrYWJsZSh0aGlzKX19KSxhLnJlbW92ZVdpdGhEZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe3ZhciBjPWEoYik7KGMuanFtRGF0YShcImRlcGVuZGVudHNcIil8fGEoKSkucmVtb3ZlKCksYy5yZW1vdmUoKX0sYS5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiKSxlPWQuanFtRGF0YShcImRlcGVuZGVudHNcIil8fGEoKTtkLmpxbURhdGEoXCJkZXBlbmRlbnRzXCIsYShlKS5hZGQoYykpfSxhLmZpbmQubWF0Y2hlcz1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYixudWxsLG51bGwsYyl9LGEuZmluZC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGMsbnVsbCxudWxsLFtiXSkubGVuZ3RoPjB9fShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EuZXh0ZW5kKGEubW9iaWxlLHt2ZXJzaW9uOlwiMS40LjVcIixzdWJQYWdlVXJsS2V5OlwidWktcGFnZVwiLGhpZGVVcmxCYXI6ITAsa2VlcE5hdGl2ZTpcIjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpXCIsYWN0aXZlUGFnZUNsYXNzOlwidWktcGFnZS1hY3RpdmVcIixhY3RpdmVCdG5DbGFzczpcInVpLWJ0bi1hY3RpdmVcIixmb2N1c0NsYXNzOlwidWktZm9jdXNcIixhamF4RW5hYmxlZDohMCxoYXNoTGlzdGVuaW5nRW5hYmxlZDohMCxsaW5rQmluZGluZ0VuYWJsZWQ6ITAsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOlwiZmFkZVwiLG1heFRyYW5zaXRpb25XaWR0aDohMSxtaW5TY3JvbGxCYWNrOjAsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246XCJwb3BcIixwYWdlTG9hZEVycm9yTWVzc2FnZTpcIkVycm9yIExvYWRpbmcgUGFnZVwiLHBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWU6XCJhXCIscGhvbmVnYXBOYXZpZ2F0aW9uRW5hYmxlZDohMSxhdXRvSW5pdGlhbGl6ZVBhZ2U6ITAscHVzaFN0YXRlRW5hYmxlZDohMCxpZ25vcmVDb250ZW50RW5hYmxlZDohMSxidXR0b25NYXJrdXA6e2hvdmVyRGVsYXk6MjAwfSxkeW5hbWljQmFzZUVuYWJsZWQ6ITAscGFnZUNvbnRhaW5lcjphKCksYWxsb3dDcm9zc0RvbWFpblBhZ2VzOiExLGRpYWxvZ0hhc2hLZXk6XCImdWktc3RhdGU9ZGlhbG9nXCJ9KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIpe3ZhciBjPTAsZD1BcnJheS5wcm90b3R5cGUuc2xpY2UsZT1hLmNsZWFuRGF0YTthLmNsZWFuRGF0YT1mdW5jdGlvbihiKXtmb3IodmFyIGMsZD0wO251bGwhPShjPWJbZF0pO2QrKyl0cnl7YShjKS50cmlnZ2VySGFuZGxlcihcInJlbW92ZVwiKX1jYXRjaChmKXt9ZShiKX0sYS53aWRnZXQ9ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoLGk9e30saj1iLnNwbGl0KFwiLlwiKVswXTtyZXR1cm4gYj1iLnNwbGl0KFwiLlwiKVsxXSxlPWorXCItXCIrYixkfHwoZD1jLGM9YS5XaWRnZXQpLGEuZXhwcltcIjpcIl1bZS50b0xvd2VyQ2FzZSgpXT1mdW5jdGlvbihiKXtyZXR1cm4hIWEuZGF0YShiLGUpfSxhW2pdPWFbal18fHt9LGY9YVtqXVtiXSxnPWFbal1bYl09ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5fY3JlYXRlV2lkZ2V0P3ZvaWQoYXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYikpOm5ldyBnKGEsYil9LGEuZXh0ZW5kKGcsZix7dmVyc2lvbjpkLnZlcnNpb24sX3Byb3RvOmEuZXh0ZW5kKHt9LGQpLF9jaGlsZENvbnN0cnVjdG9yczpbXX0pLGg9bmV3IGMsaC5vcHRpb25zPWEud2lkZ2V0LmV4dGVuZCh7fSxoLm9wdGlvbnMpLGEuZWFjaChkLGZ1bmN0aW9uKGIsZCl7cmV0dXJuIGEuaXNGdW5jdGlvbihkKT92b2lkKGlbYl09ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBjLnByb3RvdHlwZVtiXS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGMucHJvdG90eXBlW2JdLmFwcGx5KHRoaXMsYSl9O3JldHVybiBmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5fc3VwZXIsZj10aGlzLl9zdXBlckFwcGx5O3JldHVybiB0aGlzLl9zdXBlcj1hLHRoaXMuX3N1cGVyQXBwbHk9ZSxiPWQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPWMsdGhpcy5fc3VwZXJBcHBseT1mLGJ9fSgpKTp2b2lkKGlbYl09ZCl9KSxnLnByb3RvdHlwZT1hLndpZGdldC5leHRlbmQoaCx7d2lkZ2V0RXZlbnRQcmVmaXg6Zj9oLndpZGdldEV2ZW50UHJlZml4fHxiOmJ9LGkse2NvbnN0cnVjdG9yOmcsbmFtZXNwYWNlOmosd2lkZ2V0TmFtZTpiLHdpZGdldEZ1bGxOYW1lOmV9KSxmPyhhLmVhY2goZi5fY2hpbGRDb25zdHJ1Y3RvcnMsZnVuY3Rpb24oYixjKXt2YXIgZD1jLnByb3RvdHlwZTthLndpZGdldChkLm5hbWVzcGFjZStcIi5cIitkLndpZGdldE5hbWUsZyxjLl9wcm90byl9KSxkZWxldGUgZi5fY2hpbGRDb25zdHJ1Y3RvcnMpOmMuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2goZyksYS53aWRnZXQuYnJpZGdlKGIsZyksZ30sYS53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKGMpe2Zvcih2YXIgZSxmLGc9ZC5jYWxsKGFyZ3VtZW50cywxKSxoPTAsaT1nLmxlbmd0aDtpPmg7aCsrKWZvcihlIGluIGdbaF0pZj1nW2hdW2VdLGdbaF0uaGFzT3duUHJvcGVydHkoZSkmJmYhPT1iJiYoY1tlXT1hLmlzUGxhaW5PYmplY3QoZik/YS5pc1BsYWluT2JqZWN0KGNbZV0pP2Eud2lkZ2V0LmV4dGVuZCh7fSxjW2VdLGYpOmEud2lkZ2V0LmV4dGVuZCh7fSxmKTpmKTtyZXR1cm4gY30sYS53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGMsZSl7dmFyIGY9ZS5wcm90b3R5cGUud2lkZ2V0RnVsbE5hbWV8fGM7YS5mbltjXT1mdW5jdGlvbihnKXt2YXIgaD1cInN0cmluZ1wiPT10eXBlb2YgZyxpPWQuY2FsbChhcmd1bWVudHMsMSksaj10aGlzO3JldHVybiBnPSFoJiZpLmxlbmd0aD9hLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbZ10uY29uY2F0KGkpKTpnLHRoaXMuZWFjaChoP2Z1bmN0aW9uKCl7dmFyIGQsZT1hLmRhdGEodGhpcyxmKTtyZXR1cm5cImluc3RhbmNlXCI9PT1nPyhqPWUsITEpOmU/YS5pc0Z1bmN0aW9uKGVbZ10pJiZcIl9cIiE9PWcuY2hhckF0KDApPyhkPWVbZ10uYXBwbHkoZSxpKSxkIT09ZSYmZCE9PWI/KGo9ZCYmZC5qcXVlcnk/ai5wdXNoU3RhY2soZC5nZXQoKSk6ZCwhMSk6dm9pZCAwKTphLmVycm9yKFwibm8gc3VjaCBtZXRob2QgJ1wiK2crXCInIGZvciBcIitjK1wiIHdpZGdldCBpbnN0YW5jZVwiKTphLmVycm9yKFwiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiBcIitjK1wiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJ1wiK2crXCInXCIpfTpmdW5jdGlvbigpe3ZhciBiPWEuZGF0YSh0aGlzLGYpO2I/Yi5vcHRpb24oZ3x8e30pLl9pbml0KCk6YS5kYXRhKHRoaXMsZixuZXcgZShnLHRoaXMpKX0pLGp9fSxhLldpZGdldD1mdW5jdGlvbigpe30sYS5XaWRnZXQuX2NoaWxkQ29uc3RydWN0b3JzPVtdLGEuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZTpcIndpZGdldFwiLHdpZGdldEV2ZW50UHJlZml4OlwiXCIsZGVmYXVsdEVsZW1lbnQ6XCI8ZGl2PlwiLG9wdGlvbnM6e2Rpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKGIsZCl7ZD1hKGR8fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdLHRoaXMuZWxlbWVudD1hKGQpLHRoaXMudXVpZD1jKyssdGhpcy5ldmVudE5hbWVzcGFjZT1cIi5cIit0aGlzLndpZGdldE5hbWUrdGhpcy51dWlkLHRoaXMub3B0aW9ucz1hLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zLHRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSxiKSx0aGlzLmJpbmRpbmdzPWEoKSx0aGlzLmhvdmVyYWJsZT1hKCksdGhpcy5mb2N1c2FibGU9YSgpLGQhPT10aGlzJiYoYS5kYXRhKGQsdGhpcy53aWRnZXRGdWxsTmFtZSx0aGlzKSx0aGlzLl9vbighMCx0aGlzLmVsZW1lbnQse3JlbW92ZTpmdW5jdGlvbihhKXthLnRhcmdldD09PWQmJnRoaXMuZGVzdHJveSgpfX0pLHRoaXMuZG9jdW1lbnQ9YShkLnN0eWxlP2Qub3duZXJEb2N1bWVudDpkLmRvY3VtZW50fHxkKSx0aGlzLndpbmRvdz1hKHRoaXMuZG9jdW1lbnRbMF0uZGVmYXVsdFZpZXd8fHRoaXMuZG9jdW1lbnRbMF0ucGFyZW50V2luZG93KSksdGhpcy5fY3JlYXRlKCksdGhpcy5fdHJpZ2dlcihcImNyZWF0ZVwiLG51bGwsdGhpcy5fZ2V0Q3JlYXRlRXZlbnREYXRhKCkpLHRoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6YS5ub29wLF9nZXRDcmVhdGVFdmVudERhdGE6YS5ub29wLF9jcmVhdGU6YS5ub29wLF9pbml0OmEubm9vcCxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZGVzdHJveSgpLHRoaXMuZWxlbWVudC51bmJpbmQodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKS5yZW1vdmVEYXRhKGEuY2FtZWxDYXNlKHRoaXMud2lkZ2V0RnVsbE5hbWUpKSx0aGlzLndpZGdldCgpLnVuYmluZCh0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKFwiYXJpYS1kaXNhYmxlZFwiKS5yZW1vdmVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lK1wiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkXCIpLHRoaXMuYmluZGluZ3MudW5iaW5kKHRoaXMuZXZlbnROYW1lc3BhY2UpLHRoaXMuaG92ZXJhYmxlLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtaG92ZXJcIiksdGhpcy5mb2N1c2FibGUucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1mb2N1c1wiKX0sX2Rlc3Ryb3k6YS5ub29wLHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnR9LG9wdGlvbjpmdW5jdGlvbihjLGQpe3ZhciBlLGYsZyxoPWM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGEud2lkZ2V0LmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBjKWlmKGg9e30sZT1jLnNwbGl0KFwiLlwiKSxjPWUuc2hpZnQoKSxlLmxlbmd0aCl7Zm9yKGY9aFtjXT1hLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW2NdKSxnPTA7ZzxlLmxlbmd0aC0xO2crKylmW2VbZ11dPWZbZVtnXV18fHt9LGY9ZltlW2ddXTtpZihjPWUucG9wKCksZD09PWIpcmV0dXJuIGZbY109PT1iP251bGw6ZltjXTtmW2NdPWR9ZWxzZXtpZihkPT09YilyZXR1cm4gdGhpcy5vcHRpb25zW2NdPT09Yj9udWxsOnRoaXMub3B0aW9uc1tjXTtoW2NdPWR9cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoaCksdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSl0aGlzLl9zZXRPcHRpb24oYixhW2JdKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9wdGlvbnNbYV09YixcImRpc2FibGVkXCI9PT1hJiYodGhpcy53aWRnZXQoKS50b2dnbGVDbGFzcyh0aGlzLndpZGdldEZ1bGxOYW1lK1wiLWRpc2FibGVkXCIsISFiKSx0aGlzLmhvdmVyYWJsZS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWhvdmVyXCIpLHRoaXMuZm9jdXNhYmxlLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtZm9jdXNcIikpLHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMX0pfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOiEwfSl9LF9vbjpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj10aGlzO1wiYm9vbGVhblwiIT10eXBlb2YgYiYmKGQ9YyxjPWIsYj0hMSksZD8oYz1lPWEoYyksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzLmFkZChjKSk6KGQ9YyxjPXRoaXMuZWxlbWVudCxlPXRoaXMud2lkZ2V0KCkpLGEuZWFjaChkLGZ1bmN0aW9uKGQsZyl7ZnVuY3Rpb24gaCgpe3JldHVybiBifHxmLm9wdGlvbnMuZGlzYWJsZWQhPT0hMCYmIWEodGhpcykuaGFzQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKT8oXCJzdHJpbmdcIj09dHlwZW9mIGc/ZltnXTpnKS5hcHBseShmLGFyZ3VtZW50cyk6dm9pZCAwfVwic3RyaW5nXCIhPXR5cGVvZiBnJiYoaC5ndWlkPWcuZ3VpZD1nLmd1aWR8fGguZ3VpZHx8YS5ndWlkKyspO3ZhciBpPWQubWF0Y2goL14oXFx3KylcXHMqKC4qKSQvKSxqPWlbMV0rZi5ldmVudE5hbWVzcGFjZSxrPWlbMl07az9lLmRlbGVnYXRlKGssaixoKTpjLmJpbmQoaixoKX0pfSxfb2ZmOmZ1bmN0aW9uKGEsYil7Yj0oYnx8XCJcIikuc3BsaXQoXCIgXCIpLmpvaW4odGhpcy5ldmVudE5hbWVzcGFjZStcIiBcIikrdGhpcy5ldmVudE5hbWVzcGFjZSxhLnVuYmluZChiKS51bmRlbGVnYXRlKGIpfSxfZGVsYXk6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7cmV0dXJuKFwic3RyaW5nXCI9PXR5cGVvZiBhP2RbYV06YSkuYXBwbHkoZCxhcmd1bWVudHMpfXZhciBkPXRoaXM7cmV0dXJuIHNldFRpbWVvdXQoYyxifHwwKX0sX2hvdmVyYWJsZTpmdW5jdGlvbihiKXt0aGlzLmhvdmVyYWJsZT10aGlzLmhvdmVyYWJsZS5hZGQoYiksdGhpcy5fb24oYix7bW91c2VlbnRlcjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKX0sbW91c2VsZWF2ZTpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1ob3ZlclwiKX19KX0sX2ZvY3VzYWJsZTpmdW5jdGlvbihiKXt0aGlzLmZvY3VzYWJsZT10aGlzLmZvY3VzYWJsZS5hZGQoYiksdGhpcy5fb24oYix7Zm9jdXNpbjpmdW5jdGlvbihiKXthKGIuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1mb2N1c1wiKX0sZm9jdXNvdXQ6ZnVuY3Rpb24oYil7YShiLmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtZm9jdXNcIil9fSl9LF90cmlnZ2VyOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGc9dGhpcy5vcHRpb25zW2JdO2lmKGQ9ZHx8e30sYz1hLkV2ZW50KGMpLGMudHlwZT0oYj09PXRoaXMud2lkZ2V0RXZlbnRQcmVmaXg/Yjp0aGlzLndpZGdldEV2ZW50UHJlZml4K2IpLnRvTG93ZXJDYXNlKCksYy50YXJnZXQ9dGhpcy5lbGVtZW50WzBdLGY9Yy5vcmlnaW5hbEV2ZW50KWZvcihlIGluIGYpZSBpbiBjfHwoY1tlXT1mW2VdKTtyZXR1cm4gdGhpcy5lbGVtZW50LnRyaWdnZXIoYyxkKSwhKGEuaXNGdW5jdGlvbihnKSYmZy5hcHBseSh0aGlzLmVsZW1lbnRbMF0sW2NdLmNvbmNhdChkKSk9PT0hMXx8Yy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl9fSxhLmVhY2goe3Nob3c6XCJmYWRlSW5cIixoaWRlOlwiZmFkZU91dFwifSxmdW5jdGlvbihiLGMpe2EuV2lkZ2V0LnByb3RvdHlwZVtcIl9cIitiXT1mdW5jdGlvbihkLGUsZil7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXtlZmZlY3Q6ZX0pO3ZhciBnLGg9ZT9lPT09ITB8fFwibnVtYmVyXCI9PXR5cGVvZiBlP2M6ZS5lZmZlY3R8fGM6YjtlPWV8fHt9LFwibnVtYmVyXCI9PXR5cGVvZiBlJiYoZT17ZHVyYXRpb246ZX0pLGc9IWEuaXNFbXB0eU9iamVjdChlKSxlLmNvbXBsZXRlPWYsZS5kZWxheSYmZC5kZWxheShlLmRlbGF5KSxnJiZhLmVmZmVjdHMmJmEuZWZmZWN0cy5lZmZlY3RbaF0/ZFtiXShlKTpoIT09YiYmZFtoXT9kW2hdKGUuZHVyYXRpb24sZS5lYXNpbmcsZik6ZC5xdWV1ZShmdW5jdGlvbihjKXthKHRoaXMpW2JdKCksZiYmZi5jYWxsKGRbMF0pLGMoKX0pfX0pfShhKSxmdW5jdGlvbihhLGIsYyl7dmFyIGQ9e30sZT1hLmZpbmQsZj0vKD86XFx7W1xcc1xcU10qXFx9fFxcW1tcXHNcXFNdKlxcXSkkLyxnPS86anFtRGF0YVxcKChbXildKilcXCkvZzthLmV4dGVuZChhLm1vYmlsZSx7bnM6XCJcIixnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oYixjKXt2YXIgZDtiPWIuanF1ZXJ5P2JbMF06YixiJiZiLmdldEF0dHJpYnV0ZSYmKGQ9Yi5nZXRBdHRyaWJ1dGUoXCJkYXRhLVwiK2EubW9iaWxlLm5zK2MpKTt0cnl7ZD1cInRydWVcIj09PWQ/ITA6XCJmYWxzZVwiPT09ZD8hMTpcIm51bGxcIj09PWQ/bnVsbDorZCtcIlwiPT09ZD8rZDpmLnRlc3QoZCk/SlNPTi5wYXJzZShkKTpkfWNhdGNoKGUpe31yZXR1cm4gZH0sbnNOb3JtYWxpemVEaWN0OmQsbnNOb3JtYWxpemU6ZnVuY3Rpb24oYil7cmV0dXJuIGRbYl18fChkW2JdPWEuY2FtZWxDYXNlKGEubW9iaWxlLm5zK2IpKX0sY2xvc2VzdFBhZ2VEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb3Nlc3QoXCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpXCIpLmRhdGEoXCJtb2JpbGUtcGFnZVwiKX19KSxhLmZuLmpxbURhdGE9ZnVuY3Rpb24oYixkKXt2YXIgZTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgYiYmKGImJihiPWEubW9iaWxlLm5zTm9ybWFsaXplKGIpKSxlPWFyZ3VtZW50cy5sZW5ndGg8Mnx8ZD09PWM/dGhpcy5kYXRhKGIpOnRoaXMuZGF0YShiLGQpKSxlfSxhLmpxbURhdGE9ZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBjJiYoZT1hLmRhdGEoYixjP2EubW9iaWxlLm5zTm9ybWFsaXplKGMpOmMsZCkpLGV9LGEuZm4uanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKGEubW9iaWxlLm5zTm9ybWFsaXplKGIpKX0sYS5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEucmVtb3ZlRGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGMpKX0sYS5maW5kPWZ1bmN0aW9uKGIsYyxkLGYpe3JldHVybiBiLmluZGV4T2YoXCI6anFtRGF0YVwiKT4tMSYmKGI9Yi5yZXBsYWNlKGcsXCJbZGF0YS1cIisoYS5tb2JpbGUubnN8fFwiXCIpK1wiJDFdXCIpKSxlLmNhbGwodGhpcyxiLGMsZCxmKX0sYS5leHRlbmQoYS5maW5kLGUpfShhLHRoaXMpLGZ1bmN0aW9uKGEpe3ZhciBiPS9bQS1aXS9nLGM9ZnVuY3Rpb24oYSl7cmV0dXJuXCItXCIrYS50b0xvd2VyQ2FzZSgpfTthLmV4dGVuZChhLldpZGdldC5wcm90b3R5cGUse19nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGQsZSxmPXRoaXMuZWxlbWVudFswXSxnPXt9O2lmKCFhLm1vYmlsZS5nZXRBdHRyaWJ1dGUoZixcImRlZmF1bHRzXCIpKWZvcihkIGluIHRoaXMub3B0aW9ucyllPWEubW9iaWxlLmdldEF0dHJpYnV0ZShmLGQucmVwbGFjZShiLGMpKSxudWxsIT1lJiYoZ1tkXT1lKTtyZXR1cm4gZ319KSxhLm1vYmlsZS53aWRnZXQ9YS5XaWRnZXR9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPVwidWktbG9hZGVyXCIsYz1hKFwiaHRtbFwiKTthLndpZGdldChcIm1vYmlsZS5sb2FkZXJcIix7b3B0aW9uczp7dGhlbWU6XCJhXCIsdGV4dFZpc2libGU6ITEsaHRtbDpcIlwiLHRleHQ6XCJsb2FkaW5nXCJ9LGRlZmF1bHRIdG1sOlwiPGRpdiBjbGFzcz0nXCIrYitcIic+PHNwYW4gY2xhc3M9J3VpLWljb24tbG9hZGluZyc+PC9zcGFuPjxoMT48L2gxPjwvZGl2PlwiLGZha2VGaXhMb2FkZXI6ZnVuY3Rpb24oKXt2YXIgYj1hKFwiLlwiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5maXJzdCgpO3RoaXMuZWxlbWVudC5jc3Moe3RvcDphLnN1cHBvcnQuc2Nyb2xsVG9wJiZ0aGlzLndpbmRvdy5zY3JvbGxUb3AoKSt0aGlzLndpbmRvdy5oZWlnaHQoKS8yfHxiLmxlbmd0aCYmYi5vZmZzZXQoKS50b3B8fDEwMH0pfSxjaGVja0xvYWRlclBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50Lm9mZnNldCgpLGM9dGhpcy53aW5kb3cuc2Nyb2xsVG9wKCksZD1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTsoYi50b3A8Y3x8Yi50b3AtYz5kKSYmKHRoaXMuZWxlbWVudC5hZGRDbGFzcyhcInVpLWxvYWRlci1mYWtlZml4XCIpLHRoaXMuZmFrZUZpeExvYWRlcigpLHRoaXMud2luZG93LnVuYmluZChcInNjcm9sbFwiLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbikuYmluZChcInNjcm9sbFwiLGEucHJveHkodGhpcy5mYWtlRml4TG9hZGVyLHRoaXMpKSl9LHJlc2V0SHRtbDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5odG1sKGEodGhpcy5kZWZhdWx0SHRtbCkuaHRtbCgpKX0sc2hvdzpmdW5jdGlvbihkLGUsZil7dmFyIGcsaCxpO3RoaXMucmVzZXRIdG1sKCksXCJvYmplY3RcIj09PWEudHlwZShkKT8oaT1hLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsZCksZD1pLnRoZW1lKTooaT10aGlzLm9wdGlvbnMsZD1kfHxpLnRoZW1lKSxoPWV8fChpLnRleHQ9PT0hMT9cIlwiOmkudGV4dCksYy5hZGRDbGFzcyhcInVpLWxvYWRpbmdcIiksZz1pLnRleHRWaXNpYmxlLHRoaXMuZWxlbWVudC5hdHRyKFwiY2xhc3NcIixiK1wiIHVpLWNvcm5lci1hbGwgdWktYm9keS1cIitkK1wiIHVpLWxvYWRlci1cIisoZ3x8ZXx8ZC50ZXh0P1widmVyYm9zZVwiOlwiZGVmYXVsdFwiKSsoaS50ZXh0b25seXx8Zj9cIiB1aS1sb2FkZXItdGV4dG9ubHlcIjpcIlwiKSksaS5odG1sP3RoaXMuZWxlbWVudC5odG1sKGkuaHRtbCk6dGhpcy5lbGVtZW50LmZpbmQoXCJoMVwiKS50ZXh0KGgpLHRoaXMuZWxlbWVudC5hcHBlbmRUbyhhKGEubW9iaWxlLnBhZ2Vjb250YWluZXI/XCI6bW9iaWxlLXBhZ2Vjb250YWluZXJcIjpcImJvZHlcIikpLHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbigpLHRoaXMud2luZG93LmJpbmQoXCJzY3JvbGxcIixhLnByb3h5KHRoaXMuY2hlY2tMb2FkZXJQb3NpdGlvbix0aGlzKSl9LGhpZGU6ZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKFwidWktbG9hZGluZ1wiKSx0aGlzLm9wdGlvbnMudGV4dCYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktbG9hZGVyLWZha2VmaXhcIiksdGhpcy53aW5kb3cudW5iaW5kKFwic2Nyb2xsXCIsdGhpcy5mYWtlRml4TG9hZGVyKSx0aGlzLndpbmRvdy51bmJpbmQoXCJzY3JvbGxcIix0aGlzLmNoZWNrTG9hZGVyUG9zaXRpb24pfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYixkKXtcIiQ6bm9tdW5nZVwiO2Z1bmN0aW9uIGUoYSl7cmV0dXJuIGE9YXx8bG9jYXRpb24uaHJlZixcIiNcIithLnJlcGxhY2UoL15bXiNdKiM/KC4qKSQvLFwiJDFcIil9dmFyIGYsZz1cImhhc2hjaGFuZ2VcIixoPWMsaT1hLmV2ZW50LnNwZWNpYWwsaj1oLmRvY3VtZW50TW9kZSxrPVwib25cIitnIGluIGImJihqPT09ZHx8aj43KTthLmZuW2ddPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChnLGEpOnRoaXMudHJpZ2dlcihnKX0sYS5mbltnXS5kZWxheT01MCxpW2ddPWEuZXh0ZW5kKGlbZ10se3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGs/ITE6dm9pZCBhKGYuc3RhcnQpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBrPyExOnZvaWQgYShmLnN0b3ApfX0pLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKCl7dmFyIGQ9ZSgpLGg9bihqKTtkIT09aj8obShqPWQsaCksYShiKS50cmlnZ2VyKGcpKTpoIT09aiYmKGxvY2F0aW9uLmhyZWY9bG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiovLFwiXCIpK2gpLGY9c2V0VGltZW91dChjLGEuZm5bZ10uZGVsYXkpfXZhciBmLGk9e30saj1lKCksbD1mdW5jdGlvbihhKXtyZXR1cm4gYX0sbT1sLG49bDtyZXR1cm4gaS5zdGFydD1mdW5jdGlvbigpe2Z8fGMoKX0saS5zdG9wPWZ1bmN0aW9uKCl7ZiYmY2xlYXJUaW1lb3V0KGYpLGY9ZH0sYi5hdHRhY2hFdmVudCYmIWIuYWRkRXZlbnRMaXN0ZW5lciYmIWsmJmZ1bmN0aW9uKCl7dmFyIGIsZDtpLnN0YXJ0PWZ1bmN0aW9uKCl7Ynx8KGQ9YS5mbltnXS5zcmMsZD1kJiZkK2UoKSxiPWEoJzxpZnJhbWUgdGFiaW5kZXg9XCItMVwiIHRpdGxlPVwiZW1wdHlcIi8+JykuaGlkZSgpLm9uZShcImxvYWRcIixmdW5jdGlvbigpe2R8fG0oZSgpKSxjKCl9KS5hdHRyKFwic3JjXCIsZHx8XCJqYXZhc2NyaXB0OjBcIikuaW5zZXJ0QWZ0ZXIoXCJib2R5XCIpWzBdLmNvbnRlbnRXaW5kb3csaC5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5e1widGl0bGVcIj09PWV2ZW50LnByb3BlcnR5TmFtZSYmKGIuZG9jdW1lbnQudGl0bGU9aC50aXRsZSl9Y2F0Y2goYSl7fX0pfSxpLnN0b3A9bCxuPWZ1bmN0aW9uKCl7cmV0dXJuIGUoYi5sb2NhdGlvbi5ocmVmKX0sbT1mdW5jdGlvbihjLGQpe3ZhciBlPWIuZG9jdW1lbnQsZj1hLmZuW2ddLmRvbWFpbjtjIT09ZCYmKGUudGl0bGU9aC50aXRsZSxlLm9wZW4oKSxmJiZlLndyaXRlKCc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj1cIicrZisnXCI8L3NjcmlwdD4nKSxlLmNsb3NlKCksYi5sb2NhdGlvbi5oYXNoPWMpfX0oKSxpfSgpfShhLHRoaXMpLGZ1bmN0aW9uKGEpe2IubWF0Y2hNZWRpYT1iLm1hdGNoTWVkaWF8fGZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5kb2N1bWVudEVsZW1lbnQsZD1jLmZpcnN0RWxlbWVudENoaWxkfHxjLmZpcnN0Q2hpbGQsZT1hLmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIpLGY9YS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBmLmlkPVwibXEtdGVzdC0xXCIsZi5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246YWJzb2x1dGU7dG9wOi0xMDBlbVwiLGUuc3R5bGUuYmFja2dyb3VuZD1cIm5vbmVcIixlLmFwcGVuZENoaWxkKGYpLGZ1bmN0aW9uKGEpe3JldHVybiBmLmlubmVySFRNTD0nJnNoeTs8c3R5bGUgbWVkaWE9XCInK2ErJ1wiPiAjbXEtdGVzdC0xIHsgd2lkdGg6IDQycHg7IH08L3N0eWxlPicsYy5pbnNlcnRCZWZvcmUoZSxkKSxiPTQyPT09Zi5vZmZzZXRXaWR0aCxjLnJlbW92ZUNoaWxkKGUpLHttYXRjaGVzOmIsbWVkaWE6YX19fShjKSxhLm1vYmlsZS5tZWRpYT1mdW5jdGlvbihhKXtyZXR1cm4gYi5tYXRjaE1lZGlhKGEpLm1hdGNoZXN9fShhKSxmdW5jdGlvbihhKXt2YXIgYj17dG91Y2g6XCJvbnRvdWNoZW5kXCJpbiBjfTthLm1vYmlsZS5zdXBwb3J0PWEubW9iaWxlLnN1cHBvcnR8fHt9LGEuZXh0ZW5kKGEuc3VwcG9ydCxiKSxhLmV4dGVuZChhLm1vYmlsZS5zdXBwb3J0LGIpfShhKSxmdW5jdGlvbihhKXthLmV4dGVuZChhLnN1cHBvcnQse29yaWVudGF0aW9uOlwib3JpZW50YXRpb25cImluIGImJlwib25vcmllbnRhdGlvbmNoYW5nZVwiaW4gYn0pfShhKSxmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoYSl7dmFyIGIsYz1hLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpLGU9KGErXCIgXCIrby5qb2luKGMrXCIgXCIpK2MpLnNwbGl0KFwiIFwiKTtmb3IoYiBpbiBlKWlmKG5bZVtiXV0hPT1kKXJldHVybiEwfWZ1bmN0aW9uIGYoKXt2YXIgYz1iLGQ9ISghYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlN8fCFjLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXCJzdmdcIikuY3JlYXRlU1ZHUmVjdHx8Yy5vcGVyYSYmLTE9PT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJDaHJvbWVcIikpLGU9ZnVuY3Rpb24oYil7YiYmZHx8YShcImh0bWxcIikuYWRkQ2xhc3MoXCJ1aS1ub3N2Z1wiKX0sZj1uZXcgYy5JbWFnZTtmLm9uZXJyb3I9ZnVuY3Rpb24oKXtlKCExKX0sZi5vbmxvYWQ9ZnVuY3Rpb24oKXtlKDE9PT1mLndpZHRoJiYxPT09Zi5oZWlnaHQpfSxmLnNyYz1cImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veXdBQUFBQUFRQUJBQUFDQVV3QU93PT1cIn1mdW5jdGlvbiBnKCl7dmFyIGUsZixnLGg9XCJ0cmFuc2Zvcm0tM2RcIixpPWEubW9iaWxlLm1lZGlhKFwiKC1cIitvLmpvaW4oXCItXCIraCtcIiksKC1cIikrXCItXCIraCtcIiksKFwiK2grXCIpXCIpO2lmKGkpcmV0dXJuISFpO2U9Yy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGY9e01velRyYW5zZm9ybTpcIi1tb3otdHJhbnNmb3JtXCIsdHJhbnNmb3JtOlwidHJhbnNmb3JtXCJ9LG0uYXBwZW5kKGUpO2ZvcihnIGluIGYpZS5zdHlsZVtnXSE9PWQmJihlLnN0eWxlW2ddPVwidHJhbnNsYXRlM2QoIDEwMHB4LCAxcHgsIDFweCApXCIsaT1iLmdldENvbXB1dGVkU3R5bGUoZSkuZ2V0UHJvcGVydHlWYWx1ZShmW2ddKSk7cmV0dXJuISFpJiZcIm5vbmVcIiE9PWl9ZnVuY3Rpb24gaCgpe3ZhciBiLGMsZD1sb2NhdGlvbi5wcm90b2NvbCtcIi8vXCIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZStcInVpLWRpci9cIixlPWEoXCJoZWFkIGJhc2VcIiksZj1udWxsLGc9XCJcIjtyZXR1cm4gZS5sZW5ndGg/Zz1lLmF0dHIoXCJocmVmXCIpOmU9Zj1hKFwiPGJhc2U+XCIse2hyZWY6ZH0pLmFwcGVuZFRvKFwiaGVhZFwiKSxiPWEoXCI8YSBocmVmPSd0ZXN0dXJsJyAvPlwiKS5wcmVwZW5kVG8obSksYz1iWzBdLmhyZWYsZVswXS5ocmVmPWd8fGxvY2F0aW9uLnBhdGhuYW1lLGYmJmYucmVtb3ZlKCksMD09PWMuaW5kZXhPZihkKX1mdW5jdGlvbiBpKCl7dmFyIGEsZD1jLmNyZWF0ZUVsZW1lbnQoXCJ4XCIpLGU9Yy5kb2N1bWVudEVsZW1lbnQsZj1iLmdldENvbXB1dGVkU3R5bGU7cmV0dXJuXCJwb2ludGVyRXZlbnRzXCJpbiBkLnN0eWxlPyhkLnN0eWxlLnBvaW50ZXJFdmVudHM9XCJhdXRvXCIsZC5zdHlsZS5wb2ludGVyRXZlbnRzPVwieFwiLGUuYXBwZW5kQ2hpbGQoZCksYT1mJiZcImF1dG9cIj09PWYoZCxcIlwiKS5wb2ludGVyRXZlbnRzLGUucmVtb3ZlQ2hpbGQoZCksISFhKTohMX1mdW5jdGlvbiBqKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdH1mdW5jdGlvbiBrKCl7dmFyIGE9YixjPW5hdmlnYXRvci51c2VyQWdlbnQsZD1uYXZpZ2F0b3IucGxhdGZvcm0sZT1jLm1hdGNoKC9BcHBsZVdlYktpdFxcLyhbMC05XSspLyksZj0hIWUmJmVbMV0sZz1jLm1hdGNoKC9GZW5uZWNcXC8oWzAtOV0rKS8pLGg9ISFnJiZnWzFdLGk9Yy5tYXRjaCgvT3BlcmEgTW9iaVxcLyhbMC05XSspLyksaj0hIWkmJmlbMV07cmV0dXJuKGQuaW5kZXhPZihcImlQaG9uZVwiKT4tMXx8ZC5pbmRleE9mKFwiaVBhZFwiKT4tMXx8ZC5pbmRleE9mKFwiaVBvZFwiKT4tMSkmJmYmJjUzND5mfHxhLm9wZXJhbWluaSYmXCJbb2JqZWN0IE9wZXJhTWluaV1cIj09PXt9LnRvU3RyaW5nLmNhbGwoYS5vcGVyYW1pbmkpfHxpJiY3NDU4Pmp8fGMuaW5kZXhPZihcIkFuZHJvaWRcIik+LTEmJmYmJjUzMz5mfHxoJiY2Pmh8fFwicGFsbUdldFJlc291cmNlXCJpbiBiJiZmJiY1MzQ+Znx8Yy5pbmRleE9mKFwiTWVlR29cIik+LTEmJmMuaW5kZXhPZihcIk5va2lhQnJvd3Nlci84LjUuMFwiKT4tMT8hMTohMH12YXIgbCxtPWEoXCI8Ym9keT5cIikucHJlcGVuZFRvKFwiaHRtbFwiKSxuPW1bMF0uc3R5bGUsbz1bXCJXZWJraXRcIixcIk1velwiLFwiT1wiXSxwPVwicGFsbUdldFJlc291cmNlXCJpbiBiLHE9Yi5vcGVyYW1pbmkmJlwiW29iamVjdCBPcGVyYU1pbmldXCI9PT17fS50b1N0cmluZy5jYWxsKGIub3BlcmFtaW5pKSxyPWIuYmxhY2tiZXJyeSYmIWUoXCItd2Via2l0LXRyYW5zZm9ybVwiKTthLmV4dGVuZChhLm1vYmlsZSx7YnJvd3Nlcjp7fX0pLGEubW9iaWxlLmJyb3dzZXIub2xkSUU9ZnVuY3Rpb24oKXt2YXIgYT0zLGI9Yy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGQ9Yi5hbGx8fFtdO2RvIGIuaW5uZXJIVE1MPVwiPCEtLVtpZiBndCBJRSBcIisgKythK1wiXT48YnI+PCFbZW5kaWZdLS0+XCI7d2hpbGUoZFswXSk7cmV0dXJuIGE+ND9hOiFhfSgpLGEuZXh0ZW5kKGEuc3VwcG9ydCx7cHVzaFN0YXRlOlwicHVzaFN0YXRlXCJpbiBoaXN0b3J5JiZcInJlcGxhY2VTdGF0ZVwiaW4gaGlzdG9yeSYmIShiLm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkZpcmVmb3hcIik+PTAmJmIudG9wIT09YikmJi0xPT09Yi5uYXZpZ2F0b3IudXNlckFnZW50LnNlYXJjaCgvQ3JpT1MvKSxtZWRpYXF1ZXJ5OmEubW9iaWxlLm1lZGlhKFwib25seSBhbGxcIiksY3NzUHNldWRvRWxlbWVudDohIWUoXCJjb250ZW50XCIpLHRvdWNoT3ZlcmZsb3c6ISFlKFwib3ZlcmZsb3dTY3JvbGxpbmdcIiksY3NzVHJhbnNmb3JtM2Q6ZygpLGJveFNoYWRvdzohIWUoXCJib3hTaGFkb3dcIikmJiFyLGZpeGVkUG9zaXRpb246aygpLHNjcm9sbFRvcDooXCJwYWdlWE9mZnNldFwiaW4gYnx8XCJzY3JvbGxUb3BcImluIGMuZG9jdW1lbnRFbGVtZW50fHxcInNjcm9sbFRvcFwiaW4gbVswXSkmJiFwJiYhcSxkeW5hbWljQmFzZVRhZzpoKCksY3NzUG9pbnRlckV2ZW50czppKCksYm91bmRpbmdSZWN0OmooKSxpbmxpbmVTVkc6Zn0pLG0ucmVtb3ZlKCksbD1mdW5jdGlvbigpe3ZhciBhPWIubmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4gYS5pbmRleE9mKFwiTm9raWFcIik+LTEmJihhLmluZGV4T2YoXCJTeW1iaWFuLzNcIik+LTF8fGEuaW5kZXhPZihcIlNlcmllczYwLzVcIik+LTEpJiZhLmluZGV4T2YoXCJBcHBsZVdlYktpdFwiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXFwvN1xcLlswLTNdLyl9KCksYS5tb2JpbGUuZ3JhZGVBPWZ1bmN0aW9uKCl7cmV0dXJuKGEuc3VwcG9ydC5tZWRpYXF1ZXJ5JiZhLnN1cHBvcnQuY3NzUHNldWRvRWxlbWVudHx8YS5tb2JpbGUuYnJvd3Nlci5vbGRJRSYmYS5tb2JpbGUuYnJvd3Nlci5vbGRJRT49OCkmJihhLnN1cHBvcnQuYm91bmRpbmdSZWN0fHxudWxsIT09YS5mbi5qcXVlcnkubWF0Y2goLzFcXC5bMC03K11cXC5bMC05K10/LykpfSxhLm1vYmlsZS5hamF4QmxhY2tsaXN0PWIuYmxhY2tiZXJyeSYmIWIuV2ViS2l0UG9pbnR8fHF8fGwsbCYmYShmdW5jdGlvbigpe2EoXCJoZWFkIGxpbmtbcmVsPSdzdHlsZXNoZWV0J11cIikuYXR0cihcInJlbFwiLFwiYWx0ZXJuYXRlIHN0eWxlc2hlZXRcIikuYXR0cihcInJlbFwiLFwic3R5bGVzaGVldFwiKX0pLGEuc3VwcG9ydC5ib3hTaGFkb3d8fGEoXCJodG1sXCIpLmFkZENsYXNzKFwidWktbm9ib3hzaGFkb3dcIil9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGMsZD1hLm1vYmlsZS53aW5kb3csZT1mdW5jdGlvbigpe307YS5ldmVudC5zcGVjaWFsLmJlZm9yZW5hdmlnYXRlPXtzZXR1cDpmdW5jdGlvbigpe2Qub24oXCJuYXZpZ2F0ZVwiLGUpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2Qub2ZmKFwibmF2aWdhdGVcIixlKX19LGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZT1jPXtib3VuZDohMSxwdXNoU3RhdGVFbmFibGVkOiEwLG9yaWdpbmFsRXZlbnROYW1lOmIsaXNQdXNoU3RhdGVFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGEuc3VwcG9ydC5wdXNoU3RhdGUmJmEubW9iaWxlLnB1c2hTdGF0ZUVuYWJsZWQ9PT0hMCYmdGhpcy5pc0hhc2hDaGFuZ2VFbmFibGVkKCl9LGlzSGFzaENoYW5nZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQ9PT0hMH0scG9wc3RhdGU6ZnVuY3Rpb24oYil7dmFyIGM9bmV3IGEuRXZlbnQoXCJuYXZpZ2F0ZVwiKSxlPW5ldyBhLkV2ZW50KFwiYmVmb3JlbmF2aWdhdGVcIiksZj1iLm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9O2Uub3JpZ2luYWxFdmVudD1iLGQudHJpZ2dlcihlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoYi5oaXN0b3J5U3RhdGUmJmEuZXh0ZW5kKGYsYi5oaXN0b3J5U3RhdGUpLGMub3JpZ2luYWxFdmVudD1iLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnRyaWdnZXIoYyx7c3RhdGU6Zn0pfSwwKSl9LGhhc2hjaGFuZ2U6ZnVuY3Rpb24oYil7dmFyIGM9bmV3IGEuRXZlbnQoXCJuYXZpZ2F0ZVwiKSxlPW5ldyBhLkV2ZW50KFwiYmVmb3JlbmF2aWdhdGVcIik7ZS5vcmlnaW5hbEV2ZW50PWIsZC50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fChjLm9yaWdpbmFsRXZlbnQ9YixkLnRyaWdnZXIoYyx7c3RhdGU6Yi5oYXNoY2hhbmdlU3RhdGV8fHt9fSkpfSxzZXR1cDpmdW5jdGlvbigpe2MuYm91bmR8fChjLmJvdW5kPSEwLGMuaXNQdXNoU3RhdGVFbmFibGVkKCk/KGMub3JpZ2luYWxFdmVudE5hbWU9XCJwb3BzdGF0ZVwiLGQuYmluZChcInBvcHN0YXRlLm5hdmlnYXRlXCIsYy5wb3BzdGF0ZSkpOmMuaXNIYXNoQ2hhbmdlRW5hYmxlZCgpJiYoYy5vcmlnaW5hbEV2ZW50TmFtZT1cImhhc2hjaGFuZ2VcIixkLmJpbmQoXCJoYXNoY2hhbmdlLm5hdmlnYXRlXCIsYy5oYXNoY2hhbmdlKSkpfX19KGEpLGZ1bmN0aW9uKGEsYyl7dmFyIGQsZSxmPVwiJnVpLXN0YXRlPWRpYWxvZ1wiO2EubW9iaWxlLnBhdGg9ZD17dWlTdGF0ZUtleTpcIiZ1aS1zdGF0ZVwiLHVybFBhcnNlUkU6L15cXHMqKCgoKFteOlxcLyNcXD9dKzopPyg/OihcXC9cXC8pKCg/OigoW146QFxcLyNcXD9dKykoPzpcXDooW146QFxcLyNcXD9dKykpPylAKT8oKFteOlxcLyNcXD9cXF1cXFtdK3xcXFtbXlxcL1xcXUAjP10rXFxdKSg/OlxcOihbMC05XSspKT8pKT8pPyk/KChcXC8/KD86W15cXC9cXD8jXStcXC8rKSopKFteXFw/I10qKSkpPyhcXD9bXiNdKyk/KSgjLiopPy8sZ2V0TG9jYXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5wYXJzZVVybChhfHxsb2NhdGlvbi5ocmVmKSxjPWE/Yjpsb2NhdGlvbixkPWIuaGFzaDtyZXR1cm4gZD1cIiNcIj09PWQ/XCJcIjpkLGMucHJvdG9jb2wrYi5kb3VibGVTbGFzaCtjLmhvc3QrKFwiXCIhPT1jLnByb3RvY29sJiZcIi9cIiE9PWMucGF0aG5hbWUuc3Vic3RyaW5nKDAsMSk/XCIvXCI6XCJcIikrYy5wYXRobmFtZStjLnNlYXJjaCtkfSxnZXREb2N1bWVudFVybDpmdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSxkLmRvY3VtZW50VXJsKTpkLmRvY3VtZW50VXJsLmhyZWZ9LHBhcnNlTG9jYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJzZVVybCh0aGlzLmdldExvY2F0aW9uKCkpfSxwYXJzZVVybDpmdW5jdGlvbihiKXtpZihcIm9iamVjdFwiPT09YS50eXBlKGIpKXJldHVybiBiO3ZhciBjPWQudXJsUGFyc2VSRS5leGVjKGJ8fFwiXCIpfHxbXTtyZXR1cm57aHJlZjpjWzBdfHxcIlwiLGhyZWZOb0hhc2g6Y1sxXXx8XCJcIixocmVmTm9TZWFyY2g6Y1syXXx8XCJcIixkb21haW46Y1szXXx8XCJcIixwcm90b2NvbDpjWzRdfHxcIlwiLGRvdWJsZVNsYXNoOmNbNV18fFwiXCIsYXV0aG9yaXR5OmNbNl18fFwiXCIsdXNlcm5hbWU6Y1s4XXx8XCJcIixwYXNzd29yZDpjWzldfHxcIlwiLGhvc3Q6Y1sxMF18fFwiXCIsaG9zdG5hbWU6Y1sxMV18fFwiXCIscG9ydDpjWzEyXXx8XCJcIixwYXRobmFtZTpjWzEzXXx8XCJcIixkaXJlY3Rvcnk6Y1sxNF18fFwiXCIsZmlsZW5hbWU6Y1sxNV18fFwiXCIsc2VhcmNoOmNbMTZdfHxcIlwiLGhhc2g6Y1sxN118fFwiXCJ9fSxtYWtlUGF0aEFic29sdXRlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY7aWYoYSYmXCIvXCI9PT1hLmNoYXJBdCgwKSlyZXR1cm4gYTtmb3IoYT1hfHxcIlwiLGI9Yj9iLnJlcGxhY2UoL15cXC98KFxcL1teXFwvXSp8W15cXC9dKykkL2csXCJcIik6XCJcIixjPWI/Yi5zcGxpdChcIi9cIik6W10sZD1hLnNwbGl0KFwiL1wiKSxlPTA7ZTxkLmxlbmd0aDtlKyspc3dpdGNoKGY9ZFtlXSl7Y2FzZVwiLlwiOmJyZWFrO2Nhc2VcIi4uXCI6Yy5sZW5ndGgmJmMucG9wKCk7YnJlYWs7ZGVmYXVsdDpjLnB1c2goZil9cmV0dXJuXCIvXCIrYy5qb2luKFwiL1wiKX0saXNTYW1lRG9tYWluOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQucGFyc2VVcmwoYSkuZG9tYWluLnRvTG93ZXJDYXNlKCk9PT1kLnBhcnNlVXJsKGIpLmRvbWFpbi50b0xvd2VyQ2FzZSgpfSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGEpe3JldHVyblwiXCI9PT1kLnBhcnNlVXJsKGEpLnByb3RvY29sfSxpc0Fic29sdXRlVXJsOmZ1bmN0aW9uKGEpe3JldHVyblwiXCIhPT1kLnBhcnNlVXJsKGEpLnByb3RvY29sfSxtYWtlVXJsQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZighZC5pc1JlbGF0aXZlVXJsKGEpKXJldHVybiBhO2I9PT1jJiYoYj10aGlzLmRvY3VtZW50QmFzZSk7dmFyIGU9ZC5wYXJzZVVybChhKSxmPWQucGFyc2VVcmwoYiksZz1lLnByb3RvY29sfHxmLnByb3RvY29sLGg9ZS5wcm90b2NvbD9lLmRvdWJsZVNsYXNoOmUuZG91YmxlU2xhc2h8fGYuZG91YmxlU2xhc2gsaT1lLmF1dGhvcml0eXx8Zi5hdXRob3JpdHksaj1cIlwiIT09ZS5wYXRobmFtZSxrPWQubWFrZVBhdGhBYnNvbHV0ZShlLnBhdGhuYW1lfHxmLmZpbGVuYW1lLGYucGF0aG5hbWUpLGw9ZS5zZWFyY2h8fCFqJiZmLnNlYXJjaHx8XCJcIixtPWUuaGFzaDtyZXR1cm4gZytoK2kraytsK219LGFkZFNlYXJjaFBhcmFtczpmdW5jdGlvbihiLGMpe3ZhciBlPWQucGFyc2VVcmwoYiksZj1cIm9iamVjdFwiPT10eXBlb2YgYz9hLnBhcmFtKGMpOmMsZz1lLnNlYXJjaHx8XCI/XCI7cmV0dXJuIGUuaHJlZk5vU2VhcmNoK2crKFwiP1wiIT09Zy5jaGFyQXQoZy5sZW5ndGgtMSk/XCImXCI6XCJcIikrZisoZS5oYXNofHxcIlwiKX0sY29udmVydFVybFRvRGF0YVVybDpmdW5jdGlvbihhKXt2YXIgYz1hLGU9ZC5wYXJzZVVybChhKTtyZXR1cm4gZC5pc0VtYmVkZGVkUGFnZShlKT9jPWUuaGFzaC5zcGxpdChmKVswXS5yZXBsYWNlKC9eIy8sXCJcIikucmVwbGFjZSgvXFw/LiokLyxcIlwiKTpkLmlzU2FtZURvbWFpbihlLHRoaXMuZG9jdW1lbnRCYXNlKSYmKGM9ZS5ocmVmTm9IYXNoLnJlcGxhY2UodGhpcy5kb2N1bWVudEJhc2UuZG9tYWluLFwiXCIpLnNwbGl0KGYpWzBdKSxiLmRlY29kZVVSSUNvbXBvbmVudChjKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09YyYmKGE9ZC5wYXJzZUxvY2F0aW9uKCkuaGFzaCksZC5zdHJpcEhhc2goYSkucmVwbGFjZSgvW15cXC9dKlxcLlteXFwvKl0rJC8sXCJcIil9LHNldDpmdW5jdGlvbihhKXtsb2NhdGlvbi5oYXNoPWF9LGlzUGF0aDpmdW5jdGlvbihhKXtyZXR1cm4vXFwvLy50ZXN0KGEpfSxjbGVhbjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHRoaXMuZG9jdW1lbnRCYXNlLmRvbWFpbixcIlwiKX0sc3RyaXBIYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL14jLyxcIlwiKX0sc3RyaXBRdWVyeVBhcmFtczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXD8uKiQvLFwiXCIpfSxjbGVhbkhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGQuc3RyaXBIYXNoKGEucmVwbGFjZSgvXFw/LiokLyxcIlwiKS5yZXBsYWNlKGYsXCJcIikpfSxpc0hhc2hWYWxpZDpmdW5jdGlvbihhKXtyZXR1cm4vXiNbXiNdKyQvLnRlc3QoYSl9LGlzRXh0ZXJuYWw6ZnVuY3Rpb24oYSl7dmFyIGI9ZC5wYXJzZVVybChhKTtyZXR1cm4hKCFiLnByb3RvY29sfHxiLmRvbWFpbi50b0xvd2VyQ2FzZSgpPT09dGhpcy5kb2N1bWVudFVybC5kb21haW4udG9Mb3dlckNhc2UoKSl9LGhhc1Byb3RvY29sOmZ1bmN0aW9uKGEpe3JldHVybi9eKDo/XFx3KzopLy50ZXN0KGEpfSxpc0VtYmVkZGVkUGFnZTpmdW5jdGlvbihhKXt2YXIgYj1kLnBhcnNlVXJsKGEpO3JldHVyblwiXCIhPT1iLnByb3RvY29sPyF0aGlzLmlzUGF0aChiLmhhc2gpJiZiLmhhc2gmJihiLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50VXJsLmhyZWZOb0hhc2h8fHRoaXMuZG9jdW1lbnRCYXNlRGlmZmVycyYmYi5ocmVmTm9IYXNoPT09dGhpcy5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCk6L14jLy50ZXN0KGIuaHJlZil9LHNxdWFzaDpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGgsaT10aGlzLmlzUGF0aChhKSxqPXRoaXMucGFyc2VVcmwoYSksaz1qLmhhc2gsbD1cIlwiO3JldHVybiBifHwoaT9iPWQuZ2V0TG9jYXRpb24oKTooaD1kLmdldERvY3VtZW50VXJsKCEwKSxiPWQuaXNQYXRoKGguaGFzaCk/ZC5zcXVhc2goaC5ocmVmKTpoLmhyZWYpKSxlPWk/ZC5zdHJpcEhhc2goYSk6YSxlPWQuaXNQYXRoKGouaGFzaCk/ZC5zdHJpcEhhc2goai5oYXNoKTplLGc9ZS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSksZz4tMSYmKGw9ZS5zbGljZShnKSxlPWUuc2xpY2UoMCxnKSksYz1kLm1ha2VVcmxBYnNvbHV0ZShlLGIpLGY9dGhpcy5wYXJzZVVybChjKS5zZWFyY2gsaT8oKGQuaXNQYXRoKGspfHwwPT09ay5yZXBsYWNlKFwiI1wiLFwiXCIpLmluZGV4T2YodGhpcy51aVN0YXRlS2V5KSkmJihrPVwiXCIpLGwmJi0xPT09ay5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSkmJihrKz1sKSwtMT09PWsuaW5kZXhPZihcIiNcIikmJlwiXCIhPT1rJiYoaz1cIiNcIitrKSxjPWQucGFyc2VVcmwoYyksYz1jLnByb3RvY29sK2MuZG91YmxlU2xhc2grYy5ob3N0K2MucGF0aG5hbWUrZitrKTpjKz1jLmluZGV4T2YoXCIjXCIpPi0xP2w6XCIjXCIrbCxjfSxpc1ByZXNlcnZhYmxlSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gMD09PWEucmVwbGFjZShcIiNcIixcIlwiKS5pbmRleE9mKHRoaXMudWlTdGF0ZUtleSl9LGhhc2hUb1NlbGVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPVwiI1wiPT09YS5zdWJzdHJpbmcoMCwxKTtyZXR1cm4gYiYmKGE9YS5zdWJzdHJpbmcoMSkpLChiP1wiI1wiOlwiXCIpK2EucmVwbGFjZSgvKFshXCIjJCUmJygpKissLi86Ozw9Pj9AW1xcXV5ge3x9fl0pL2csXCJcXFxcJDFcIil9LGdldEZpbGVQYXRoOmZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLnNwbGl0KGYpWzBdfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgZT1kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGIsdGhpcy5kb2N1bWVudEJhc2UpKSxmPWUuaHJlZk5vSGFzaD09PXRoaXMuZG9jdW1lbnRVcmwuaHJlZk5vSGFzaHx8dGhpcy5kb2N1bWVudEJhc2VEaWZmZXJzJiZlLmhyZWZOb0hhc2g9PT10aGlzLmRvY3VtZW50QmFzZS5ocmVmTm9IYXNoLGc9YS5tb2JpbGUuZmlyc3RQYWdlLGg9ZyYmZ1swXT9nWzBdLmlkOmM7cmV0dXJuIGYmJighZS5oYXNofHxcIiNcIj09PWUuaGFzaHx8aCYmZS5oYXNoLnJlcGxhY2UoL14jLyxcIlwiKT09PWgpfSxpc1Blcm1pdHRlZENyb3NzRG9tYWluUmVxdWVzdDpmdW5jdGlvbihiLGMpe3JldHVybiBhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXMmJihcImZpbGU6XCI9PT1iLnByb3RvY29sfHxcImNvbnRlbnQ6XCI9PT1iLnByb3RvY29sKSYmLTEhPT1jLnNlYXJjaCgvXmh0dHBzPzovKX19LGQuZG9jdW1lbnRVcmw9ZC5wYXJzZUxvY2F0aW9uKCksZT1hKFwiaGVhZFwiKS5maW5kKFwiYmFzZVwiKSxkLmRvY3VtZW50QmFzZT1lLmxlbmd0aD9kLnBhcnNlVXJsKGQubWFrZVVybEFic29sdXRlKGUuYXR0cihcImhyZWZcIiksZC5kb2N1bWVudFVybC5ocmVmKSk6ZC5kb2N1bWVudFVybCxkLmRvY3VtZW50QmFzZURpZmZlcnM9ZC5kb2N1bWVudFVybC5ocmVmTm9IYXNoIT09ZC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCxkLmdldERvY3VtZW50QmFzZT1mdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSxkLmRvY3VtZW50QmFzZSk6ZC5kb2N1bWVudEJhc2UuaHJlZn0sYS5leHRlbmQoYS5tb2JpbGUse2dldERvY3VtZW50VXJsOmQuZ2V0RG9jdW1lbnRVcmwsZ2V0RG9jdW1lbnRCYXNlOmQuZ2V0RG9jdW1lbnRCYXNlfSl9KGEpLGZ1bmN0aW9uKGEsYil7YS5tb2JpbGUuSGlzdG9yeT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhY2s9YXx8W10sdGhpcy5hY3RpdmVJbmRleD1ifHwwfSxhLmV4dGVuZChhLm1vYmlsZS5IaXN0b3J5LnByb3RvdHlwZSx7Z2V0QWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleF19LGdldExhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFja1t0aGlzLnByZXZpb3VzSW5kZXhdfSxnZXROZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5hY3RpdmVJbmRleCsxXX0sZ2V0UHJldjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrW3RoaXMuYWN0aXZlSW5kZXgtMV19LGFkZDpmdW5jdGlvbihhLGIpe2I9Ynx8e30sdGhpcy5nZXROZXh0KCkmJnRoaXMuY2xlYXJGb3J3YXJkKCksYi5oYXNoJiYtMT09PWIuaGFzaC5pbmRleE9mKFwiI1wiKSYmKGIuaGFzaD1cIiNcIitiLmhhc2gpLGIudXJsPWEsdGhpcy5zdGFjay5wdXNoKGIpLHRoaXMuYWN0aXZlSW5kZXg9dGhpcy5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7dGhpcy5zdGFjaz10aGlzLnN0YWNrLnNsaWNlKDAsdGhpcy5hY3RpdmVJbmRleCsxKX0sZmluZDpmdW5jdGlvbihhLGIsYyl7Yj1ifHx0aGlzLnN0YWNrO3ZhciBkLGUsZixnPWIubGVuZ3RoO2ZvcihlPTA7Zz5lO2UrKylpZihkPWJbZV0sKGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLnVybCl8fGRlY29kZVVSSUNvbXBvbmVudChhKT09PWRlY29kZVVSSUNvbXBvbmVudChkLmhhc2gpKSYmKGY9ZSxjKSlyZXR1cm4gZjtyZXR1cm4gZn0sY2xvc2VzdDpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMuYWN0aXZlSW5kZXg7cmV0dXJuIGM9dGhpcy5maW5kKGEsdGhpcy5zdGFjay5zbGljZSgwLGQpKSxjPT09YiYmKGM9dGhpcy5maW5kKGEsdGhpcy5zdGFjay5zbGljZShkKSwhMCksYz1jPT09Yj9jOmMrZCksY30sZGlyZWN0OmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuY2xvc2VzdChjLnVybCksZT10aGlzLmFjdGl2ZUluZGV4O2QhPT1iJiYodGhpcy5hY3RpdmVJbmRleD1kLHRoaXMucHJldmlvdXNJbmRleD1lKSxlPmQ/KGMucHJlc2VudHx8Yy5iYWNrfHxhLm5vb3ApKHRoaXMuZ2V0QWN0aXZlKCksXCJiYWNrXCIpOmQ+ZT8oYy5wcmVzZW50fHxjLmZvcndhcmR8fGEubm9vcCkodGhpcy5nZXRBY3RpdmUoKSxcImZvcndhcmRcIik6ZD09PWImJmMubWlzc2luZyYmYy5taXNzaW5nKHRoaXMuZ2V0QWN0aXZlKCkpfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgZD1hLm1vYmlsZS5wYXRoLGU9bG9jYXRpb24uaHJlZjthLm1vYmlsZS5OYXZpZ2F0b3I9ZnVuY3Rpb24oYil7dGhpcy5oaXN0b3J5PWIsdGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZT0hMCxhLm1vYmlsZS53aW5kb3cuYmluZCh7XCJwb3BzdGF0ZS5oaXN0b3J5XCI6YS5wcm94eSh0aGlzLnBvcHN0YXRlLHRoaXMpLFwiaGFzaGNoYW5nZS5oaXN0b3J5XCI6YS5wcm94eSh0aGlzLmhhc2hjaGFuZ2UsdGhpcyl9KX0sYS5leHRlbmQoYS5tb2JpbGUuTmF2aWdhdG9yLnByb3RvdHlwZSx7c3F1YXNoOmZ1bmN0aW9uKGUsZil7dmFyIGcsaCxpPWQuaXNQYXRoKGUpP2Quc3RyaXBIYXNoKGUpOmU7cmV0dXJuIGg9ZC5zcXVhc2goZSksZz1hLmV4dGVuZCh7aGFzaDppLHVybDpofSxmKSxiLmhpc3RvcnkucmVwbGFjZVN0YXRlKGcsZy50aXRsZXx8Yy50aXRsZSxoKSxnfSxoYXNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGc7cmV0dXJuIGM9ZC5wYXJzZVVybChhKSxlPWQucGFyc2VMb2NhdGlvbigpLGUucGF0aG5hbWUrZS5zZWFyY2g9PT1jLnBhdGhuYW1lK2Muc2VhcmNoP2Y9Yy5oYXNoP2MuaGFzaDpjLnBhdGhuYW1lK2Muc2VhcmNoOmQuaXNQYXRoKGEpPyhnPWQucGFyc2VVcmwoYiksZj1nLnBhdGhuYW1lK2cuc2VhcmNoKyhkLmlzUHJlc2VydmFibGVIYXNoKGcuaGFzaCk/Zy5oYXNoLnJlcGxhY2UoXCIjXCIsXCJcIik6XCJcIikpOmY9YSxmfSxnbzpmdW5jdGlvbihlLGYsZyl7dmFyIGgsaSxqLGssbD1hLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCk7XHJcbmk9ZC5zcXVhc2goZSksaj10aGlzLmhhc2goZSxpKSxnJiZqIT09ZC5zdHJpcEhhc2goZC5wYXJzZUxvY2F0aW9uKCkuaGFzaCkmJih0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT1nKSx0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU9ITAsYi5sb2NhdGlvbi5oYXNoPWosdGhpcy5wcmV2ZW50SGFzaEFzc2lnblBvcFN0YXRlPSExLGg9YS5leHRlbmQoe3VybDppLGhhc2g6aix0aXRsZTpjLnRpdGxlfSxmKSxsJiYoaz1uZXcgYS5FdmVudChcInBvcHN0YXRlXCIpLGsub3JpZ2luYWxFdmVudD17dHlwZTpcInBvcHN0YXRlXCIsc3RhdGU6bnVsbH0sdGhpcy5zcXVhc2goZSxoKSxnfHwodGhpcy5pZ25vcmVQb3BTdGF0ZT0hMCxhLm1vYmlsZS53aW5kb3cudHJpZ2dlcihrKSkpLHRoaXMuaGlzdG9yeS5hZGQoaC51cmwsaCl9LHBvcHN0YXRlOmZ1bmN0aW9uKGIpe3ZhciBjLGY7aWYoYS5ldmVudC5zcGVjaWFsLm5hdmlnYXRlLmlzUHVzaFN0YXRlRW5hYmxlZCgpKXJldHVybiB0aGlzLnByZXZlbnRIYXNoQXNzaWduUG9wU3RhdGU/KHRoaXMucHJldmVudEhhc2hBc3NpZ25Qb3BTdGF0ZT0hMSx2b2lkIGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpOnRoaXMuaWdub3JlUG9wU3RhdGU/dm9pZCh0aGlzLmlnbm9yZVBvcFN0YXRlPSExKTohYi5vcmlnaW5hbEV2ZW50LnN0YXRlJiYxPT09dGhpcy5oaXN0b3J5LnN0YWNrLmxlbmd0aCYmdGhpcy5pZ25vcmVJbml0aWFsSGFzaENoYW5nZSYmKHRoaXMuaWdub3JlSW5pdGlhbEhhc2hDaGFuZ2U9ITEsbG9jYXRpb24uaHJlZj09PWUpP3ZvaWQgYi5wcmV2ZW50RGVmYXVsdCgpOihjPWQucGFyc2VMb2NhdGlvbigpLmhhc2gsIWIub3JpZ2luYWxFdmVudC5zdGF0ZSYmYz8oZj10aGlzLnNxdWFzaChjKSx0aGlzLmhpc3RvcnkuYWRkKGYudXJsLGYpLHZvaWQoYi5oaXN0b3J5U3RhdGU9ZikpOnZvaWQgdGhpcy5oaXN0b3J5LmRpcmVjdCh7dXJsOihiLm9yaWdpbmFsRXZlbnQuc3RhdGV8fHt9KS51cmx8fGMscHJlc2VudDpmdW5jdGlvbihjLGQpe2IuaGlzdG9yeVN0YXRlPWEuZXh0ZW5kKHt9LGMpLGIuaGlzdG9yeVN0YXRlLmRpcmVjdGlvbj1kfX0pKX0saGFzaGNoYW5nZTpmdW5jdGlvbihiKXt2YXIgZSxmO2lmKGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc0hhc2hDaGFuZ2VFbmFibGVkKCkmJiFhLmV2ZW50LnNwZWNpYWwubmF2aWdhdGUuaXNQdXNoU3RhdGVFbmFibGVkKCkpe2lmKHRoaXMucHJldmVudE5leHRIYXNoQ2hhbmdlKXJldHVybiB0aGlzLnByZXZlbnROZXh0SGFzaENoYW5nZT0hMSx2b2lkIGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7ZT10aGlzLmhpc3RvcnksZj1kLnBhcnNlTG9jYXRpb24oKS5oYXNoLHRoaXMuaGlzdG9yeS5kaXJlY3Qoe3VybDpmLHByZXNlbnQ6ZnVuY3Rpb24oYyxkKXtiLmhhc2hjaGFuZ2VTdGF0ZT1hLmV4dGVuZCh7fSxjKSxiLmhhc2hjaGFuZ2VTdGF0ZS5kaXJlY3Rpb249ZH0sbWlzc2luZzpmdW5jdGlvbigpe2UuYWRkKGYse2hhc2g6Zix0aXRsZTpjLnRpdGxlfSl9fSl9fX0pfShhKSxmdW5jdGlvbihhKXthLm1vYmlsZS5uYXZpZ2F0ZT1mdW5jdGlvbihiLGMsZCl7YS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLmdvKGIsYyxkKX0sYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeT1uZXcgYS5tb2JpbGUuSGlzdG9yeSxhLm1vYmlsZS5uYXZpZ2F0ZS5uYXZpZ2F0b3I9bmV3IGEubW9iaWxlLk5hdmlnYXRvcihhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5KTt2YXIgYj1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKTthLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZChiLmhyZWYse2hhc2g6Yi5oYXNofSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9e2FuaW1hdGlvbjp7fSx0cmFuc2l0aW9uOnt9fSxlPWMuY3JlYXRlRWxlbWVudChcImFcIiksZj1bXCJcIixcIndlYmtpdC1cIixcIm1vei1cIixcIm8tXCJdO2EuZWFjaChbXCJhbmltYXRpb25cIixcInRyYW5zaXRpb25cIl0sZnVuY3Rpb24oYyxnKXt2YXIgaD0wPT09Yz9nK1wiLW5hbWVcIjpnO2EuZWFjaChmLGZ1bmN0aW9uKGMsZil7cmV0dXJuIGUuc3R5bGVbYS5jYW1lbENhc2UoZitoKV0hPT1iPyhkW2ddLnByZWZpeD1mLCExKTp2b2lkIDB9KSxkW2ddLmR1cmF0aW9uPWEuY2FtZWxDYXNlKGRbZ10ucHJlZml4K2crXCItZHVyYXRpb25cIiksZFtnXS5ldmVudD1hLmNhbWVsQ2FzZShkW2ddLnByZWZpeCtnK1wiLWVuZFwiKSxcIlwiPT09ZFtnXS5wcmVmaXgmJihkW2ddLmV2ZW50PWRbZ10uZXZlbnQudG9Mb3dlckNhc2UoKSl9KSxhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM9ZC50cmFuc2l0aW9uLnByZWZpeCE9PWIsYS5zdXBwb3J0LmNzc0FuaW1hdGlvbnM9ZC5hbmltYXRpb24ucHJlZml4IT09YixhKGUpLnJlbW92ZSgpLGEuZm4uYW5pbWF0aW9uQ29tcGxldGU9ZnVuY3Rpb24oZSxmLGcpe3ZhciBoLGksaj10aGlzLGs9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoaCksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGw9ZiYmXCJhbmltYXRpb25cIiE9PWY/XCJ0cmFuc2l0aW9uXCI6XCJhbmltYXRpb25cIjtyZXR1cm4gYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zJiZcInRyYW5zaXRpb25cIj09PWx8fGEuc3VwcG9ydC5jc3NBbmltYXRpb25zJiZcImFuaW1hdGlvblwiPT09bD8oZz09PWImJihhKHRoaXMpLmNvbnRleHQhPT1jJiYoaT0zZTMqcGFyc2VGbG9hdChhKHRoaXMpLmNzcyhkW2xdLmR1cmF0aW9uKSkpLCgwPT09aXx8aT09PWJ8fGlzTmFOKGkpKSYmKGk9YS5mbi5hbmltYXRpb25Db21wbGV0ZS5kZWZhdWx0RHVyYXRpb24pKSxoPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthKGopLm9mZihkW2xdLmV2ZW50LGspLGUuYXBwbHkoail9LGkpLGEodGhpcykub25lKGRbbF0uZXZlbnQsaykpOihzZXRUaW1lb3V0KGEucHJveHkoZSx0aGlzKSwwKSxhKHRoaXMpKX0sYS5mbi5hbmltYXRpb25Db21wbGV0ZS5kZWZhdWx0RHVyYXRpb249MWUzfShhKSxmdW5jdGlvbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe2Zvcig7YSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEub3JpZ2luYWxFdmVudDspYT1hLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGF9ZnVuY3Rpb24gZihiLGMpe3ZhciBmLGcsaCxpLGosayxsLG0sbixvPWIudHlwZTtpZihiPWEuRXZlbnQoYiksYi50eXBlPWMsZj1iLm9yaWdpbmFsRXZlbnQsZz1hLmV2ZW50LnByb3BzLG8uc2VhcmNoKC9eKG1vdXNlfGNsaWNrKS8pPi0xJiYoZz1FKSxmKWZvcihsPWcubGVuZ3RoLGk7bDspaT1nWy0tbF0sYltpXT1mW2ldO2lmKG8uc2VhcmNoKC9tb3VzZShkb3dufHVwKXxjbGljay8pPi0xJiYhYi53aGljaCYmKGIud2hpY2g9MSksLTEhPT1vLnNlYXJjaCgvXnRvdWNoLykmJihoPWUoZiksbz1oLnRvdWNoZXMsaj1oLmNoYW5nZWRUb3VjaGVzLGs9byYmby5sZW5ndGg/b1swXTpqJiZqLmxlbmd0aD9qWzBdOmQpKWZvcihtPTAsbj1DLmxlbmd0aDtuPm07bSsrKWk9Q1ttXSxiW2ldPWtbaV07cmV0dXJuIGJ9ZnVuY3Rpb24gZyhiKXtmb3IodmFyIGMsZCxlPXt9O2I7KXtjPWEuZGF0YShiLHopO2ZvcihkIGluIGMpY1tkXSYmKGVbZF09ZS5oYXNWaXJ0dWFsQmluZGluZz0hMCk7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGV9ZnVuY3Rpb24gaChiLGMpe2Zvcih2YXIgZDtiOyl7aWYoZD1hLmRhdGEoYix6KSxkJiYoIWN8fGRbY10pKXJldHVybiBiO2I9Yi5wYXJlbnROb2RlfXJldHVybiBudWxsfWZ1bmN0aW9uIGkoKXtNPSExfWZ1bmN0aW9uIGooKXtNPSEwfWZ1bmN0aW9uIGsoKXtRPTAsSy5sZW5ndGg9MCxMPSExLGooKX1mdW5jdGlvbiBsKCl7aSgpfWZ1bmN0aW9uIG0oKXtuKCksRz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Rz0wLGsoKX0sYS52bW91c2UucmVzZXRUaW1lckR1cmF0aW9uKX1mdW5jdGlvbiBuKCl7RyYmKGNsZWFyVGltZW91dChHKSxHPTApfWZ1bmN0aW9uIG8oYixjLGQpe3ZhciBlO3JldHVybihkJiZkW2JdfHwhZCYmaChjLnRhcmdldCxiKSkmJihlPWYoYyxiKSxhKGMudGFyZ2V0KS50cmlnZ2VyKGUpKSxlfWZ1bmN0aW9uIHAoYil7dmFyIGMsZD1hLmRhdGEoYi50YXJnZXQsQSk7THx8USYmUT09PWR8fChjPW8oXCJ2XCIrYi50eXBlLGIpLGMmJihjLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZiLnByZXZlbnREZWZhdWx0KCksYy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BQcm9wYWdhdGlvbigpLGMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSkpfWZ1bmN0aW9uIHEoYil7dmFyIGMsZCxmLGg9ZShiKS50b3VjaGVzO2gmJjE9PT1oLmxlbmd0aCYmKGM9Yi50YXJnZXQsZD1nKGMpLGQuaGFzVmlydHVhbEJpbmRpbmcmJihRPVArKyxhLmRhdGEoYyxBLFEpLG4oKSxsKCksSj0hMSxmPWUoYikudG91Y2hlc1swXSxIPWYucGFnZVgsST1mLnBhZ2VZLG8oXCJ2bW91c2VvdmVyXCIsYixkKSxvKFwidm1vdXNlZG93blwiLGIsZCkpKX1mdW5jdGlvbiByKGEpe018fChKfHxvKFwidm1vdXNlY2FuY2VsXCIsYSxnKGEudGFyZ2V0KSksSj0hMCxtKCkpfWZ1bmN0aW9uIHMoYil7aWYoIU0pe3ZhciBjPWUoYikudG91Y2hlc1swXSxkPUosZj1hLnZtb3VzZS5tb3ZlRGlzdGFuY2VUaHJlc2hvbGQsaD1nKGIudGFyZ2V0KTtKPUp8fE1hdGguYWJzKGMucGFnZVgtSCk+Znx8TWF0aC5hYnMoYy5wYWdlWS1JKT5mLEomJiFkJiZvKFwidm1vdXNlY2FuY2VsXCIsYixoKSxvKFwidm1vdXNlbW92ZVwiLGIsaCksbSgpfX1mdW5jdGlvbiB0KGEpe2lmKCFNKXtqKCk7dmFyIGIsYyxkPWcoYS50YXJnZXQpO28oXCJ2bW91c2V1cFwiLGEsZCksSnx8KGI9byhcInZjbGlja1wiLGEsZCksYiYmYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKGM9ZShhKS5jaGFuZ2VkVG91Y2hlc1swXSxLLnB1c2goe3RvdWNoSUQ6USx4OmMuY2xpZW50WCx5OmMuY2xpZW50WX0pLEw9ITApKSxvKFwidm1vdXNlb3V0XCIsYSxkKSxKPSExLG0oKX19ZnVuY3Rpb24gdShiKXt2YXIgYyxkPWEuZGF0YShiLHopO2lmKGQpZm9yKGMgaW4gZClpZihkW2NdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHYoKXt9ZnVuY3Rpb24gdyhiKXt2YXIgYz1iLnN1YnN0cigxKTtyZXR1cm57c2V0dXA6ZnVuY3Rpb24oKXt1KHRoaXMpfHxhLmRhdGEodGhpcyx6LHt9KTt2YXIgZD1hLmRhdGEodGhpcyx6KTtkW2JdPSEwLEZbYl09KEZbYl18fDApKzEsMT09PUZbYl0mJk8uYmluZChjLHApLGEodGhpcykuYmluZChjLHYpLE4mJihGLnRvdWNoc3RhcnQ9KEYudG91Y2hzdGFydHx8MCkrMSwxPT09Ri50b3VjaHN0YXJ0JiZPLmJpbmQoXCJ0b3VjaHN0YXJ0XCIscSkuYmluZChcInRvdWNoZW5kXCIsdCkuYmluZChcInRvdWNobW92ZVwiLHMpLmJpbmQoXCJzY3JvbGxcIixyKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7LS1GW2JdLEZbYl18fE8udW5iaW5kKGMscCksTiYmKC0tRi50b3VjaHN0YXJ0LEYudG91Y2hzdGFydHx8Ty51bmJpbmQoXCJ0b3VjaHN0YXJ0XCIscSkudW5iaW5kKFwidG91Y2htb3ZlXCIscykudW5iaW5kKFwidG91Y2hlbmRcIix0KS51bmJpbmQoXCJzY3JvbGxcIixyKSk7dmFyIGQ9YSh0aGlzKSxlPWEuZGF0YSh0aGlzLHopO2UmJihlW2JdPSExKSxkLnVuYmluZChjLHYpLHUodGhpcyl8fGQucmVtb3ZlRGF0YSh6KX19fXZhciB4LHksej1cInZpcnR1YWxNb3VzZUJpbmRpbmdzXCIsQT1cInZpcnR1YWxUb3VjaElEXCIsQj1cInZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsXCIuc3BsaXQoXCIgXCIpLEM9XCJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZXCIuc3BsaXQoXCIgXCIpLEQ9YS5ldmVudC5tb3VzZUhvb2tzP2EuZXZlbnQubW91c2VIb29rcy5wcm9wczpbXSxFPWEuZXZlbnQucHJvcHMuY29uY2F0KEQpLEY9e30sRz0wLEg9MCxJPTAsSj0hMSxLPVtdLEw9ITEsTT0hMSxOPVwiYWRkRXZlbnRMaXN0ZW5lclwiaW4gYyxPPWEoYyksUD0xLFE9MDtmb3IoYS52bW91c2U9e21vdmVEaXN0YW5jZVRocmVzaG9sZDoxMCxjbGlja0Rpc3RhbmNlVGhyZXNob2xkOjEwLHJlc2V0VGltZXJEdXJhdGlvbjoxNTAwfSx5PTA7eTxCLmxlbmd0aDt5KyspYS5ldmVudC5zcGVjaWFsW0JbeV1dPXcoQlt5XSk7TiYmYy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihiKXt2YXIgYyxkLGUsZixnLGgsaT1LLmxlbmd0aCxqPWIudGFyZ2V0O2lmKGkpZm9yKGM9Yi5jbGllbnRYLGQ9Yi5jbGllbnRZLHg9YS52bW91c2UuY2xpY2tEaXN0YW5jZVRocmVzaG9sZCxlPWo7ZTspe2ZvcihmPTA7aT5mO2YrKylpZihnPUtbZl0saD0wLGU9PT1qJiZNYXRoLmFicyhnLngtYyk8eCYmTWF0aC5hYnMoZy55LWQpPHh8fGEuZGF0YShlLEEpPT09Zy50b3VjaElEKXJldHVybiBiLnByZXZlbnREZWZhdWx0KCksdm9pZCBiLnN0b3BQcm9wYWdhdGlvbigpO2U9ZS5wYXJlbnROb2RlfX0sITApfShhLGIsYyksZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGUoYixjLGUsZil7dmFyIGc9ZS50eXBlO2UudHlwZT1jLGY/YS5ldmVudC50cmlnZ2VyKGUsZCxiKTphLmV2ZW50LmRpc3BhdGNoLmNhbGwoYixlKSxlLnR5cGU9Z312YXIgZj1hKGMpLGc9YS5tb2JpbGUuc3VwcG9ydC50b3VjaCxoPVwidG91Y2htb3ZlIHNjcm9sbFwiLGk9Zz9cInRvdWNoc3RhcnRcIjpcIm1vdXNlZG93blwiLGo9Zz9cInRvdWNoZW5kXCI6XCJtb3VzZXVwXCIsaz1nP1widG91Y2htb3ZlXCI6XCJtb3VzZW1vdmVcIjthLmVhY2goXCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGIsYyl7YS5mbltjXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoYyxhKTp0aGlzLnRyaWdnZXIoYyl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bY109ITApfSksYS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0PXtlbmFibGVkOiEwLHNldHVwOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLGIpe2M9YixlKGYsYz9cInNjcm9sbHN0YXJ0XCI6XCJzY3JvbGxzdG9wXCIsYSl9dmFyIGMsZCxmPXRoaXMsZz1hKGYpO2cuYmluZChoLGZ1bmN0aW9uKGUpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkJiYoY3x8YihlLCEwKSxjbGVhclRpbWVvdXQoZCksZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihlLCExKX0sNTApKX0pfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKGgpfX0sYS5ldmVudC5zcGVjaWFsLnRhcD17dGFwaG9sZFRocmVzaG9sZDo3NTAsZW1pdFRhcE9uVGFwaG9sZDohMCxzZXR1cDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1hKGIpLGQ9ITE7Yy5iaW5kKFwidm1vdXNlZG93blwiLGZ1bmN0aW9uKGcpe2Z1bmN0aW9uIGgoKXtjbGVhclRpbWVvdXQoayl9ZnVuY3Rpb24gaSgpe2goKSxjLnVuYmluZChcInZjbGlja1wiLGopLnVuYmluZChcInZtb3VzZXVwXCIsaCksZi51bmJpbmQoXCJ2bW91c2VjYW5jZWxcIixpKX1mdW5jdGlvbiBqKGEpe2koKSxkfHxsIT09YS50YXJnZXQ/ZCYmYS5wcmV2ZW50RGVmYXVsdCgpOmUoYixcInRhcFwiLGEpfWlmKGQ9ITEsZy53aGljaCYmMSE9PWcud2hpY2gpcmV0dXJuITE7dmFyIGssbD1nLnRhcmdldDtjLmJpbmQoXCJ2bW91c2V1cFwiLGgpLmJpbmQoXCJ2Y2xpY2tcIixqKSxmLmJpbmQoXCJ2bW91c2VjYW5jZWxcIixpKSxrPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwudGFwLmVtaXRUYXBPblRhcGhvbGR8fChkPSEwKSxlKGIsXCJ0YXBob2xkXCIsYS5FdmVudChcInRhcGhvbGRcIix7dGFyZ2V0Omx9KSl9LGEuZXZlbnQuc3BlY2lhbC50YXAudGFwaG9sZFRocmVzaG9sZCl9KX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZChcInZtb3VzZWRvd25cIikudW5iaW5kKFwidmNsaWNrXCIpLnVuYmluZChcInZtb3VzZXVwXCIpLGYudW5iaW5kKFwidm1vdXNlY2FuY2VsXCIpfX0sYS5ldmVudC5zcGVjaWFsLnN3aXBlPXtzY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkOjMwLGR1cmF0aW9uVGhyZXNob2xkOjFlMyxob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDozMCxnZXRMb2NhdGlvbjpmdW5jdGlvbihhKXt2YXIgYz1iLnBhZ2VYT2Zmc2V0LGQ9Yi5wYWdlWU9mZnNldCxlPWEuY2xpZW50WCxmPWEuY2xpZW50WTtyZXR1cm4gMD09PWEucGFnZVkmJk1hdGguZmxvb3IoZik+TWF0aC5mbG9vcihhLnBhZ2VZKXx8MD09PWEucGFnZVgmJk1hdGguZmxvb3IoZSk+TWF0aC5mbG9vcihhLnBhZ2VYKT8oZS09YyxmLT1kKTooZjxhLnBhZ2VZLWR8fGU8YS5wYWdlWC1jKSYmKGU9YS5wYWdlWC1jLGY9YS5wYWdlWS1kKSx7eDplLHk6Zn19LHN0YXJ0OmZ1bmN0aW9uKGIpe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmIsZD1hLmV2ZW50LnNwZWNpYWwuc3dpcGUuZ2V0TG9jYXRpb24oYyk7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltkLngsZC55XSxvcmlnaW46YShiLnRhcmdldCl9fSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmIsZD1hLmV2ZW50LnNwZWNpYWwuc3dpcGUuZ2V0TG9jYXRpb24oYyk7cmV0dXJue3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltkLngsZC55XX19LGhhbmRsZVN3aXBlOmZ1bmN0aW9uKGIsYyxkLGYpe2lmKGMudGltZS1iLnRpbWU8YS5ldmVudC5zcGVjaWFsLnN3aXBlLmR1cmF0aW9uVGhyZXNob2xkJiZNYXRoLmFicyhiLmNvb3Jkc1swXS1jLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCYmTWF0aC5hYnMoYi5jb29yZHNbMV0tYy5jb29yZHNbMV0pPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS52ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkKXt2YXIgZz1iLmNvb3Jkc1swXT5jLmNvb3Jkc1swXT9cInN3aXBlbGVmdFwiOlwic3dpcGVyaWdodFwiO3JldHVybiBlKGQsXCJzd2lwZVwiLGEuRXZlbnQoXCJzd2lwZVwiLHt0YXJnZXQ6Zixzd2lwZXN0YXJ0OmIsc3dpcGVzdG9wOmN9KSwhMCksZShkLGcsYS5FdmVudChnLHt0YXJnZXQ6Zixzd2lwZXN0YXJ0OmIsc3dpcGVzdG9wOmN9KSwhMCksITB9cmV0dXJuITF9LGV2ZW50SW5Qcm9ncmVzczohMSxzZXR1cDpmdW5jdGlvbigpe3ZhciBiLGM9dGhpcyxkPWEoYyksZT17fTtiPWEuZGF0YSh0aGlzLFwibW9iaWxlLWV2ZW50c1wiKSxifHwoYj17bGVuZ3RoOjB9LGEuZGF0YSh0aGlzLFwibW9iaWxlLWV2ZW50c1wiLGIpKSxiLmxlbmd0aCsrLGIuc3dpcGU9ZSxlLnN0YXJ0PWZ1bmN0aW9uKGIpe2lmKCFhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzKXthLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzPSEwO3ZhciBkLGc9YS5ldmVudC5zcGVjaWFsLnN3aXBlLnN0YXJ0KGIpLGg9Yi50YXJnZXQsaT0hMTtlLm1vdmU9ZnVuY3Rpb24oYil7ZyYmIWIuaXNEZWZhdWx0UHJldmVudGVkKCkmJihkPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zdG9wKGIpLGl8fChpPWEuZXZlbnQuc3BlY2lhbC5zd2lwZS5oYW5kbGVTd2lwZShnLGQsYyxoKSxpJiYoYS5ldmVudC5zcGVjaWFsLnN3aXBlLmV2ZW50SW5Qcm9ncmVzcz0hMSkpLE1hdGguYWJzKGcuY29vcmRzWzBdLWQuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCYmYi5wcmV2ZW50RGVmYXVsdCgpKX0sZS5zdG9wPWZ1bmN0aW9uKCl7aT0hMCxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZXZlbnRJblByb2dyZXNzPSExLGYub2ZmKGssZS5tb3ZlKSxlLm1vdmU9bnVsbH0sZi5vbihrLGUubW92ZSkub25lKGosZS5zdG9wKX19LGQub24oaSxlLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgYixjO2I9YS5kYXRhKHRoaXMsXCJtb2JpbGUtZXZlbnRzXCIpLGImJihjPWIuc3dpcGUsZGVsZXRlIGIuc3dpcGUsYi5sZW5ndGgtLSwwPT09Yi5sZW5ndGgmJmEucmVtb3ZlRGF0YSh0aGlzLFwibW9iaWxlLWV2ZW50c1wiKSksYyYmKGMuc3RhcnQmJmEodGhpcykub2ZmKGksYy5zdGFydCksYy5tb3ZlJiZmLm9mZihrLGMubW92ZSksYy5zdG9wJiZmLm9mZihqLGMuc3RvcCkpfX0sYS5lYWNoKHtzY3JvbGxzdG9wOlwic2Nyb2xsc3RhcnRcIix0YXBob2xkOlwidGFwXCIsc3dpcGVsZWZ0Olwic3dpcGUubGVmdFwiLHN3aXBlcmlnaHQ6XCJzd2lwZS5yaWdodFwifSxmdW5jdGlvbihiLGMpe2EuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYyxhLm5vb3ApfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKGMpfX19KX0oYSx0aGlzKSxmdW5jdGlvbihhKXthLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZChcInJlc2l6ZVwiLGYpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKFwicmVzaXplXCIsZil9fTt2YXIgYixjLGQsZT0yNTAsZj1mdW5jdGlvbigpe2M9KG5ldyBEYXRlKS5nZXRUaW1lKCksZD1jLWcsZD49ZT8oZz1jLGEodGhpcykudHJpZ2dlcihcInRocm90dGxlZHJlc2l6ZVwiKSk6KGImJmNsZWFyVGltZW91dChiKSxiPXNldFRpbWVvdXQoZixlLWQpKX0sZz0wfShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXt2YXIgYT1lKCk7YSE9PWYmJihmPWEsbC50cmlnZ2VyKG0pKX12YXIgZSxmLGcsaCxpLGosayxsPWEoYiksbT1cIm9yaWVudGF0aW9uY2hhbmdlXCIsbj17MDohMCwxODA6ITB9O2Euc3VwcG9ydC5vcmllbnRhdGlvbiYmKGk9Yi5pbm5lcldpZHRofHxsLndpZHRoKCksaj1iLmlubmVySGVpZ2h0fHxsLmhlaWdodCgpLGs9NTAsZz1pPmomJmktaj5rLGg9bltiLm9yaWVudGF0aW9uXSwoZyYmaHx8IWcmJiFoKSYmKG49e1wiLTkwXCI6ITAsOTA6ITB9KSksYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlPWEuZXh0ZW5kKHt9LGEuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZSx7c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkPyExOihmPWUoKSx2b2lkIGwuYmluZChcInRocm90dGxlZHJlc2l6ZVwiLGQpKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYhYS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLmRpc2FibGVkPyExOnZvaWQgbC51bmJpbmQoXCJ0aHJvdHRsZWRyZXNpemVcIixkKX0sYWRkOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaGFuZGxlcjthLmhhbmRsZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEub3JpZW50YXRpb249ZSgpLGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19KSxhLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb249ZT1mdW5jdGlvbigpe3ZhciBkPSEwLGU9Yy5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGQ9YS5zdXBwb3J0Lm9yaWVudGF0aW9uP25bYi5vcmllbnRhdGlvbl06ZSYmZS5jbGllbnRXaWR0aC9lLmNsaWVudEhlaWdodDwxLjEsZD9cInBvcnRyYWl0XCI6XCJsYW5kc2NhcGVcIn0sYS5mblttXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQobSxhKTp0aGlzLnRyaWdnZXIobSl9LGEuYXR0ckZuJiYoYS5hdHRyRm5bbV09ITApfShhLHRoaXMpLGZ1bmN0aW9uKGEpe3ZhciBiPWEoXCJoZWFkXCIpLmNoaWxkcmVuKFwiYmFzZVwiKSxjPXtlbGVtZW50OmIubGVuZ3RoP2I6YShcIjxiYXNlPlwiLHtocmVmOmEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8oYShcImhlYWRcIikpLGxpbmtTZWxlY3RvcjpcIltzcmNdLCBsaW5rW2hyZWZdLCBhW3JlbD0nZXh0ZXJuYWwnXSwgOmpxbURhdGEoYWpheD0nZmFsc2UnKSwgYVt0YXJnZXRdXCIsc2V0OmZ1bmN0aW9uKGIpe2EubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmYS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnJiZjLmVsZW1lbnQuYXR0cihcImhyZWZcIixhLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShiLGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlKSl9LHJld3JpdGU6ZnVuY3Rpb24oYixkKXt2YXIgZT1hLm1vYmlsZS5wYXRoLmdldChiKTtkLmZpbmQoYy5saW5rU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD1hKGMpLmlzKFwiW2hyZWZdXCIpP1wiaHJlZlwiOmEoYykuaXMoXCJbc3JjXVwiKT9cInNyY1wiOlwiYWN0aW9uXCIsZj1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKSxnPWEoYykuYXR0cihkKTtnPWcucmVwbGFjZShmLnByb3RvY29sK2YuZG91YmxlU2xhc2grZi5ob3N0K2YucGF0aG5hbWUsXCJcIiksL14oXFx3Kzp8I3xcXC8pLy50ZXN0KGcpfHxhKGMpLmF0dHIoZCxlK2cpfSl9LHJlc2V0OmZ1bmN0aW9uKCl7Yy5lbGVtZW50LmF0dHIoXCJocmVmXCIsYS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vU2VhcmNoKX19O2EubW9iaWxlLmJhc2U9Y30oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS53aWRnZXRzPXt9O3ZhciBjPWEud2lkZ2V0LGQ9YS5tb2JpbGUua2VlcE5hdGl2ZTthLndpZGdldD1mdW5jdGlvbihjKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlPWQucHJvdG90eXBlLndpZGdldE5hbWU7cmV0dXJuIGQuaW5pdFNlbGVjdG9yPWQucHJvdG90eXBlLmluaXRTZWxlY3RvciE9PWI/ZC5wcm90b3R5cGUuaW5pdFNlbGVjdG9yOlwiOmpxbURhdGEocm9sZT0nXCIrZStcIicpXCIsYS5tb2JpbGUud2lkZ2V0c1tlXT1kLGR9fShhLndpZGdldCksYS5leHRlbmQoYS53aWRnZXQsYyksYS5tb2JpbGUuZG9jdW1lbnQub24oXCJjcmVhdGVcIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5lbmhhbmNlV2l0aGluKCl9KSxhLndpZGdldChcIm1vYmlsZS5wYWdlXCIse29wdGlvbnM6e3RoZW1lOlwiYVwiLGRvbUNhY2hlOiExLGtlZXBOYXRpdmVEZWZhdWx0OmEubW9iaWxlLmtlZXBOYXRpdmUsY29udGVudFRoZW1lOm51bGwsZW5oYW5jZWQ6ITF9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oKXthLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdHJpZ2dlcihcImluaXRcIil9LF9jcmVhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJpZ2dlcihcImJlZm9yZWNyZWF0ZVwiKT09PSExPyExOih0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2UoKSx0aGlzLl9vbih0aGlzLmVsZW1lbnQse3BhZ2ViZWZvcmVoaWRlOlwicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZFwiLHBhZ2ViZWZvcmVzaG93OlwiX2hhbmRsZVBhZ2VCZWZvcmVTaG93XCJ9KSx0aGlzLmVsZW1lbnQuZW5oYW5jZVdpdGhpbigpLHZvaWQoXCJkaWFsb2dcIj09PWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLmVsZW1lbnRbMF0sXCJyb2xlXCIpJiZhLm1vYmlsZS5kaWFsb2cmJnRoaXMuZWxlbWVudC5kaWFsb2coKSkpfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBjPVwiZGF0YS1cIithLm1vYmlsZS5ucyxkPXRoaXM7dGhpcy5vcHRpb25zLnJvbGUmJnRoaXMuZWxlbWVudC5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInJvbGVcIix0aGlzLm9wdGlvbnMucm9sZSksdGhpcy5lbGVtZW50LmF0dHIoXCJ0YWJpbmRleFwiLFwiMFwiKS5hZGRDbGFzcyhcInVpLXBhZ2UgdWktcGFnZS10aGVtZS1cIit0aGlzLm9wdGlvbnMudGhlbWUpLHRoaXMuZWxlbWVudC5maW5kKFwiW1wiK2MrXCJyb2xlPSdjb250ZW50J11cIikuZWFjaChmdW5jdGlvbigpe3ZhciBlPWEodGhpcyksZj10aGlzLmdldEF0dHJpYnV0ZShjK1widGhlbWVcIil8fGI7ZC5vcHRpb25zLmNvbnRlbnRUaGVtZT1mfHxkLm9wdGlvbnMuY29udGVudFRoZW1lfHxkLm9wdGlvbnMuZGlhbG9nJiZkLm9wdGlvbnMudGhlbWV8fFwiZGlhbG9nXCI9PT1kLmVsZW1lbnQuanFtRGF0YShcInJvbGVcIikmJmQub3B0aW9ucy50aGVtZSxlLmFkZENsYXNzKFwidWktY29udGVudFwiKSxkLm9wdGlvbnMuY29udGVudFRoZW1lJiZlLmFkZENsYXNzKFwidWktYm9keS1cIitkLm9wdGlvbnMuY29udGVudFRoZW1lKSxlLmF0dHIoXCJyb2xlXCIsXCJtYWluXCIpLmFkZENsYXNzKFwidWktY29udGVudFwiKX0pfSxiaW5kUmVtb3ZlOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZWxlbWVudDshYy5kYXRhKFwibW9iaWxlLXBhZ2VcIikub3B0aW9ucy5kb21DYWNoZSYmYy5pcyhcIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKVwiKSYmYy5iaW5kKFwicGFnZWhpZGUucmVtb3ZlXCIsYnx8ZnVuY3Rpb24oYixjKXtpZighYy5zYW1lUGFnZSl7dmFyIGQ9YSh0aGlzKSxlPW5ldyBhLkV2ZW50KFwicGFnZXJlbW92ZVwiKTtkLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8ZC5yZW1vdmVXaXRoRGVwZW5kZW50cygpfX0pfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXtjLnRoZW1lIT09YiYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktcGFnZS10aGVtZS1cIit0aGlzLm9wdGlvbnMudGhlbWUpLmFkZENsYXNzKFwidWktcGFnZS10aGVtZS1cIitjLnRoZW1lKSxjLmNvbnRlbnRUaGVtZSE9PWImJnRoaXMuZWxlbWVudC5maW5kKFwiW2RhdGEtXCIrYS5tb2JpbGUubnMrXCI9J2NvbnRlbnQnXVwiKS5yZW1vdmVDbGFzcyhcInVpLWJvZHktXCIrdGhpcy5vcHRpb25zLmNvbnRlbnRUaGVtZSkuYWRkQ2xhc3MoXCJ1aS1ib2R5LVwiK2MuY29udGVudFRoZW1lKX0sX2hhbmRsZVBhZ2VCZWZvcmVTaG93OmZ1bmN0aW9uKCl7dGhpcy5zZXRDb250YWluZXJCYWNrZ3JvdW5kKCl9LHJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQ6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2xvc2VzdChcIjptb2JpbGUtcGFnZWNvbnRhaW5lclwiKS5wYWdlY29udGFpbmVyKHt0aGVtZTpcIm5vbmVcIn0pfSxzZXRDb250YWluZXJCYWNrZ3JvdW5kOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC5wYXJlbnQoKS5wYWdlY29udGFpbmVyKHt0aGVtZTphfHx0aGlzLm9wdGlvbnMudGhlbWV9KX0sa2VlcE5hdGl2ZVNlbGVjdG9yOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9YS50cmltKGIua2VlcE5hdGl2ZXx8XCJcIiksZT1hLnRyaW0oYS5tb2JpbGUua2VlcE5hdGl2ZSksZj1hLnRyaW0oYi5rZWVwTmF0aXZlRGVmYXVsdCksZz1kPT09ZT9cIlwiOmUsaD1cIlwiPT09Zz9mOlwiXCI7cmV0dXJuKGM/W2NdOltdKS5jb25jYXQoZz9bZ106W10pLmNvbmNhdChoP1toXTpbXSkuam9pbihcIiwgXCIpfX0pfShhKSxmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KFwibW9iaWxlLnBhZ2Vjb250YWluZXJcIix7b3B0aW9uczp7dGhlbWU6XCJhXCJ9LGluaXRTZWxlY3RvcjohMSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlcihcImJlZm9yZWNyZWF0ZVwiKSx0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSEwLHRoaXMuX29uKHRoaXMud2luZG93LHtuYXZpZ2F0ZTpcIl9kaXNhYmxlUmVjb3JkU2Nyb2xsXCIsc2Nyb2xsc3RvcDpcIl9kZWxheWVkUmVjb3JkU2Nyb2xsXCJ9KSx0aGlzLl9vbih0aGlzLndpbmRvdyx7bmF2aWdhdGU6XCJfZmlsdGVyTmF2aWdhdGVFdmVudHNcIn0pLHRoaXMuX29uKHtwYWdlY2hhbmdlOlwiX2FmdGVyQ29udGVudENoYW5nZVwifSksdGhpcy53aW5kb3cub25lKFwibmF2aWdhdGVcIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMH0sdGhpcykpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXthLnRoZW1lIT09ZCYmXCJub25lXCIhPT1hLnRoZW1lP3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLW92ZXJsYXktXCIrdGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcyhcInVpLW92ZXJsYXktXCIrYS50aGVtZSk6YS50aGVtZSE9PWQmJnRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLW92ZXJsYXktXCIrdGhpcy5vcHRpb25zLnRoZW1lKSx0aGlzLl9zdXBlcihhKX0sX2Rpc2FibGVSZWNvcmRTY3JvbGw6ZnVuY3Rpb24oKXt0aGlzLnNldExhc3RTY3JvbGxFbmFibGVkPSExfSxfZW5hYmxlUmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7dGhpcy5zZXRMYXN0U2Nyb2xsRW5hYmxlZD0hMH0sX2FmdGVyQ29udGVudENoYW5nZTpmdW5jdGlvbigpe3RoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQ9ITAsdGhpcy5fb2ZmKHRoaXMud2luZG93LFwic2Nyb2xsc3RvcFwiKSx0aGlzLl9vbih0aGlzLndpbmRvdyx7c2Nyb2xsc3RvcDpcIl9kZWxheWVkUmVjb3JkU2Nyb2xsXCJ9KX0sX3JlY29yZFNjcm9sbDpmdW5jdGlvbigpe2lmKHRoaXMuc2V0TGFzdFNjcm9sbEVuYWJsZWQpe3ZhciBhLGIsYyxkPXRoaXMuX2dldEFjdGl2ZUhpc3RvcnkoKTtkJiYoYT10aGlzLl9nZXRTY3JvbGwoKSxiPXRoaXMuX2dldE1pblNjcm9sbCgpLGM9dGhpcy5fZ2V0RGVmYXVsdFNjcm9sbCgpLGQubGFzdFNjcm9sbD1iPmE/YzphKX19LF9kZWxheWVkUmVjb3JkU2Nyb2xsOmZ1bmN0aW9uKCl7c2V0VGltZW91dChhLnByb3h5KHRoaXMsXCJfcmVjb3JkU2Nyb2xsXCIpLDEwMCl9LF9nZXRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCl9LF9nZXRNaW5TY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubWluU2Nyb2xsQmFja30sX2dldERlZmF1bHRTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGx9LF9maWx0ZXJOYXZpZ2F0ZUV2ZW50czpmdW5jdGlvbihiLGMpe3ZhciBkO2Iub3JpZ2luYWxFdmVudCYmYi5vcmlnaW5hbEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZD1iLm9yaWdpbmFsRXZlbnQudHlwZS5pbmRleE9mKFwiaGFzaGNoYW5nZVwiKT4tMT9jLnN0YXRlLmhhc2g6Yy5zdGF0ZS51cmwsZHx8KGQ9dGhpcy5fZ2V0SGFzaCgpKSxkJiZcIiNcIiE9PWQmJjAhPT1kLmluZGV4T2YoXCIjXCIrYS5tb2JpbGUucGF0aC51aVN0YXRlS2V5KXx8KGQ9bG9jYXRpb24uaHJlZiksdGhpcy5faGFuZGxlTmF2aWdhdGUoZCxjLnN0YXRlKSl9LF9nZXRIYXNoOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBhdGgucGFyc2VMb2NhdGlvbigpLmhhc2h9LGdldEFjdGl2ZVBhZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmVQYWdlfSxfZ2V0SW5pdGlhbENvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZmlyc3RQYWdlfSxfZ2V0SGlzdG9yeTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5fSxfZ2V0QWN0aXZlSGlzdG9yeTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRIaXN0b3J5KCkuZ2V0QWN0aXZlKCl9LF9nZXREb2N1bWVudEJhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2V9LGJhY2s6ZnVuY3Rpb24oKXt0aGlzLmdvKC0xKX0sZm9yd2FyZDpmdW5jdGlvbigpe3RoaXMuZ28oMSl9LGdvOmZ1bmN0aW9uKGMpe2lmKGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkKWIuaGlzdG9yeS5nbyhjKTtlbHNle3ZhciBkPWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXgsZT1kK3BhcnNlSW50KGMsMTApLGY9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5zdGFja1tlXS51cmwsZz1jPj0xP1wiZm9yd2FyZFwiOlwiYmFja1wiO2EubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXg9ZSxhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LnByZXZpb3VzSW5kZXg9ZCx0aGlzLmNoYW5nZShmLHtkaXJlY3Rpb246ZyxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSl9fSxfaGFuZGxlRGVzdGluYXRpb246ZnVuY3Rpb24oYil7dmFyIGM7cmV0dXJuXCJzdHJpbmdcIj09PWEudHlwZShiKSYmKGI9YS5tb2JpbGUucGF0aC5zdHJpcEhhc2goYikpLGImJihjPXRoaXMuX2dldEhpc3RvcnkoKSxiPWEubW9iaWxlLnBhdGguaXNQYXRoKGIpP2I6YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoXCIjXCIrYix0aGlzLl9nZXREb2N1bWVudEJhc2UoKSkpLGJ8fHRoaXMuX2dldEluaXRpYWxDb250ZW50KCl9LF90cmFuc2l0aW9uRnJvbUhpc3Rvcnk6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9nZXRIaXN0b3J5KCksZD1cImJhY2tcIj09PWE/Yy5nZXRMYXN0KCk6Yy5nZXRBY3RpdmUoKTtyZXR1cm4gZCYmZC50cmFuc2l0aW9ufHxifSxfaGFuZGxlRGlhbG9nOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmPXRoaXMuZ2V0QWN0aXZlUGFnZSgpO3JldHVybiBmJiYhZi5kYXRhKFwibW9iaWxlLWRpYWxvZ1wiKT8oXCJiYWNrXCI9PT1jLmRpcmVjdGlvbj90aGlzLmJhY2soKTp0aGlzLmZvcndhcmQoKSwhMSk6KGQ9Yy5wYWdlVXJsLGU9dGhpcy5fZ2V0QWN0aXZlSGlzdG9yeSgpLGEuZXh0ZW5kKGIse3JvbGU6ZS5yb2xlLHRyYW5zaXRpb246dGhpcy5fdHJhbnNpdGlvbkZyb21IaXN0b3J5KGMuZGlyZWN0aW9uLGIudHJhbnNpdGlvbikscmV2ZXJzZTpcImJhY2tcIj09PWMuZGlyZWN0aW9ufSksZCl9LF9oYW5kbGVOYXZpZ2F0ZTpmdW5jdGlvbihiLGMpe3ZhciBkPWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGIpLGU9dGhpcy5fZ2V0SGlzdG9yeSgpLGY9MD09PWUuc3RhY2subGVuZ3RoP1wibm9uZVwiOnRoaXMuX3RyYW5zaXRpb25Gcm9tSGlzdG9yeShjLmRpcmVjdGlvbiksZz17Y2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMCxyZXZlcnNlOlwiYmFja1wiPT09Yy5kaXJlY3Rpb259O2EuZXh0ZW5kKGcsYyx7dHJhbnNpdGlvbjpmfSksZS5hY3RpdmVJbmRleD4wJiZkLmluZGV4T2YoYS5tb2JpbGUuZGlhbG9nSGFzaEtleSk+LTEmJihkPXRoaXMuX2hhbmRsZURpYWxvZyhnLGMpLGQ9PT0hMSl8fHRoaXMuX2NoYW5nZUNvbnRlbnQodGhpcy5faGFuZGxlRGVzdGluYXRpb24oZCksZyl9LF9jaGFuZ2VDb250ZW50OmZ1bmN0aW9uKGIsYyl7YS5tb2JpbGUuY2hhbmdlUGFnZShiLGMpfSxfZ2V0QmFzZTpmdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5iYXNlfSxfZ2V0TnM6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubnN9LF9lbmhhbmNlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEucGFnZSh7cm9sZTpifSl9LF9pbmNsdWRlOmZ1bmN0aW9uKGEsYil7YS5hcHBlbmRUbyh0aGlzLmVsZW1lbnQpLHRoaXMuX2VuaGFuY2UoYSxiLnJvbGUpLGEucGFnZShcImJpbmRSZW1vdmVcIil9LF9maW5kOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcy5fY3JlYXRlRmlsZVVybChiKSxlPXRoaXMuX2NyZWF0ZURhdGFVcmwoYiksZj10aGlzLl9nZXRJbml0aWFsQ29udGVudCgpO3JldHVybiBjPXRoaXMuZWxlbWVudC5jaGlsZHJlbihcIltkYXRhLVwiK3RoaXMuX2dldE5zKCkrXCJ1cmw9J1wiK2EubW9iaWxlLnBhdGguaGFzaFRvU2VsZWN0b3IoZSkrXCInXVwiKSwwPT09Yy5sZW5ndGgmJmUmJiFhLm1vYmlsZS5wYXRoLmlzUGF0aChlKSYmKGM9dGhpcy5lbGVtZW50LmNoaWxkcmVuKGEubW9iaWxlLnBhdGguaGFzaFRvU2VsZWN0b3IoXCIjXCIrZSkpLmF0dHIoXCJkYXRhLVwiK3RoaXMuX2dldE5zKCkrXCJ1cmxcIixlKS5qcW1EYXRhKFwidXJsXCIsZSkpLDA9PT1jLmxlbmd0aCYmYS5tb2JpbGUucGF0aC5pc0ZpcnN0UGFnZVVybChkKSYmZiYmZi5wYXJlbnQoKS5sZW5ndGgmJihjPWEoZikpLGN9LF9nZXRMb2FkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUubG9hZGluZygpfSxfc2hvd0xvYWRpbmc6ZnVuY3Rpb24oYixjLGQsZSl7dGhpcy5fbG9hZE1zZ3x8KHRoaXMuX2xvYWRNc2c9c2V0VGltZW91dChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fZ2V0TG9hZGVyKCkubG9hZGVyKFwic2hvd1wiLGMsZCxlKSx0aGlzLl9sb2FkTXNnPTB9LHRoaXMpLGIpKX0sX2hpZGVMb2FkaW5nOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRNc2cpLHRoaXMuX2xvYWRNc2c9MCx0aGlzLl9nZXRMb2FkZXIoKS5sb2FkZXIoXCJoaWRlXCIpfSxfc2hvd0Vycm9yOmZ1bmN0aW9uKCl7dGhpcy5faGlkZUxvYWRpbmcoKSx0aGlzLl9zaG93TG9hZGluZygwLGEubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlVGhlbWUsYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2UsITApLHNldFRpbWVvdXQoYS5wcm94eSh0aGlzLFwiX2hpZGVMb2FkaW5nXCIpLDE1MDApfSxfcGFyc2U6ZnVuY3Rpb24oYixjKXt2YXIgZCxlPWEoXCI8ZGl2PjwvZGl2PlwiKTtyZXR1cm4gZS5nZXQoMCkuaW5uZXJIVE1MPWIsZD1lLmZpbmQoXCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpXCIpLmZpcnN0KCksZC5sZW5ndGh8fChkPWEoXCI8ZGl2IGRhdGEtXCIrdGhpcy5fZ2V0TnMoKStcInJvbGU9J3BhZ2UnPlwiKyhiLnNwbGl0KC88XFwvP2JvZHlbXj5dKj4vZ2ltKVsxXXx8XCJcIikrXCI8L2Rpdj5cIikpLGQuYXR0cihcImRhdGEtXCIrdGhpcy5fZ2V0TnMoKStcInVybFwiLHRoaXMuX2NyZWF0ZURhdGFVcmwoYykpLmF0dHIoXCJkYXRhLVwiK3RoaXMuX2dldE5zKCkrXCJleHRlcm5hbC1wYWdlXCIsITApLGR9LF9zZXRMb2FkZWRUaXRsZTpmdW5jdGlvbihiLGMpe3ZhciBkPWMubWF0Y2goLzx0aXRsZVtePl0qPihbXjxdKikvKSYmUmVnRXhwLiQxO2QmJiFiLmpxbURhdGEoXCJ0aXRsZVwiKSYmKGQ9YShcIjxkaXY+XCIrZCtcIjwvZGl2PlwiKS50ZXh0KCksYi5qcW1EYXRhKFwidGl0bGVcIixkKSl9LF9pc1Jld3JpdGFibGVCYXNlVGFnOmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLmR5bmFtaWNCYXNlRW5hYmxlZCYmIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZ30sX2NyZWF0ZURhdGFVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguY29udmVydFVybFRvRGF0YVVybChiKX0sX2NyZWF0ZUZpbGVVcmw6ZnVuY3Rpb24oYil7cmV0dXJuIGEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoYil9LF90cmlnZ2VyV2l0aERlcHJlY2F0ZWQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuRXZlbnQoXCJwYWdlXCIrYiksZj1hLkV2ZW50KHRoaXMud2lkZ2V0TmFtZStiKTtyZXR1cm4oZHx8dGhpcy5lbGVtZW50KS50cmlnZ2VyKGUsYyksdGhpcy5fdHJpZ2dlcihiLGYsYykse2RlcHJlY2F0ZWRFdmVudDplLGV2ZW50OmZ9fSxfbG9hZFN1Y2Nlc3M6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGc9dGhpcy5fY3JlYXRlRmlsZVVybChiKTtyZXR1cm4gYS5wcm94eShmdW5jdGlvbihoLGksail7dmFyIGssbD1uZXcgUmVnRXhwKFwiKDxbXj5dK1xcXFxiZGF0YS1cIit0aGlzLl9nZXROcygpK1wicm9sZT1bXFxcIiddP3BhZ2VbXFxcIiddP1tePl0qPilcIiksbT1uZXcgUmVnRXhwKFwiXFxcXGJkYXRhLVwiK3RoaXMuX2dldE5zKCkrXCJ1cmw9W1xcXCInXT8oW15cXFwiJz5dKilbXFxcIiddP1wiKTtsLnRlc3QoaCkmJlJlZ0V4cC4kMSYmbS50ZXN0KFJlZ0V4cC4kMSkmJlJlZ0V4cC4kMSYmKGc9YS5tb2JpbGUucGF0aC5nZXRGaWxlUGF0aChhKFwiPGRpdj5cIitSZWdFeHAuJDErXCI8L2Rpdj5cIikudGV4dCgpKSxnPXRoaXMud2luZG93WzBdLmVuY29kZVVSSUNvbXBvbmVudChnKSksZS5wcmVmZXRjaD09PWQmJnRoaXMuX2dldEJhc2UoKS5zZXQoZyksaz10aGlzLl9wYXJzZShoLGcpLHRoaXMuX3NldExvYWRlZFRpdGxlKGssaCksYy54aHI9aixjLnRleHRTdGF0dXM9aSxjLnBhZ2U9ayxjLmNvbnRlbnQ9ayxjLnRvUGFnZT1rLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChcImxvYWRcIixjKS5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHRoaXMuX2lzUmV3cml0YWJsZUJhc2VUYWcoKSYmayYmdGhpcy5fZ2V0QmFzZSgpLnJld3JpdGUoZyxrKSx0aGlzLl9pbmNsdWRlKGssZSksZS5zaG93TG9hZE1zZyYmdGhpcy5faGlkZUxvYWRpbmcoKSxmLnJlc29sdmUoYixlLGspKX0sdGhpcyl9LF9sb2FkRGVmYXVsdHM6e3R5cGU6XCJnZXRcIixkYXRhOmQscmVsb2FkUGFnZTohMSxyZWxvYWQ6ITEscm9sZTpkLHNob3dMb2FkTXNnOiExLGxvYWRNc2dEZWxheTo1MH0sbG9hZDpmdW5jdGlvbihiLGMpe3ZhciBlLGYsZyxoLGk9YyYmYy5kZWZlcnJlZHx8YS5EZWZlcnJlZCgpLGo9YyYmYy5yZWxvYWQ9PT1kJiZjLnJlbG9hZFBhZ2UhPT1kP3tyZWxvYWQ6Yy5yZWxvYWRQYWdlfTp7fSxrPWEuZXh0ZW5kKHt9LHRoaXMuX2xvYWREZWZhdWx0cyxjLGopLGw9bnVsbCxtPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGIsdGhpcy5fZmluZEJhc2VXaXRoRGVmYXVsdCgpKTtyZXR1cm4gay5kYXRhJiZcImdldFwiPT09ay50eXBlJiYobT1hLm1vYmlsZS5wYXRoLmFkZFNlYXJjaFBhcmFtcyhtLGsuZGF0YSksay5kYXRhPWQpLGsuZGF0YSYmXCJwb3N0XCI9PT1rLnR5cGUmJihrLnJlbG9hZD0hMCksZT10aGlzLl9jcmVhdGVGaWxlVXJsKG0pLGY9dGhpcy5fY3JlYXRlRGF0YVVybChtKSxsPXRoaXMuX2ZpbmQobSksMD09PWwubGVuZ3RoJiZhLm1vYmlsZS5wYXRoLmlzRW1iZWRkZWRQYWdlKGUpJiYhYS5tb2JpbGUucGF0aC5pc0ZpcnN0UGFnZVVybChlKT8oaS5yZWplY3QobSxrKSxpLnByb21pc2UoKSk6KHRoaXMuX2dldEJhc2UoKS5yZXNldCgpLGwubGVuZ3RoJiYhay5yZWxvYWQ/KHRoaXMuX2VuaGFuY2UobCxrLnJvbGUpLGkucmVzb2x2ZShtLGssbCksay5wcmVmZXRjaHx8dGhpcy5fZ2V0QmFzZSgpLnNldChiKSxpLnByb21pc2UoKSk6KGg9e3VybDpiLGFic1VybDptLHRvUGFnZTpiLHByZXZQYWdlOmM/Yy5mcm9tUGFnZTpkLGRhdGFVcmw6ZixkZWZlcnJlZDppLG9wdGlvbnM6a30sZz10aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoXCJiZWZvcmVsb2FkXCIsaCksZy5kZXByZWNhdGVkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGcuZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCk/aS5wcm9taXNlKCk6KGsuc2hvd0xvYWRNc2cmJnRoaXMuX3Nob3dMb2FkaW5nKGsubG9hZE1zZ0RlbGF5KSxrLnByZWZldGNoPT09ZCYmdGhpcy5fZ2V0QmFzZSgpLnJlc2V0KCksYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzfHxhLm1vYmlsZS5wYXRoLmlzU2FtZURvbWFpbihhLm1vYmlsZS5wYXRoLmRvY3VtZW50VXJsLG0pPyhhLmFqYXgoe3VybDplLHR5cGU6ay50eXBlLGRhdGE6ay5kYXRhLGNvbnRlbnRUeXBlOmsuY29udGVudFR5cGUsZGF0YVR5cGU6XCJodG1sXCIsc3VjY2Vzczp0aGlzLl9sb2FkU3VjY2VzcyhtLGgsayxpKSxlcnJvcjp0aGlzLl9sb2FkRXJyb3IobSxoLGssaSl9KSxpLnByb21pc2UoKSk6KGkucmVqZWN0KG0sayksaS5wcm9taXNlKCkpKSkpfSxfbG9hZEVycm9yOmZ1bmN0aW9uKGIsYyxkLGUpe3JldHVybiBhLnByb3h5KGZ1bmN0aW9uKGYsZyxoKXt0aGlzLl9nZXRCYXNlKCkuc2V0KGEubW9iaWxlLnBhdGguZ2V0KCkpLGMueGhyPWYsYy50ZXh0U3RhdHVzPWcsYy5lcnJvclRocm93bj1oO3ZhciBpPXRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChcImxvYWRmYWlsZWRcIixjKTtpLmRlcHJlY2F0ZWRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8aS5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGQuc2hvd0xvYWRNc2cmJnRoaXMuX3Nob3dFcnJvcigpLGUucmVqZWN0KGIsZCkpfSx0aGlzKX0sX2dldFRyYW5zaXRpb25IYW5kbGVyOmZ1bmN0aW9uKGIpe3JldHVybiBiPWEubW9iaWxlLl9tYXliZURlZ3JhZGVUcmFuc2l0aW9uKGIpLGEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1tiXXx8YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyfSxfdHJpZ2dlckNzc1RyYW5zaXRpb25FdmVudHM6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPSExO2Q9ZHx8XCJcIixjJiYoYlswXT09PWNbMF0mJihlPSEwKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoZCtcImhpZGVcIix7bmV4dFBhZ2U6Yix0b1BhZ2U6YixwcmV2UGFnZTpjLHNhbWVQYWdlOmV9LGMpKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoZCtcInNob3dcIix7cHJldlBhZ2U6Y3x8YShcIlwiKSx0b1BhZ2U6Yn0sYil9LF9jc3NUcmFuc2l0aW9uOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZSxmLGc9ZC50cmFuc2l0aW9uLGg9ZC5yZXZlcnNlLGk9ZC5kZWZlcnJlZDt0aGlzLl90cmlnZ2VyQ3NzVHJhbnNpdGlvbkV2ZW50cyhiLGMsXCJiZWZvcmVcIiksdGhpcy5faGlkZUxvYWRpbmcoKSxlPXRoaXMuX2dldFRyYW5zaXRpb25IYW5kbGVyKGcpLGY9bmV3IGUoZyxoLGIsYykudHJhbnNpdGlvbigpLGYuZG9uZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlckNzc1RyYW5zaXRpb25FdmVudHMoYixjKX0sdGhpcykpLGYuZG9uZShmdW5jdGlvbigpe2kucmVzb2x2ZS5hcHBseShpLGFyZ3VtZW50cyl9KX0sX3JlbGVhc2VUcmFuc2l0aW9uTG9jazpmdW5jdGlvbigpe2Y9ITEsZS5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLGUucG9wKCkpfSxfcmVtb3ZlQWN0aXZlTGlua0NsYXNzOmZ1bmN0aW9uKGIpe2EubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyhiKX0sX2xvYWRVcmw6ZnVuY3Rpb24oYixjLGQpe2QudGFyZ2V0PWIsZC5kZWZlcnJlZD1hLkRlZmVycmVkKCksdGhpcy5sb2FkKGIsZCksZC5kZWZlcnJlZC5kb25lKGEucHJveHkoZnVuY3Rpb24oYSxiLGQpe2Y9ITEsYi5hYnNVcmw9Yy5hYnNVcmwsdGhpcy50cmFuc2l0aW9uKGQsYyxiKX0sdGhpcykpLGQuZGVmZXJyZWQuZmFpbChhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQWN0aXZlTGlua0NsYXNzKCEwKSx0aGlzLl9yZWxlYXNlVHJhbnNpdGlvbkxvY2soKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoXCJjaGFuZ2VmYWlsZWRcIixjKX0sdGhpcykpfSxfdHJpZ2dlclBhZ2VCZWZvcmVDaGFuZ2U6ZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVybiBjLnByZXZQYWdlPXRoaXMuYWN0aXZlUGFnZSxhLmV4dGVuZChjLHt0b1BhZ2U6YixvcHRpb25zOmR9KSxjLmFic1VybD1cInN0cmluZ1wiPT09YS50eXBlKGIpP2EubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGIsdGhpcy5fZmluZEJhc2VXaXRoRGVmYXVsdCgpKTpkLmFic1VybCxlPXRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChcImJlZm9yZWNoYW5nZVwiLGMpLGUuZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGUuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpPyExOiEwfSxjaGFuZ2U6ZnVuY3Rpb24oYixjKXtpZihmKXJldHVybiB2b2lkIGUudW5zaGlmdChhcmd1bWVudHMpO3ZhciBkPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMsYyksZz17fTtkLmZyb21QYWdlPWQuZnJvbVBhZ2V8fHRoaXMuYWN0aXZlUGFnZSx0aGlzLl90cmlnZ2VyUGFnZUJlZm9yZUNoYW5nZShiLGcsZCkmJihiPWcudG9QYWdlLFwic3RyaW5nXCI9PT1hLnR5cGUoYik/KGY9ITAsdGhpcy5fbG9hZFVybChiLGcsZCkpOnRoaXMudHJhbnNpdGlvbihiLGcsZCkpfSx0cmFuc2l0aW9uOmZ1bmN0aW9uKGIsZyxoKXt2YXIgaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2O2lmKGYpcmV0dXJuIHZvaWQgZS51bnNoaWZ0KFtiLGhdKTtpZih0aGlzLl90cmlnZ2VyUGFnZUJlZm9yZUNoYW5nZShiLGcsaCkmJihnLnByZXZQYWdlPWguZnJvbVBhZ2Usdj10aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoXCJiZWZvcmV0cmFuc2l0aW9uXCIsZyksIXYuZGVwcmVjYXRlZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpJiYhdi5ldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkpe2lmKGY9ITAsYlswXSE9PWEubW9iaWxlLmZpcnN0UGFnZVswXXx8aC5kYXRhVXJsfHwoaC5kYXRhVXJsPWEubW9iaWxlLnBhdGguZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCksaT1oLmZyb21QYWdlLGo9aC5kYXRhVXJsJiZhLm1vYmlsZS5wYXRoLmNvbnZlcnRVcmxUb0RhdGFVcmwoaC5kYXRhVXJsKXx8Yi5qcW1EYXRhKFwidXJsXCIpLGs9aixsPWEubW9iaWxlLnBhdGguZ2V0RmlsZVBhdGgoaiksbT1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpLG49MD09PWEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXgsbz0wLHA9Yy50aXRsZSxxPShcImRpYWxvZ1wiPT09aC5yb2xlfHxcImRpYWxvZ1wiPT09Yi5qcW1EYXRhKFwicm9sZVwiKSkmJmIuanFtRGF0YShcImRpYWxvZ1wiKSE9PSEwLGkmJmlbMF09PT1iWzBdJiYhaC5hbGxvd1NhbWVQYWdlVHJhbnNpdGlvbilyZXR1cm4gZj0hMSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoXCJ0cmFuc2l0aW9uXCIsZyksdGhpcy5fdHJpZ2dlcldpdGhEZXByZWNhdGVkKFwiY2hhbmdlXCIsZyksdm9pZChoLmZyb21IYXNoQ2hhbmdlJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmRpcmVjdCh7dXJsOmp9KSk7Yi5wYWdlKHtyb2xlOmgucm9sZX0pLGguZnJvbUhhc2hDaGFuZ2UmJihvPVwiYmFja1wiPT09aC5kaXJlY3Rpb24/LTE6MSk7dHJ5e2MuYWN0aXZlRWxlbWVudCYmXCJib2R5XCIhPT1jLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKT9hKGMuYWN0aXZlRWxlbWVudCkuYmx1cigpOmEoXCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1c1wiKS5ibHVyKCl9Y2F0Y2godyl7fXI9ITEscSYmbSYmKG0udXJsJiZtLnVybC5pbmRleE9mKGEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpPi0xJiZ0aGlzLmFjdGl2ZVBhZ2UmJiF0aGlzLmFjdGl2ZVBhZ2UuaGFzQ2xhc3MoXCJ1aS1kaWFsb2dcIikmJmEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuYWN0aXZlSW5kZXg+MCYmKGguY2hhbmdlSGFzaD0hMSxyPSEwKSxqPW0udXJsfHxcIlwiLGorPSFyJiZqLmluZGV4T2YoXCIjXCIpPi0xP2EubW9iaWxlLmRpYWxvZ0hhc2hLZXk6XCIjXCIrYS5tb2JpbGUuZGlhbG9nSGFzaEtleSkscz1tP2IuanFtRGF0YShcInRpdGxlXCIpfHxiLmNoaWxkcmVuKFwiOmpxbURhdGEocm9sZT0naGVhZGVyJylcIikuZmluZChcIi51aS10aXRsZVwiKS50ZXh0KCk6cCxzJiZwPT09Yy50aXRsZSYmKHA9cyksYi5qcW1EYXRhKFwidGl0bGVcIil8fGIuanFtRGF0YShcInRpdGxlXCIscCksaC50cmFuc2l0aW9uPWgudHJhbnNpdGlvbnx8KG8mJiFuP20udHJhbnNpdGlvbjpkKXx8KHE/YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uKSwhbyYmciYmKGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCkucGFnZVVybD1rKSxqJiYhaC5mcm9tSGFzaENoYW5nZSYmKCFhLm1vYmlsZS5wYXRoLmlzUGF0aChqKSYmai5pbmRleE9mKFwiI1wiKTwwJiYoaj1cIiNcIitqKSx0PXt0cmFuc2l0aW9uOmgudHJhbnNpdGlvbix0aXRsZTpwLHBhZ2VVcmw6ayxyb2xlOmgucm9sZX0saC5jaGFuZ2VIYXNoIT09ITEmJmEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkP2EubW9iaWxlLm5hdmlnYXRlKHRoaXMud2luZG93WzBdLmVuY29kZVVSSShqKSx0LCEwKTpiWzBdIT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiZhLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmFkZChqLHQpKSxjLnRpdGxlPXAsYS5tb2JpbGUuYWN0aXZlUGFnZT1iLHRoaXMuYWN0aXZlUGFnZT1iLGgucmV2ZXJzZT1oLnJldmVyc2V8fDA+byx1PWEuRGVmZXJyZWQoKSx0aGlzLl9jc3NUcmFuc2l0aW9uKGIsaSx7dHJhbnNpdGlvbjpoLnRyYW5zaXRpb24scmV2ZXJzZTpoLnJldmVyc2UsZGVmZXJyZWQ6dX0pLHUuZG9uZShhLnByb3h5KGZ1bmN0aW9uKGMsZCxlLGYsaSl7YS5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKCksaC5kdXBsaWNhdGVDYWNoZWRQYWdlJiZoLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCksaXx8YS5tb2JpbGUuZm9jdXNQYWdlKGIpLHRoaXMuX3JlbGVhc2VUcmFuc2l0aW9uTG9jaygpLHRoaXMuX3RyaWdnZXJXaXRoRGVwcmVjYXRlZChcInRyYW5zaXRpb25cIixnKSx0aGlzLl90cmlnZ2VyV2l0aERlcHJlY2F0ZWQoXCJjaGFuZ2VcIixnKX0sdGhpcykpfX0sX2ZpbmRCYXNlV2l0aERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmFjdGl2ZVBhZ2UmJmEubW9iaWxlLmdldENsb3Nlc3RCYXNlVXJsKHRoaXMuYWN0aXZlUGFnZSk7cmV0dXJuIGJ8fGEubW9iaWxlLnBhdGguZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2h9fSksYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZD1hLkRlZmVycmVkKCk7dmFyIGU9W10sZj0hMX0oYSksZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBlKGEpe2Zvcig7YSYmKFwic3RyaW5nXCIhPXR5cGVvZiBhLm5vZGVOYW1lfHxcImFcIiE9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7KWE9YS5wYXJlbnROb2RlO3JldHVybiBhfXZhciBmPWEuRGVmZXJyZWQoKSxnPWEuRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKCl7Zy5yZXNvbHZlKCksZz1udWxsfSxpPWEubW9iaWxlLnBhdGguZG9jdW1lbnRVcmwsaj1udWxsO2EubW9iaWxlLmxvYWRQYWdlPWZ1bmN0aW9uKGIsYyl7dmFyIGQ7cmV0dXJuIGM9Y3x8e30sZD1jLnBhZ2VDb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXIsYy5kZWZlcnJlZD1hLkRlZmVycmVkKCksZC5wYWdlY29udGFpbmVyKFwibG9hZFwiLGIsYyksYy5kZWZlcnJlZC5wcm9taXNlKCl9LGEubW9iaWxlLmJhY2s9ZnVuY3Rpb24oKXt2YXIgYz1iLm5hdmlnYXRvcjt0aGlzLnBob25lZ2FwTmF2aWdhdGlvbkVuYWJsZWQmJmMmJmMuYXBwJiZjLmFwcC5iYWNrSGlzdG9yeT9jLmFwcC5iYWNrSGlzdG9yeSgpOmEubW9iaWxlLnBhZ2VDb250YWluZXIucGFnZWNvbnRhaW5lcihcImJhY2tcIil9LGEubW9iaWxlLmZvY3VzUGFnZT1mdW5jdGlvbihhKXt2YXIgYj1hLmZpbmQoXCJbYXV0b2ZvY3VzXVwiKSxjPWEuZmluZChcIi51aS10aXRsZTplcSgwKVwiKTtyZXR1cm4gYi5sZW5ndGg/dm9pZCBiLmZvY3VzKCk6dm9pZChjLmxlbmd0aD9jLmZvY3VzKCk6YS5mb2N1cygpKX0sYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb258fGZ1bmN0aW9uKGEpe3JldHVybiBhfSxhLm1vYmlsZS5jaGFuZ2VQYWdlPWZ1bmN0aW9uKGIsYyl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5wYWdlY29udGFpbmVyKFwiY2hhbmdlXCIsYixjKX0sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz17dHJhbnNpdGlvbjpkLHJldmVyc2U6ITEsY2hhbmdlSGFzaDohMCxmcm9tSGFzaENoYW5nZTohMSxyb2xlOmQsZHVwbGljYXRlQ2FjaGVkUGFnZTpkLHBhZ2VDb250YWluZXI6ZCxzaG93TG9hZE1zZzohMCxkYXRhVXJsOmQsZnJvbVBhZ2U6ZCxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjohMX0sYS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXt2YXIgYz1mdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9ITA7cmV0dXJuIWEubW9iaWxlLmFqYXhFbmFibGVkfHxiLmlzKFwiOmpxbURhdGEoYWpheD0nZmFsc2UnKVwiKXx8IWIuanFtSGlqYWNrYWJsZSgpLmxlbmd0aHx8Yi5hdHRyKFwidGFyZ2V0XCIpPyExOihkPWomJmouYXR0cihcImZvcm1hY3Rpb25cIil8fGIuYXR0cihcImFjdGlvblwiKSxnPShiLmF0dHIoXCJtZXRob2RcIil8fFwiZ2V0XCIpLnRvTG93ZXJDYXNlKCksZHx8KGQ9YS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwoYiksXCJnZXRcIj09PWcmJihkPWEubW9iaWxlLnBhdGgucGFyc2VVcmwoZCkuaHJlZk5vU2VhcmNoKSxkPT09YS5tb2JpbGUucGF0aC5kb2N1bWVudEJhc2UuaHJlZk5vSGFzaCYmKGQ9aS5ocmVmTm9TZWFyY2gpKSxkPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGQsYS5tb2JpbGUuZ2V0Q2xvc2VzdEJhc2VVcmwoYikpLGEubW9iaWxlLnBhdGguaXNFeHRlcm5hbChkKSYmIWEubW9iaWxlLnBhdGguaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QoaSxkKT8hMTooY3x8KGU9Yi5zZXJpYWxpemVBcnJheSgpLGomJmpbMF0uZm9ybT09PWJbMF0mJihmPWouYXR0cihcIm5hbWVcIiksZiYmKGEuZWFjaChlLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIubmFtZT09PWY/KGY9XCJcIiwhMSk6dm9pZCAwfSksZiYmZS5wdXNoKHtuYW1lOmYsdmFsdWU6ai5hdHRyKFwidmFsdWVcIil9KSkpLGg9e3VybDpkLG9wdGlvbnM6e3R5cGU6ZyxkYXRhOmEucGFyYW0oZSksdHJhbnNpdGlvbjpiLmpxbURhdGEoXCJ0cmFuc2l0aW9uXCIpLHJldmVyc2U6XCJyZXZlcnNlXCI9PT1iLmpxbURhdGEoXCJkaXJlY3Rpb25cIikscmVsb2FkUGFnZTohMH19KSxoKSl9O2EubW9iaWxlLmRvY3VtZW50LmRlbGVnYXRlKFwiZm9ybVwiLFwic3VibWl0XCIsZnVuY3Rpb24oYil7dmFyIGQ7Yi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGQ9YyhhKHRoaXMpKSxkJiYoYS5tb2JpbGUuY2hhbmdlUGFnZShkLnVybCxkLm9wdGlvbnMpLGIucHJldmVudERlZmF1bHQoKSkpfSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZChcInZjbGlja1wiLGZ1bmN0aW9uKGIpe3ZhciBkLGYsZz1iLnRhcmdldCxoPSExO2lmKCEoYi53aGljaD4xKSYmYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkKXtpZihqPWEoZyksYS5kYXRhKGcsXCJtb2JpbGUtYnV0dG9uXCIpKXtpZighYyhhKGcpLmNsb3Nlc3QoXCJmb3JtXCIpLCEwKSlyZXR1cm47Zy5wYXJlbnROb2RlJiYoZz1nLnBhcmVudE5vZGUpfWVsc2V7aWYoZz1lKGcpLCFnfHxcIiNcIj09PWEubW9iaWxlLnBhdGgucGFyc2VVcmwoZy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfHxcIiNcIikuaGFzaClyZXR1cm47aWYoIWEoZykuanFtSGlqYWNrYWJsZSgpLmxlbmd0aClyZXR1cm59fmcuY2xhc3NOYW1lLmluZGV4T2YoXCJ1aS1saW5rLWluaGVyaXRcIik/Zy5wYXJlbnROb2RlJiYoZj1hLmRhdGEoZy5wYXJlbnROb2RlLFwiYnV0dG9uRWxlbWVudHNcIikpOmY9YS5kYXRhKGcsXCJidXR0b25FbGVtZW50c1wiKSxmP2c9Zi5vdXRlcjpoPSEwLGQ9YShnKSxoJiYoZD1kLmNsb3Nlc3QoXCIudWktYnRuXCIpKSxkLmxlbmd0aD4wJiYhZC5oYXNDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIpJiYoYS5tb2JpbGUucmVtb3ZlQWN0aXZlTGlua0NsYXNzKCEwKSxhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGluaz1kLGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSl9fSksYS5tb2JpbGUuZG9jdW1lbnQuYmluZChcImNsaWNrXCIsZnVuY3Rpb24oYyl7aWYoYS5tb2JpbGUubGlua0JpbmRpbmdFbmFibGVkJiYhYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGYsZyxoLGosayxsLG0sbj1lKGMudGFyZ2V0KSxvPWEobikscD1mdW5jdGlvbigpe2Iuc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnJlbW92ZUFjdGl2ZUxpbmtDbGFzcyghMCl9LDIwMCl9O2lmKGEubW9iaWxlLmFjdGl2ZUNsaWNrZWRMaW5rJiZhLm1vYmlsZS5hY3RpdmVDbGlja2VkTGlua1swXT09PWMudGFyZ2V0LnBhcmVudE5vZGUmJnAoKSxuJiYhKGMud2hpY2g+MSkmJm8uanFtSGlqYWNrYWJsZSgpLmxlbmd0aCl7aWYoby5pcyhcIjpqcW1EYXRhKHJlbD0nYmFjaycpXCIpKXJldHVybiBhLm1vYmlsZS5iYWNrKCksITE7aWYoZj1hLm1vYmlsZS5nZXRDbG9zZXN0QmFzZVVybChvKSxnPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKG8uYXR0cihcImhyZWZcIil8fFwiI1wiLGYpLCFhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWEubW9iaWxlLnBhdGguaXNFbWJlZGRlZFBhZ2UoZykpcmV0dXJuIHZvaWQgcCgpO2lmKCEoLTE9PT1nLnNlYXJjaChcIiNcIil8fGEubW9iaWxlLnBhdGguaXNFeHRlcm5hbChnKSYmYS5tb2JpbGUucGF0aC5pc0Fic29sdXRlVXJsKGcpKSl7aWYoZz1nLnJlcGxhY2UoL1teI10qIy8sXCJcIiksIWcpcmV0dXJuIHZvaWQgYy5wcmV2ZW50RGVmYXVsdCgpO2c9YS5tb2JpbGUucGF0aC5pc1BhdGgoZyk/YS5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoZyxmKTphLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShcIiNcIitnLGkuaHJlZk5vSGFzaCl9aWYoaD1vLmlzKFwiW3JlbD0nZXh0ZXJuYWwnXVwiKXx8by5pcyhcIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJylcIil8fG8uaXMoXCJbdGFyZ2V0XVwiKSxqPWh8fGEubW9iaWxlLnBhdGguaXNFeHRlcm5hbChnKSYmIWEubW9iaWxlLnBhdGguaXNQZXJtaXR0ZWRDcm9zc0RvbWFpblJlcXVlc3QoaSxnKSlyZXR1cm4gdm9pZCBwKCk7az1vLmpxbURhdGEoXCJ0cmFuc2l0aW9uXCIpLGw9XCJyZXZlcnNlXCI9PT1vLmpxbURhdGEoXCJkaXJlY3Rpb25cIil8fG8uanFtRGF0YShcImJhY2tcIiksbT1vLmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1wicmVsXCIpfHxkLGEubW9iaWxlLmNoYW5nZVBhZ2UoZyx7dHJhbnNpdGlvbjprLHJldmVyc2U6bCxyb2xlOm0sbGluazpvfSksYy5wcmV2ZW50RGVmYXVsdCgpfX19KSxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZShcIi51aS1wYWdlXCIsXCJwYWdlc2hvdy5wcmVmZXRjaFwiLGZ1bmN0aW9uKCl7dmFyIGI9W107YSh0aGlzKS5maW5kKFwiYTpqcW1EYXRhKHByZWZldGNoKVwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxkPWMuYXR0cihcImhyZWZcIik7ZCYmLTE9PT1hLmluQXJyYXkoZCxiKSYmKGIucHVzaChkKSxhLm1vYmlsZS5sb2FkUGFnZShkLHtyb2xlOmMuYXR0cihcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJyZWxcIikscHJlZmV0Y2g6ITB9KSl9KX0pLGEubW9iaWxlLnBhZ2VDb250YWluZXIucGFnZWNvbnRhaW5lcigpLGEubW9iaWxlLmRvY3VtZW50LmJpbmQoXCJwYWdlc2hvd1wiLGZ1bmN0aW9uKCl7Zz9nLmRvbmUoYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KTphLm1vYmlsZS5yZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKVxyXG59KSxhLm1vYmlsZS53aW5kb3cuYmluZChcInRocm90dGxlZHJlc2l6ZVwiLGEubW9iaWxlLnJlc2V0QWN0aXZlUGFnZUhlaWdodCl9LGEoZnVuY3Rpb24oKXtmLnJlc29sdmUoKX0pLFwiY29tcGxldGVcIj09PWMucmVhZHlTdGF0ZT9oKCk6YS5tb2JpbGUud2luZG93LmxvYWQoaCksYS53aGVuKGYsYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZCkuZG9uZShmdW5jdGlvbigpe2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCl9KX0oYSksZnVuY3Rpb24oYSxiKXthLm1vYmlsZS5UcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYS5leHRlbmQoYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3RvUHJlQ2xhc3M6XCIgdWktcGFnZS1wcmUtaW5cIixpbml0OmZ1bmN0aW9uKGIsYyxkLGUpe2EuZXh0ZW5kKHRoaXMse25hbWU6YixyZXZlcnNlOmMsJHRvOmQsJGZyb206ZSxkZWZlcnJlZDpuZXcgYS5EZWZlcnJlZH0pfSxjbGVhbkZyb206ZnVuY3Rpb24oKXt0aGlzLiRmcm9tLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcytcIiBvdXQgaW4gcmV2ZXJzZSBcIit0aGlzLm5hbWUpLmhlaWdodChcIlwiKX0sYmVmb3JlRG9uZUluOmZ1bmN0aW9uKCl7fSxiZWZvcmVEb25lT3V0OmZ1bmN0aW9uKCl7fSxiZWZvcmVTdGFydE91dDpmdW5jdGlvbigpe30sZG9uZUluOmZ1bmN0aW9uKCl7dGhpcy5iZWZvcmVEb25lSW4oKSx0aGlzLiR0by5yZW1vdmVDbGFzcyhcIm91dCBpbiByZXZlcnNlIFwiK3RoaXMubmFtZSkuaGVpZ2h0KFwiXCIpLHRoaXMudG9nZ2xlVmlld3BvcnRDbGFzcygpLGEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSE9PXRoaXMudG9TY3JvbGwmJnRoaXMuc2Nyb2xsUGFnZSgpLHRoaXMuc2VxdWVudGlhbHx8dGhpcy4kdG8uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKSx0aGlzLmRlZmVycmVkLnJlc29sdmUodGhpcy5uYW1lLHRoaXMucmV2ZXJzZSx0aGlzLiR0byx0aGlzLiRmcm9tLCEwKX0sZG9uZU91dDpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLmJlZm9yZURvbmVPdXQoKSx0aGlzLnN0YXJ0SW4oYSxiLGMsZCl9LGhpZGVJbjpmdW5jdGlvbihhKXt0aGlzLiR0by5jc3MoXCJ6LWluZGV4XCIsLTEwKSxhLmNhbGwodGhpcyksdGhpcy4kdG8uY3NzKFwiei1pbmRleFwiLFwiXCIpfSxzY3JvbGxQYWdlOmZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITEsKGEubW9iaWxlLmhpZGVVcmxCYXJ8fHRoaXMudG9TY3JvbGwhPT1hLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCkmJmIuc2Nyb2xsVG8oMCx0aGlzLnRvU2Nyb2xsKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITB9LDE1MCl9LHN0YXJ0SW46ZnVuY3Rpb24oYixjLGQsZSl7dGhpcy5oaWRlSW4oZnVuY3Rpb24oKXt0aGlzLiR0by5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrdGhpcy50b1ByZUNsYXNzKSxlfHxhLm1vYmlsZS5mb2N1c1BhZ2UodGhpcy4kdG8pLHRoaXMuJHRvLmhlaWdodChiK3RoaXMudG9TY3JvbGwpLGR8fHRoaXMuc2Nyb2xsUGFnZSgpfSksdGhpcy4kdG8ucmVtb3ZlQ2xhc3ModGhpcy50b1ByZUNsYXNzKS5hZGRDbGFzcyh0aGlzLm5hbWUrXCIgaW4gXCIrYyksZD90aGlzLmRvbmVJbigpOnRoaXMuJHRvLmFuaW1hdGlvbkNvbXBsZXRlKGEucHJveHkoZnVuY3Rpb24oKXt0aGlzLmRvbmVJbigpfSx0aGlzKSl9LHN0YXJ0T3V0OmZ1bmN0aW9uKGIsYyxkKXt0aGlzLmJlZm9yZVN0YXJ0T3V0KGIsYyxkKSx0aGlzLiRmcm9tLmhlaWdodChiK2EubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKSkuYWRkQ2xhc3ModGhpcy5uYW1lK1wiIG91dFwiK2MpfSx0b2dnbGVWaWV3cG9ydENsYXNzOmZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci50b2dnbGVDbGFzcyhcInVpLW1vYmlsZS12aWV3cG9ydC10cmFuc2l0aW9uaW5nIHZpZXdwb3J0LVwiK3RoaXMubmFtZSl9LHRyYW5zaXRpb246ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMucmV2ZXJzZT9cIiByZXZlcnNlXCI6XCJcIixkPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpLGU9YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoIT09ITEmJmEubW9iaWxlLndpbmRvdy53aWR0aCgpPmEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aDtyZXR1cm4gdGhpcy50b1Njcm9sbD1hLm1vYmlsZS5uYXZpZ2F0ZS5oaXN0b3J5LmdldEFjdGl2ZSgpLmxhc3RTY3JvbGx8fGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsLGI9IWEuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8IWEuc3VwcG9ydC5jc3NBbmltYXRpb25zfHxlfHwhdGhpcy5uYW1lfHxcIm5vbmVcIj09PXRoaXMubmFtZXx8TWF0aC5tYXgoYS5tb2JpbGUud2luZG93LnNjcm9sbFRvcCgpLHRoaXMudG9TY3JvbGwpPmEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb24oKSx0aGlzLnRvZ2dsZVZpZXdwb3J0Q2xhc3MoKSx0aGlzLiRmcm9tJiYhYj90aGlzLnN0YXJ0T3V0KGQsYyxiKTp0aGlzLmRvbmVPdXQoZCxjLGIsITApLHRoaXMuZGVmZXJyZWQucHJvbWlzZSgpfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLlNlcmlhbFRyYW5zaXRpb249ZnVuY3Rpb24oKXt0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhLmV4dGVuZChhLm1vYmlsZS5TZXJpYWxUcmFuc2l0aW9uLnByb3RvdHlwZSxhLm1vYmlsZS5UcmFuc2l0aW9uLnByb3RvdHlwZSx7c2VxdWVudGlhbDohMCxiZWZvcmVEb25lT3V0OmZ1bmN0aW9uKCl7dGhpcy4kZnJvbSYmdGhpcy5jbGVhbkZyb20oKX0sYmVmb3JlU3RhcnRPdXQ6ZnVuY3Rpb24oYixjLGQpe3RoaXMuJGZyb20uYW5pbWF0aW9uQ29tcGxldGUoYS5wcm94eShmdW5jdGlvbigpe3RoaXMuZG9uZU91dChiLGMsZCl9LHRoaXMpKX19KX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUuQ29uY3VycmVudFRyYW5zaXRpb249ZnVuY3Rpb24oKXt0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhLmV4dGVuZChhLm1vYmlsZS5Db25jdXJyZW50VHJhbnNpdGlvbi5wcm90b3R5cGUsYS5tb2JpbGUuVHJhbnNpdGlvbi5wcm90b3R5cGUse3NlcXVlbnRpYWw6ITEsYmVmb3JlRG9uZUluOmZ1bmN0aW9uKCl7dGhpcy4kZnJvbSYmdGhpcy5jbGVhbkZyb20oKX0sYmVmb3JlU3RhcnRPdXQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZG9uZU91dChhLGIsYyl9fSl9KGEpLGZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKCl7cmV0dXJuIDMqYS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCl9O2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycz17c2VxdWVudGlhbDphLm1vYmlsZS5TZXJpYWxUcmFuc2l0aW9uLHNpbXVsdGFuZW91czphLm1vYmlsZS5Db25jdXJyZW50VHJhbnNpdGlvbn0sYS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyPWEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycy5zZXF1ZW50aWFsLGEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3M9e30sYS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb249ZnVuY3Rpb24oYil7cmV0dXJuIGImJiFhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbYl0mJihiPWEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbYl0pLGJ9LGEubW9iaWxlLmdldE1heFNjcm9sbEZvclRyYW5zaXRpb249YS5tb2JpbGUuZ2V0TWF4U2Nyb2xsRm9yVHJhbnNpdGlvbnx8Yn0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5mbGlwPVwiZmFkZVwifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxvdz1cImZhZGVcIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnBvcD1cImZhZGVcIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2xpZGU9YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNpbXVsdGFuZW91cyxhLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlPVwiZmFkZVwifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVkb3duPVwiZmFkZVwifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGVmYWRlPVwiZmFkZVwifShhLHRoaXMpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3Muc2xpZGV1cD1cImZhZGVcIn0oYSx0aGlzKSxmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnR1cm49XCJmYWRlXCJ9KGEsdGhpcyksZnVuY3Rpb24oYSl7YS5tb2JpbGUuZGVncmFkZUlucHV0cz17Y29sb3I6ITEsZGF0ZTohMSxkYXRldGltZTohMSxcImRhdGV0aW1lLWxvY2FsXCI6ITEsZW1haWw6ITEsbW9udGg6ITEsbnVtYmVyOiExLHJhbmdlOlwibnVtYmVyXCIsc2VhcmNoOlwidGV4dFwiLHRlbDohMSx0aW1lOiExLHVybDohMSx3ZWVrOiExfSxhLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmRlZ3JhZGVJbnB1dHM9YS5tb2JpbGUuZGVncmFkZUlucHV0cyxhLm1vYmlsZS5kZWdyYWRlSW5wdXRzV2l0aGluPWZ1bmN0aW9uKGIpe2I9YShiKSxiLmZpbmQoXCJpbnB1dFwiKS5ub3QoYS5tb2JpbGUucGFnZS5wcm90b3R5cGUua2VlcE5hdGl2ZVNlbGVjdG9yKCkpLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjLGQsZSxmPWEodGhpcyksZz10aGlzLmdldEF0dHJpYnV0ZShcInR5cGVcIiksaD1hLm1vYmlsZS5kZWdyYWRlSW5wdXRzW2ddfHxcInRleHRcIjthLm1vYmlsZS5kZWdyYWRlSW5wdXRzW2ddJiYoYj1hKFwiPGRpdj5cIikuaHRtbChmLmNsb25lKCkpLmh0bWwoKSxjPWIuaW5kZXhPZihcIiB0eXBlPVwiKT4tMSxkPWM/L1xccyt0eXBlPVtcIiddP1xcdytbJ1wiXT8vOi9cXC8/Pi8sZT0nIHR5cGU9XCInK2grJ1wiIGRhdGEtJythLm1vYmlsZS5ucysndHlwZT1cIicrZysnXCInKyhjP1wiXCI6XCI+XCIpLGYucmVwbGFjZVdpdGgoYi5yZXBsYWNlKGQsZSkpKX0pfX0oYSksZnVuY3Rpb24oYSxiLGMpe2Eud2lkZ2V0KFwibW9iaWxlLnBhZ2VcIixhLm1vYmlsZS5wYWdlLHtvcHRpb25zOntjbG9zZUJ0bjpcImxlZnRcIixjbG9zZUJ0blRleHQ6XCJDbG9zZVwiLG92ZXJsYXlUaGVtZTpcImFcIixjb3JuZXJzOiEwLGRpYWxvZzohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmRpYWxvZyYmKGEuZXh0ZW5kKHRoaXMse19pbm5lcjp0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKSxfaGVhZGVyQ2xvc2VCdXR0b246bnVsbH0pLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fc2V0Q2xvc2VCdG4odGhpcy5vcHRpb25zLmNsb3NlQnRuKSl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLm9wdGlvbnMuZGlhbG9nJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS1kaWFsb2dcIikud3JhcElubmVyKGEoXCI8ZGl2Lz5cIix7cm9sZTpcImRpYWxvZ1wiLFwiY2xhc3NcIjpcInVpLWRpYWxvZy1jb250YWluIHVpLW92ZXJsYXktc2hhZG93XCIrKHRoaXMub3B0aW9ucy5jb3JuZXJzP1wiIHVpLWNvcm5lci1hbGxcIjpcIlwiKX0pKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGQsZSxmPXRoaXMub3B0aW9ucztiLmNvcm5lcnMhPT1jJiZ0aGlzLl9pbm5lci50b2dnbGVDbGFzcyhcInVpLWNvcm5lci1hbGxcIiwhIWIuY29ybmVycyksYi5vdmVybGF5VGhlbWUhPT1jJiZhLm1vYmlsZS5hY3RpdmVQYWdlWzBdPT09dGhpcy5lbGVtZW50WzBdJiYoZi5vdmVybGF5VGhlbWU9Yi5vdmVybGF5VGhlbWUsdGhpcy5faGFuZGxlUGFnZUJlZm9yZVNob3coKSksYi5jbG9zZUJ0blRleHQhPT1jJiYoZD1mLmNsb3NlQnRuLGU9Yi5jbG9zZUJ0blRleHQpLGIuY2xvc2VCdG4hPT1jJiYoZD1iLmNsb3NlQnRuKSxkJiZ0aGlzLl9zZXRDbG9zZUJ0bihkLGUpLHRoaXMuX3N1cGVyKGIpfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZ0aGlzLm9wdGlvbnMuZGlhbG9nPyh0aGlzLnJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQoKSx0aGlzLnNldENvbnRhaW5lckJhY2tncm91bmQodGhpcy5vcHRpb25zLm92ZXJsYXlUaGVtZSkpOnRoaXMuX3N1cGVyKCl9LF9zZXRDbG9zZUJ0bjpmdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy5faGVhZGVyQ2xvc2VCdXR0b247Yj1cImxlZnRcIj09PWI/XCJsZWZ0XCI6XCJyaWdodFwiPT09Yj9cInJpZ2h0XCI6XCJub25lXCIsXCJub25lXCI9PT1iP2UmJihlLnJlbW92ZSgpLGU9bnVsbCk6ZT8oZS5yZW1vdmVDbGFzcyhcInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodFwiKS5hZGRDbGFzcyhcInVpLWJ0bi1cIitiKSxjJiZlLnRleHQoYykpOihkPXRoaXMuX2lubmVyLmZpbmQoXCI6anFtRGF0YShyb2xlPSdoZWFkZXInKVwiKS5maXJzdCgpLGU9YShcIjxhPjwvYT5cIix7aHJlZjpcIiNcIixcImNsYXNzXCI6XCJ1aS1idG4gdWktY29ybmVyLWFsbCB1aS1pY29uLWRlbGV0ZSB1aS1idG4taWNvbi1ub3RleHQgdWktYnRuLVwiK2J9KS5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInJlbFwiLFwiYmFja1wiKS50ZXh0KGN8fHRoaXMub3B0aW9ucy5jbG9zZUJ0blRleHR8fFwiXCIpLnByZXBlbmRUbyhkKSksdGhpcy5faGVhZGVyQ2xvc2VCdXR0b249ZX19KX0oYSx0aGlzKSxmdW5jdGlvbihhLGIsYyl7YS53aWRnZXQoXCJtb2JpbGUuZGlhbG9nXCIse29wdGlvbnM6e2Nsb3NlQnRuOlwibGVmdFwiLGNsb3NlQnRuVGV4dDpcIkNsb3NlXCIsb3ZlcmxheVRoZW1lOlwiYVwiLGNvcm5lcnM6ITB9LF9oYW5kbGVQYWdlQmVmb3JlU2hvdzpmdW5jdGlvbigpe3RoaXMuX2lzQ2xvc2VhYmxlPSEwLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJnRoaXMuZWxlbWVudC5wYWdlKFwicmVtb3ZlQ29udGFpbmVyQmFja2dyb3VuZFwiKS5wYWdlKFwic2V0Q29udGFpbmVyQmFja2dyb3VuZFwiLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUpfSxfaGFuZGxlUGFnZUJlZm9yZUhpZGU6ZnVuY3Rpb24oKXt0aGlzLl9pc0Nsb3NlYWJsZT0hMX0sX2hhbmRsZVZDbGlja1N1Ym1pdDpmdW5jdGlvbihiKXt2YXIgYyxkPWEoYi50YXJnZXQpLmNsb3Nlc3QoXCJ2Y2xpY2tcIj09PWIudHlwZT9cImFcIjpcImZvcm1cIik7ZC5sZW5ndGgmJiFkLmpxbURhdGEoXCJ0cmFuc2l0aW9uXCIpJiYoYz17fSxjW1wiZGF0YS1cIithLm1vYmlsZS5ucytcInRyYW5zaXRpb25cIl09KGEubW9iaWxlLm5hdmlnYXRlLmhpc3RvcnkuZ2V0QWN0aXZlKCl8fHt9KS50cmFuc2l0aW9ufHxhLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbixjW1wiZGF0YS1cIithLm1vYmlsZS5ucytcImRpcmVjdGlvblwiXT1cInJldmVyc2VcIixkLmF0dHIoYykpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zO2IuYWRkQ2xhc3MoXCJ1aS1kaWFsb2dcIikud3JhcElubmVyKGEoXCI8ZGl2Lz5cIix7cm9sZTpcImRpYWxvZ1wiLFwiY2xhc3NcIjpcInVpLWRpYWxvZy1jb250YWluIHVpLW92ZXJsYXktc2hhZG93XCIrKGMuY29ybmVycz9cIiB1aS1jb3JuZXItYWxsXCI6XCJcIil9KSksYS5leHRlbmQodGhpcyx7X2lzQ2xvc2VhYmxlOiExLF9pbm5lcjpiLmNoaWxkcmVuKCksX2hlYWRlckNsb3NlQnV0dG9uOm51bGx9KSx0aGlzLl9vbihiLHt2Y2xpY2s6XCJfaGFuZGxlVkNsaWNrU3VibWl0XCIsc3VibWl0OlwiX2hhbmRsZVZDbGlja1N1Ym1pdFwiLHBhZ2ViZWZvcmVzaG93OlwiX2hhbmRsZVBhZ2VCZWZvcmVTaG93XCIscGFnZWJlZm9yZWhpZGU6XCJfaGFuZGxlUGFnZUJlZm9yZUhpZGVcIn0pLHRoaXMuX3NldENsb3NlQnRuKGMuY2xvc2VCdG4pfSxfc2V0T3B0aW9uczpmdW5jdGlvbihiKXt2YXIgZCxlLGY9dGhpcy5vcHRpb25zO2IuY29ybmVycyE9PWMmJnRoaXMuX2lubmVyLnRvZ2dsZUNsYXNzKFwidWktY29ybmVyLWFsbFwiLCEhYi5jb3JuZXJzKSxiLm92ZXJsYXlUaGVtZSE9PWMmJmEubW9iaWxlLmFjdGl2ZVBhZ2VbMF09PT10aGlzLmVsZW1lbnRbMF0mJihmLm92ZXJsYXlUaGVtZT1iLm92ZXJsYXlUaGVtZSx0aGlzLl9oYW5kbGVQYWdlQmVmb3JlU2hvdygpKSxiLmNsb3NlQnRuVGV4dCE9PWMmJihkPWYuY2xvc2VCdG4sZT1iLmNsb3NlQnRuVGV4dCksYi5jbG9zZUJ0biE9PWMmJihkPWIuY2xvc2VCdG4pLGQmJnRoaXMuX3NldENsb3NlQnRuKGQsZSksdGhpcy5fc3VwZXIoYil9LF9zZXRDbG9zZUJ0bjpmdW5jdGlvbihiLGMpe3ZhciBkLGU9dGhpcy5faGVhZGVyQ2xvc2VCdXR0b247Yj1cImxlZnRcIj09PWI/XCJsZWZ0XCI6XCJyaWdodFwiPT09Yj9cInJpZ2h0XCI6XCJub25lXCIsXCJub25lXCI9PT1iP2UmJihlLnJlbW92ZSgpLGU9bnVsbCk6ZT8oZS5yZW1vdmVDbGFzcyhcInVpLWJ0bi1sZWZ0IHVpLWJ0bi1yaWdodFwiKS5hZGRDbGFzcyhcInVpLWJ0bi1cIitiKSxjJiZlLnRleHQoYykpOihkPXRoaXMuX2lubmVyLmZpbmQoXCI6anFtRGF0YShyb2xlPSdoZWFkZXInKVwiKS5maXJzdCgpLGU9YShcIjxhPjwvYT5cIix7cm9sZTpcImJ1dHRvblwiLGhyZWY6XCIjXCIsXCJjbGFzc1wiOlwidWktYnRuIHVpLWNvcm5lci1hbGwgdWktaWNvbi1kZWxldGUgdWktYnRuLWljb24tbm90ZXh0IHVpLWJ0bi1cIitifSkudGV4dChjfHx0aGlzLm9wdGlvbnMuY2xvc2VCdG5UZXh0fHxcIlwiKS5wcmVwZW5kVG8oZCksdGhpcy5fb24oZSx7Y2xpY2s6XCJjbG9zZVwifSkpLHRoaXMuX2hlYWRlckNsb3NlQnV0dG9uPWV9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIGI9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeTt0aGlzLl9pc0Nsb3NlYWJsZSYmKHRoaXMuX2lzQ2xvc2VhYmxlPSExLGEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkJiZiLmFjdGl2ZUluZGV4PjA/YS5tb2JpbGUuYmFjaygpOmEubW9iaWxlLnBhZ2VDb250YWluZXIucGFnZWNvbnRhaW5lcihcImJhY2tcIikpfX0pfShhLHRoaXMpLGZ1bmN0aW9uKGEsYil7dmFyIGM9LyhbQS1aXSkvZyxkPWZ1bmN0aW9uKGEpe3JldHVyblwidWktYnRuLWljb24tXCIrKG51bGw9PT1hP1wibGVmdFwiOmEpfTthLndpZGdldChcIm1vYmlsZS5jb2xsYXBzaWJsZVwiLHtvcHRpb25zOntlbmhhbmNlZDohMSxleHBhbmRDdWVUZXh0Om51bGwsY29sbGFwc2VDdWVUZXh0Om51bGwsY29sbGFwc2VkOiEwLGhlYWRpbmc6XCJoMSxoMixoMyxoNCxoNSxoNixsZWdlbmRcIixjb2xsYXBzZWRJY29uOm51bGwsZXhwYW5kZWRJY29uOm51bGwsaWNvbnBvczpudWxsLHRoZW1lOm51bGwsY29udGVudFRoZW1lOm51bGwsaW5zZXQ6bnVsbCxjb3JuZXJzOm51bGwsbWluaTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9e2FjY29yZGlvbjpiLmNsb3Nlc3QoXCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSw6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZXNldCcpXCIrKGEubW9iaWxlLmNvbGxhcHNpYmxlc2V0P1wiLCA6bW9iaWxlLWNvbGxhcHNpYmxlc2V0XCI6XCJcIikpLmFkZENsYXNzKFwidWktY29sbGFwc2libGUtc2V0XCIpfTt0aGlzLl91aT1jLHRoaXMuX3JlbmRlcmVkT3B0aW9ucz10aGlzLl9nZXRPcHRpb25zKHRoaXMub3B0aW9ucyksdGhpcy5vcHRpb25zLmVuaGFuY2VkPyhjLmhlYWRpbmc9dGhpcy5lbGVtZW50LmNoaWxkcmVuKFwiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmdcIiksYy5jb250ZW50PWMuaGVhZGluZy5uZXh0KCksYy5hbmNob3I9Yy5oZWFkaW5nLmNoaWxkcmVuKCksYy5zdGF0dXM9Yy5hbmNob3IuY2hpbGRyZW4oXCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXNcIikpOnRoaXMuX2VuaGFuY2UoYixjKSx0aGlzLl9vbihjLmhlYWRpbmcse3RhcDpmdW5jdGlvbigpe2MuaGVhZGluZy5maW5kKFwiYVwiKS5maXJzdCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sY2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UoIWMuaGVhZGluZy5oYXNDbGFzcyhcInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkXCIpKSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKX19KX0sX2dldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGQsZT10aGlzLl91aS5hY2NvcmRpb24sZj10aGlzLl91aS5hY2NvcmRpb25XaWRnZXQ7Yj1hLmV4dGVuZCh7fSxiKSxlLmxlbmd0aCYmIWYmJih0aGlzLl91aS5hY2NvcmRpb25XaWRnZXQ9Zj1lLmRhdGEoXCJtb2JpbGUtY29sbGFwc2libGVzZXRcIikpO2ZvcihkIGluIGIpYltkXT1udWxsIT1iW2RdP2JbZF06Zj9mLm9wdGlvbnNbZF06ZS5sZW5ndGg/YS5tb2JpbGUuZ2V0QXR0cmlidXRlKGVbMF0sZC5yZXBsYWNlKGMsXCItJDFcIikudG9Mb3dlckNhc2UoKSk6bnVsbCxudWxsPT1iW2RdJiYoYltkXT1hLm1vYmlsZS5jb2xsYXBzaWJsZS5kZWZhdWx0c1tkXSk7cmV0dXJuIGJ9LF90aGVtZUNsYXNzRnJvbU9wdGlvbjpmdW5jdGlvbihhLGIpe3JldHVybiBiP1wibm9uZVwiPT09Yj9cIlwiOmErYjpcIlwifSxfZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBlLGY9dGhpcy5fcmVuZGVyZWRPcHRpb25zLGc9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ib2R5LVwiLGYuY29udGVudFRoZW1lKTtyZXR1cm4gYi5hZGRDbGFzcyhcInVpLWNvbGxhcHNpYmxlIFwiKyhmLmluc2V0P1widWktY29sbGFwc2libGUtaW5zZXQgXCI6XCJcIikrKGYuaW5zZXQmJmYuY29ybmVycz9cInVpLWNvcm5lci1hbGwgXCI6XCJcIikrKGc/XCJ1aS1jb2xsYXBzaWJsZS10aGVtZWQtY29udGVudCBcIjpcIlwiKSksYy5vcmlnaW5hbEhlYWRpbmc9Yi5jaGlsZHJlbih0aGlzLm9wdGlvbnMuaGVhZGluZykuZmlyc3QoKSxjLmNvbnRlbnQ9Yi53cmFwSW5uZXIoXCI8ZGl2IGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1jb250ZW50IFwiK2crXCInPjwvZGl2PlwiKS5jaGlsZHJlbihcIi51aS1jb2xsYXBzaWJsZS1jb250ZW50XCIpLGMuaGVhZGluZz1jLm9yaWdpbmFsSGVhZGluZyxjLmhlYWRpbmcuaXMoXCJsZWdlbmRcIikmJihjLmhlYWRpbmc9YShcIjxkaXYgcm9sZT0naGVhZGluZyc+XCIrYy5oZWFkaW5nLmh0bWwoKStcIjwvZGl2PlwiKSxjLnBsYWNlaG9sZGVyPWEoXCI8ZGl2PjwhLS0gcGxhY2Vob2xkZXIgZm9yIGxlZ2VuZCAtLT48L2Rpdj5cIikuaW5zZXJ0QmVmb3JlKGMub3JpZ2luYWxIZWFkaW5nKSxjLm9yaWdpbmFsSGVhZGluZy5yZW1vdmUoKSksZT1mLmNvbGxhcHNlZD9mLmNvbGxhcHNlZEljb24/XCJ1aS1pY29uLVwiK2YuY29sbGFwc2VkSWNvbjpcIlwiOmYuZXhwYW5kZWRJY29uP1widWktaWNvbi1cIitmLmV4cGFuZGVkSWNvbjpcIlwiLGMuc3RhdHVzPWEoXCI8c3BhbiBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMnPjwvc3Bhbj5cIiksYy5hbmNob3I9Yy5oZWFkaW5nLmRldGFjaCgpLmFkZENsYXNzKFwidWktY29sbGFwc2libGUtaGVhZGluZ1wiKS5hcHBlbmQoYy5zdGF0dXMpLndyYXBJbm5lcihcIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSc+PC9hPlwiKS5maW5kKFwiYVwiKS5maXJzdCgpLmFkZENsYXNzKFwidWktYnRuIFwiKyhlP2UrXCIgXCI6XCJcIikrKGU/ZChmLmljb25wb3MpK1wiIFwiOlwiXCIpK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktYnRuLVwiLGYudGhlbWUpK1wiIFwiKyhmLm1pbmk/XCJ1aS1taW5pIFwiOlwiXCIpKSxjLmhlYWRpbmcuaW5zZXJ0QmVmb3JlKGMuY29udGVudCksdGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UodGhpcy5vcHRpb25zLmNvbGxhcHNlZCksY30scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX2FwcGx5T3B0aW9ucyh0aGlzLm9wdGlvbnMpLHRoaXMuX3JlbmRlcmVkT3B0aW9ucz10aGlzLl9nZXRPcHRpb25zKHRoaXMub3B0aW9ucyl9LF9hcHBseU9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGMsZSxmLGcsaCxpPXRoaXMuZWxlbWVudCxqPXRoaXMuX3JlbmRlcmVkT3B0aW9ucyxrPXRoaXMuX3VpLGw9ay5hbmNob3IsbT1rLnN0YXR1cyxuPXRoaXMuX2dldE9wdGlvbnMoYSk7YS5jb2xsYXBzZWQhPT1iJiZ0aGlzLl9oYW5kbGVFeHBhbmRDb2xsYXBzZShhLmNvbGxhcHNlZCksYz1pLmhhc0NsYXNzKFwidWktY29sbGFwc2libGUtY29sbGFwc2VkXCIpLGM/bi5leHBhbmRDdWVUZXh0IT09YiYmbS50ZXh0KG4uZXhwYW5kQ3VlVGV4dCk6bi5jb2xsYXBzZUN1ZVRleHQhPT1iJiZtLnRleHQobi5jb2xsYXBzZUN1ZVRleHQpLGg9bi5jb2xsYXBzZWRJY29uIT09Yj9uLmNvbGxhcHNlZEljb24hPT0hMTpqLmNvbGxhcHNlZEljb24hPT0hMSwobi5pY29ucG9zIT09Ynx8bi5jb2xsYXBzZWRJY29uIT09Ynx8bi5leHBhbmRlZEljb24hPT1iKSYmKGwucmVtb3ZlQ2xhc3MoW2Qoai5pY29ucG9zKV0uY29uY2F0KGouZXhwYW5kZWRJY29uP1tcInVpLWljb24tXCIrai5leHBhbmRlZEljb25dOltdKS5jb25jYXQoai5jb2xsYXBzZWRJY29uP1tcInVpLWljb24tXCIrai5jb2xsYXBzZWRJY29uXTpbXSkuam9pbihcIiBcIikpLGgmJmwuYWRkQ2xhc3MoW2Qobi5pY29ucG9zIT09Yj9uLmljb25wb3M6ai5pY29ucG9zKV0uY29uY2F0KGM/W1widWktaWNvbi1cIisobi5jb2xsYXBzZWRJY29uIT09Yj9uLmNvbGxhcHNlZEljb246ai5jb2xsYXBzZWRJY29uKV06W1widWktaWNvbi1cIisobi5leHBhbmRlZEljb24hPT1iP24uZXhwYW5kZWRJY29uOmouZXhwYW5kZWRJY29uKV0pLmpvaW4oXCIgXCIpKSksbi50aGVtZSE9PWImJihmPXRoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktYnRuLVwiLGoudGhlbWUpLGU9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1idG4tXCIsbi50aGVtZSksbC5yZW1vdmVDbGFzcyhmKS5hZGRDbGFzcyhlKSksbi5jb250ZW50VGhlbWUhPT1iJiYoZj10aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLWJvZHktXCIsai5jb250ZW50VGhlbWUpLGU9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ib2R5LVwiLG4uY29udGVudFRoZW1lKSxrLmNvbnRlbnQucmVtb3ZlQ2xhc3MoZikuYWRkQ2xhc3MoZSkpLG4uaW5zZXQhPT1iJiYoaS50b2dnbGVDbGFzcyhcInVpLWNvbGxhcHNpYmxlLWluc2V0XCIsbi5pbnNldCksZz0hKCFuLmluc2V0fHwhbi5jb3JuZXJzJiYhai5jb3JuZXJzKSksbi5jb3JuZXJzIT09YiYmKGc9ISghbi5jb3JuZXJzfHwhbi5pbnNldCYmIWouaW5zZXQpKSxnIT09YiYmaS50b2dnbGVDbGFzcyhcInVpLWNvcm5lci1hbGxcIixnKSxuLm1pbmkhPT1iJiZsLnRvZ2dsZUNsYXNzKFwidWktbWluaVwiLG4ubWluaSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3RoaXMuX2FwcGx5T3B0aW9ucyhhKSx0aGlzLl9zdXBlcihhKSx0aGlzLl9yZW5kZXJlZE9wdGlvbnM9dGhpcy5fZ2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpfSxfaGFuZGxlRXhwYW5kQ29sbGFwc2U6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fcmVuZGVyZWRPcHRpb25zLGQ9dGhpcy5fdWk7ZC5zdGF0dXMudGV4dChiP2MuZXhwYW5kQ3VlVGV4dDpjLmNvbGxhcHNlQ3VlVGV4dCksZC5oZWFkaW5nLnRvZ2dsZUNsYXNzKFwidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWRcIixiKS5maW5kKFwiYVwiKS5maXJzdCgpLnRvZ2dsZUNsYXNzKFwidWktaWNvbi1cIitjLmV4cGFuZGVkSWNvbiwhYikudG9nZ2xlQ2xhc3MoXCJ1aS1pY29uLVwiK2MuY29sbGFwc2VkSWNvbixifHxjLmV4cGFuZGVkSWNvbj09PWMuY29sbGFwc2VkSWNvbikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcyhcInVpLWNvbGxhcHNpYmxlLWNvbGxhcHNlZFwiLGIpLGQuY29udGVudC50b2dnbGVDbGFzcyhcInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkXCIsYikuYXR0cihcImFyaWEtaGlkZGVuXCIsYikudHJpZ2dlcihcInVwZGF0ZWxheW91dFwiKSx0aGlzLm9wdGlvbnMuY29sbGFwc2VkPWIsdGhpcy5fdHJpZ2dlcihiP1wiY29sbGFwc2VcIjpcImV4cGFuZFwiKX0sZXhwYW5kOmZ1bmN0aW9uKCl7dGhpcy5faGFuZGxlRXhwYW5kQ29sbGFwc2UoITEpfSxjb2xsYXBzZTpmdW5jdGlvbigpe3RoaXMuX2hhbmRsZUV4cGFuZENvbGxhcHNlKCEwKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl91aSxiPXRoaXMub3B0aW9ucztiLmVuaGFuY2VkfHwoYS5wbGFjZWhvbGRlcj8oYS5vcmlnaW5hbEhlYWRpbmcuaW5zZXJ0QmVmb3JlKGEucGxhY2Vob2xkZXIpLGEucGxhY2Vob2xkZXIucmVtb3ZlKCksYS5oZWFkaW5nLnJlbW92ZSgpKTooYS5zdGF0dXMucmVtb3ZlKCksYS5oZWFkaW5nLnJlbW92ZUNsYXNzKFwidWktY29sbGFwc2libGUtaGVhZGluZyB1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZFwiKS5jaGlsZHJlbigpLmNvbnRlbnRzKCkudW53cmFwKCkpLGEuYW5jaG9yLmNvbnRlbnRzKCkudW53cmFwKCksYS5jb250ZW50LmNvbnRlbnRzKCkudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktY29sbGFwc2libGUgdWktY29sbGFwc2libGUtY29sbGFwc2VkIHVpLWNvbGxhcHNpYmxlLXRoZW1lZC1jb250ZW50IHVpLWNvbGxhcHNpYmxlLWluc2V0IHVpLWNvcm5lci1hbGxcIikpfX0pLGEubW9iaWxlLmNvbGxhcHNpYmxlLmRlZmF1bHRzPXtleHBhbmRDdWVUZXh0OlwiIGNsaWNrIHRvIGV4cGFuZCBjb250ZW50c1wiLGNvbGxhcHNlQ3VlVGV4dDpcIiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50c1wiLGNvbGxhcHNlZEljb246XCJwbHVzXCIsY29udGVudFRoZW1lOlwiaW5oZXJpdFwiLGV4cGFuZGVkSWNvbjpcIm1pbnVzXCIsaWNvbnBvczpcImxlZnRcIixpbnNldDohMCxjb3JuZXJzOiEwLHRoZW1lOlwiaW5oZXJpdFwiLG1pbmk6ITF9fShhKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe3ZhciBkLGU9Yi5sZW5ndGgsZj1bXTtmb3IoZD0wO2U+ZDtkKyspYltkXS5jbGFzc05hbWUubWF0Y2goYyl8fGYucHVzaChiW2RdKTtyZXR1cm4gYShmKX12YXIgYz0vXFxidWktc2NyZWVuLWhpZGRlblxcYi87YS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXM9e19nZXRWaXNpYmxlczpmdW5jdGlvbihhLGMpe3ZhciBkO3JldHVybiBjP2Q9YihhKTooZD1hLmZpbHRlcihcIjp2aXNpYmxlXCIpLDA9PT1kLmxlbmd0aCYmKGQ9YihhKSkpLGR9LF9hZGRGaXJzdExhc3RDbGFzc2VzOmZ1bmN0aW9uKGEsYixjKXthLnJlbW92ZUNsYXNzKFwidWktZmlyc3QtY2hpbGQgdWktbGFzdC1jaGlsZFwiKSxiLmVxKDApLmFkZENsYXNzKFwidWktZmlyc3QtY2hpbGRcIikuZW5kKCkubGFzdCgpLmFkZENsYXNzKFwidWktbGFzdC1jaGlsZFwiKSxjfHx0aGlzLmVsZW1lbnQudHJpZ2dlcihcInVwZGF0ZWxheW91dFwiKX0sX3JlbW92ZUZpcnN0TGFzdENsYXNzZXM6ZnVuY3Rpb24oYSl7YS5yZW1vdmVDbGFzcyhcInVpLWZpcnN0LWNoaWxkIHVpLWxhc3QtY2hpbGRcIil9fX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz1cIjptb2JpbGUtY29sbGFwc2libGUsIFwiK2EubW9iaWxlLmNvbGxhcHNpYmxlLmluaXRTZWxlY3RvcjthLndpZGdldChcIm1vYmlsZS5jb2xsYXBzaWJsZXNldFwiLGEuZXh0ZW5kKHtpbml0U2VsZWN0b3I6XCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSw6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZXNldCcpXCIsb3B0aW9uczphLmV4dGVuZCh7ZW5oYW5jZWQ6ITF9LGEubW9iaWxlLmNvbGxhcHNpYmxlLmRlZmF1bHRzKSxfaGFuZGxlQ29sbGFwc2libGVFeHBhbmQ6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCkuY2xvc2VzdChcIi51aS1jb2xsYXBzaWJsZVwiKTtjLnBhcmVudCgpLmlzKFwiOm1vYmlsZS1jb2xsYXBzaWJsZXNldCwgOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JylcIikmJmMuc2libGluZ3MoXCIudWktY29sbGFwc2libGU6bm90KC51aS1jb2xsYXBzaWJsZS1jb2xsYXBzZWQpXCIpLmNvbGxhcHNpYmxlKFwiY29sbGFwc2VcIil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7YS5leHRlbmQodGhpcyx7X2NsYXNzZXM6XCJcIn0pLGMuZW5oYW5jZWR8fChiLmFkZENsYXNzKFwidWktY29sbGFwc2libGUtc2V0IFwiK3RoaXMuX3RoZW1lQ2xhc3NGcm9tT3B0aW9uKFwidWktZ3JvdXAtdGhlbWUtXCIsYy50aGVtZSkrXCIgXCIrKGMuY29ybmVycyYmYy5pbnNldD9cInVpLWNvcm5lci1hbGwgXCI6XCJcIikpLHRoaXMuZWxlbWVudC5maW5kKGEubW9iaWxlLmNvbGxhcHNpYmxlLmluaXRTZWxlY3RvcikuY29sbGFwc2libGUoKSksdGhpcy5fb24oYix7Y29sbGFwc2libGVleHBhbmQ6XCJfaGFuZGxlQ29sbGFwc2libGVFeHBhbmRcIn0pfSxfdGhlbWVDbGFzc0Zyb21PcHRpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9cIm5vbmVcIj09PWI/XCJcIjphK2I6XCJcIn0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoKCEwKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oYykuZmlsdGVyKFwiOmpxbURhdGEoY29sbGFwc2VkPSdmYWxzZScpXCIpLmNvbGxhcHNpYmxlKFwiZXhwYW5kXCIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYyxkLGU9dGhpcy5lbGVtZW50LGY9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ncm91cC10aGVtZS1cIixhLnRoZW1lKTtyZXR1cm4gZiYmZS5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLWdyb3VwLXRoZW1lLVwiLHRoaXMub3B0aW9ucy50aGVtZSkpLmFkZENsYXNzKGYpLGEuaW5zZXQhPT1iJiYoZD0hKCFhLmluc2V0fHwhYS5jb3JuZXJzJiYhdGhpcy5vcHRpb25zLmNvcm5lcnMpKSxhLmNvcm5lcnMhPT1iJiYoZD0hKCFhLmNvcm5lcnN8fCFhLmluc2V0JiYhdGhpcy5vcHRpb25zLmluc2V0KSksZCE9PWImJmUudG9nZ2xlQ2xhc3MoXCJ1aS1jb3JuZXItYWxsXCIsZCksYz10aGlzLl9zdXBlcihhKSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oXCI6bW9iaWxlLWNvbGxhcHNpYmxlXCIpLmNvbGxhcHNpYmxlKFwicmVmcmVzaFwiKSxjfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudDt0aGlzLl9yZW1vdmVGaXJzdExhc3RDbGFzc2VzKGEuY2hpbGRyZW4oYykpLGEucmVtb3ZlQ2xhc3MoXCJ1aS1jb2xsYXBzaWJsZS1zZXQgdWktY29ybmVyLWFsbCBcIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLWdyb3VwLXRoZW1lLVwiLHRoaXMub3B0aW9ucy50aGVtZSkpLmNoaWxkcmVuKFwiOm1vYmlsZS1jb2xsYXBzaWJsZVwiKS5jb2xsYXBzaWJsZShcImRlc3Ryb3lcIil9LF9yZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMuZWxlbWVudC5jaGlsZHJlbihjKTt0aGlzLmVsZW1lbnQuZmluZChhLm1vYmlsZS5jb2xsYXBzaWJsZS5pbml0U2VsZWN0b3IpLm5vdChcIi51aS1jb2xsYXBzaWJsZVwiKS5jb2xsYXBzaWJsZSgpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoZCx0aGlzLl9nZXRWaXNpYmxlcyhkLGIpLGIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaCghMSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuYWRkRmlyc3RMYXN0Q2xhc3NlcykpfShhKSxmdW5jdGlvbihhKXthLmZuLmZpZWxkY29udGFpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZENsYXNzKFwidWktZmllbGQtY29udGFpblwiKX19KGEpLGZ1bmN0aW9uKGEpe2EuZm4uZ3JpZD1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGMsZCxlPWEodGhpcyksZj1hLmV4dGVuZCh7Z3JpZDpudWxsfSxiKSxnPWUuY2hpbGRyZW4oKSxoPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxpPWYuZ3JpZDtpZighaSlpZihnLmxlbmd0aDw9NSlmb3IoZCBpbiBoKWhbZF09PT1nLmxlbmd0aCYmKGk9ZCk7ZWxzZSBpPVwiYVwiLGUuYWRkQ2xhc3MoXCJ1aS1ncmlkLWR1b1wiKTtjPWhbaV0sZS5hZGRDbGFzcyhcInVpLWdyaWQtXCIraSksZy5maWx0ZXIoXCI6bnRoLWNoaWxkKFwiK2MrXCJuKzEpXCIpLmFkZENsYXNzKFwidWktYmxvY2stYVwiKSxjPjEmJmcuZmlsdGVyKFwiOm50aC1jaGlsZChcIitjK1wibisyKVwiKS5hZGRDbGFzcyhcInVpLWJsb2NrLWJcIiksYz4yJiZnLmZpbHRlcihcIjpudGgtY2hpbGQoXCIrYytcIm4rMylcIikuYWRkQ2xhc3MoXCJ1aS1ibG9jay1jXCIpLGM+MyYmZy5maWx0ZXIoXCI6bnRoLWNoaWxkKFwiK2MrXCJuKzQpXCIpLmFkZENsYXNzKFwidWktYmxvY2stZFwiKSxjPjQmJmcuZmlsdGVyKFwiOm50aC1jaGlsZChcIitjK1wibis1KVwiKS5hZGRDbGFzcyhcInVpLWJsb2NrLWVcIil9KX19KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoXCJtb2JpbGUubmF2YmFyXCIse29wdGlvbnM6e2ljb25wb3M6XCJ0b3BcIixncmlkOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLmVsZW1lbnQsZT1kLmZpbmQoXCJhLCBidXR0b25cIiksZj1lLmZpbHRlcihcIjpqcW1EYXRhKGljb24pXCIpLmxlbmd0aD90aGlzLm9wdGlvbnMuaWNvbnBvczpiO2QuYWRkQ2xhc3MoXCJ1aS1uYXZiYXJcIikuYXR0cihcInJvbGVcIixcIm5hdmlnYXRpb25cIikuZmluZChcInVsXCIpLmpxbUVuaGFuY2VhYmxlKCkuZ3JpZCh7Z3JpZDp0aGlzLm9wdGlvbnMuZ3JpZH0pLGUuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLFwiaWNvblwiKSxjPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLFwidGhlbWVcIiksZD1cInVpLWJ0blwiO2MmJihkKz1cIiB1aS1idG4tXCIrYyksYiYmKGQrPVwiIHVpLWljb24tXCIrYitcIiB1aS1idG4taWNvbi1cIitmKSxhKHRoaXMpLmFkZENsYXNzKGQpfSksZC5kZWxlZ2F0ZShcImFcIixcInZjbGlja1wiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLmhhc0NsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIil8fGIuaGFzQ2xhc3MoXCJ1aS1kaXNhYmxlZFwiKXx8Yi5oYXNDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl8fChlLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxiLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxhKGMpLm9uZShcInBhZ2VoaWRlXCIsZnVuY3Rpb24oKXtiLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pKX0pLGQuY2xvc2VzdChcIi51aS1wYWdlXCIpLmJpbmQoXCJwYWdlYmVmb3Jlc2hvd1wiLGZ1bmN0aW9uKCl7ZS5maWx0ZXIoXCIudWktc3RhdGUtcGVyc2lzdFwiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KX0oYSksZnVuY3Rpb24oYSl7dmFyIGI9YS5tb2JpbGUuZ2V0QXR0cmlidXRlO2Eud2lkZ2V0KFwibW9iaWxlLmxpc3R2aWV3XCIsYS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsY291bnRUaGVtZTpudWxsLGRpdmlkZXJUaGVtZTpudWxsLGljb246XCJjYXJhdC1yXCIsc3BsaXRJY29uOlwiY2FyYXQtclwiLHNwbGl0VGhlbWU6bnVsbCxjb3JuZXJzOiEwLHNoYWRvdzohMCxpbnNldDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1cIlwiO2IrPWEub3B0aW9ucy5pbnNldD9cIiB1aS1saXN0dmlldy1pbnNldFwiOlwiXCIsYS5vcHRpb25zLmluc2V0JiYoYis9YS5vcHRpb25zLmNvcm5lcnM/XCIgdWktY29ybmVyLWFsbFwiOlwiXCIsYis9YS5vcHRpb25zLnNoYWRvdz9cIiB1aS1zaGFkb3dcIjpcIlwiKSxhLmVsZW1lbnQuYWRkQ2xhc3MoXCIgdWktbGlzdHZpZXdcIitiKSxhLnJlZnJlc2goITApfSxfZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT17fTtmb3IoZVtjXT1lW2RdPSEwO2E7KXtpZihlW2Eubm9kZU5hbWVdKXJldHVybiBhO2E9YVtiXX1yZXR1cm4gbnVsbH0sX2FkZFRodW1iQ2xhc3NlczpmdW5jdGlvbihiKXt2YXIgYyxkLGU9Yi5sZW5ndGg7Zm9yKGM9MDtlPmM7YysrKWQ9YSh0aGlzLl9maW5kRmlyc3RFbGVtZW50QnlUYWdOYW1lKGJbY10uZmlyc3RDaGlsZCxcIm5leHRTaWJsaW5nXCIsXCJpbWdcIixcIklNR1wiKSksZC5sZW5ndGgmJmEodGhpcy5fZmluZEZpcnN0RWxlbWVudEJ5VGFnTmFtZShkWzBdLnBhcmVudE5vZGUsXCJwYXJlbnROb2RlXCIsXCJsaVwiLFwiTElcIikpLmFkZENsYXNzKGQuaGFzQ2xhc3MoXCJ1aS1saS1pY29uXCIpP1widWktbGktaGFzLWljb25cIjpcInVpLWxpLWhhcy10aHVtYlwiKX0sX2dldENoaWxkcmVuQnlUYWdOYW1lOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1bXSxmPXt9O2ZvcihmW2NdPWZbZF09ITAsYj1iLmZpcnN0Q2hpbGQ7YjspZltiLm5vZGVOYW1lXSYmZS5wdXNoKGIpLGI9Yi5uZXh0U2libGluZztyZXR1cm4gYShlKX0sX2JlZm9yZUxpc3R2aWV3UmVmcmVzaDphLm5vb3AsX2FmdGVyTGlzdHZpZXdSZWZyZXNoOmEubm9vcCxyZWZyZXNoOmZ1bmN0aW9uKGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseD10aGlzLm9wdGlvbnMseT10aGlzLmVsZW1lbnQsej0hIWEubm9kZU5hbWUoeVswXSxcIm9sXCIpLEE9eS5hdHRyKFwic3RhcnRcIiksQj17fSxDPXkuZmluZChcIi51aS1saS1jb3VudFwiKSxEPWIoeVswXSxcImNvdW50dGhlbWVcIil8fHRoaXMub3B0aW9ucy5jb3VudFRoZW1lLEU9RD9cInVpLWJvZHktXCIrRDpcInVpLWJvZHktaW5oZXJpdFwiO2Zvcih4LnRoZW1lJiZ5LmFkZENsYXNzKFwidWktZ3JvdXAtdGhlbWUtXCIreC50aGVtZSkseiYmKEF8fDA9PT1BKSYmKG49cGFyc2VJbnQoQSwxMCktMSx5LmNzcyhcImNvdW50ZXItcmVzZXRcIixcImxpc3RudW1iZXJpbmcgXCIrbikpLHRoaXMuX2JlZm9yZUxpc3R2aWV3UmVmcmVzaCgpLHc9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoeVswXSxcImxpXCIsXCJMSVwiKSxlPTAsZj13Lmxlbmd0aDtmPmU7ZSsrKWc9dy5lcShlKSxoPVwiXCIsKGN8fGdbMF0uY2xhc3NOYW1lLnNlYXJjaCgvXFxidWktbGktc3RhdGljXFxifFxcYnVpLWxpLWRpdmlkZXJcXGIvKTwwKSYmKGw9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUoZ1swXSxcImFcIixcIkFcIiksbT1cImxpc3QtZGl2aWRlclwiPT09YihnWzBdLFwicm9sZVwiKSxwPWcuYXR0cihcInZhbHVlXCIpLGk9YihnWzBdLFwidGhlbWVcIiksbC5sZW5ndGgmJmxbMF0uY2xhc3NOYW1lLnNlYXJjaCgvXFxidWktYnRuXFxiLyk8MCYmIW0/KGo9YihnWzBdLFwiaWNvblwiKSxrPWo9PT0hMT8hMTpqfHx4Lmljb24sbC5yZW1vdmVDbGFzcyhcInVpLWxpbmtcIiksZD1cInVpLWJ0blwiLGkmJihkKz1cIiB1aS1idG4tXCIraSksbC5sZW5ndGg+MT8oaD1cInVpLWxpLWhhcy1hbHRcIixxPWwubGFzdCgpLHI9YihxWzBdLFwidGhlbWVcIil8fHguc3BsaXRUaGVtZXx8YihnWzBdLFwidGhlbWVcIiwhMCkscz1yP1wiIHVpLWJ0bi1cIityOlwiXCIsdD1iKHFbMF0sXCJpY29uXCIpfHxiKGdbMF0sXCJpY29uXCIpfHx4LnNwbGl0SWNvbix1PVwidWktYnRuIHVpLWJ0bi1pY29uLW5vdGV4dCB1aS1pY29uLVwiK3QrcyxxLmF0dHIoXCJ0aXRsZVwiLGEudHJpbShxLmdldEVuY29kZWRUZXh0KCkpKS5hZGRDbGFzcyh1KS5lbXB0eSgpLGw9bC5maXJzdCgpKTprJiYoZCs9XCIgdWktYnRuLWljb24tcmlnaHQgdWktaWNvbi1cIitrKSxsLmFkZENsYXNzKGQpKTptPyh2PWIoZ1swXSxcInRoZW1lXCIpfHx4LmRpdmlkZXJUaGVtZXx8eC50aGVtZSxoPVwidWktbGktZGl2aWRlciB1aS1iYXItXCIrKHY/djpcImluaGVyaXRcIiksZy5hdHRyKFwicm9sZVwiLFwiaGVhZGluZ1wiKSk6bC5sZW5ndGg8PTAmJihoPVwidWktbGktc3RhdGljIHVpLWJvZHktXCIrKGk/aTpcImluaGVyaXRcIikpLHomJnAmJihvPXBhcnNlSW50KHAsMTApLTEsZy5jc3MoXCJjb3VudGVyLXJlc2V0XCIsXCJsaXN0bnVtYmVyaW5nIFwiK28pKSksQltoXXx8KEJbaF09W10pLEJbaF0ucHVzaChnWzBdKTtmb3IoaCBpbiBCKWEoQltoXSkuYWRkQ2xhc3MoaCk7Qy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KFwibGlcIikuYWRkQ2xhc3MoXCJ1aS1saS1oYXMtY291bnRcIil9KSxFJiZDLm5vdChcIltjbGFzcyo9J3VpLWJvZHktJ11cIikuYWRkQ2xhc3MoRSksdGhpcy5fYWRkVGh1bWJDbGFzc2VzKHcpLHRoaXMuX2FkZFRodW1iQ2xhc3Nlcyh3LmZpbmQoXCIudWktYnRuXCIpKSx0aGlzLl9hZnRlckxpc3R2aWV3UmVmcmVzaCgpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXModyx0aGlzLl9nZXRWaXNpYmxlcyh3LGMpLGMpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXt2YXIgYz1hLnRyaW0oYi50ZXh0KCkpfHxudWxsO3JldHVybiBjP2M9Yy5zbGljZSgwLDEpLnRvVXBwZXJDYXNlKCk6bnVsbH1hLndpZGdldChcIm1vYmlsZS5saXN0dmlld1wiLGEubW9iaWxlLmxpc3R2aWV3LHtvcHRpb25zOnthdXRvZGl2aWRlcnM6ITEsYXV0b2RpdmlkZXJzU2VsZWN0b3I6Yn0sX2JlZm9yZUxpc3R2aWV3UmVmcmVzaDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvZGl2aWRlcnMmJih0aGlzLl9yZXBsYWNlRGl2aWRlcnMoKSx0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cykpfSxfcmVwbGFjZURpdmlkZXJzOmZ1bmN0aW9uKCl7dmFyIGIsZCxlLGYsZyxoPW51bGwsaT10aGlzLmVsZW1lbnQ7Zm9yKGkuY2hpbGRyZW4oXCJsaTpqcW1EYXRhKHJvbGU9J2xpc3QtZGl2aWRlcicpXCIpLnJlbW92ZSgpLGQ9aS5jaGlsZHJlbihcImxpXCIpLGI9MDtiPGQubGVuZ3RoO2IrKyllPWRbYl0sZj10aGlzLm9wdGlvbnMuYXV0b2RpdmlkZXJzU2VsZWN0b3IoYShlKSksZiYmaCE9PWYmJihnPWMuY3JlYXRlRWxlbWVudChcImxpXCIpLGcuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShmKSksZy5zZXRBdHRyaWJ1dGUoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZVwiLFwibGlzdC1kaXZpZGVyXCIpLGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZyxlKSksaD1mfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj0vKF58XFxzKXVpLWxpLWRpdmlkZXIoJHxcXHMpLyxjPS8oXnxcXHMpdWktc2NyZWVuLWhpZGRlbigkfFxccykvO2Eud2lkZ2V0KFwibW9iaWxlLmxpc3R2aWV3XCIsYS5tb2JpbGUubGlzdHZpZXcse29wdGlvbnM6e2hpZGVEaXZpZGVyczohMX0sX2FmdGVyTGlzdHZpZXdSZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGEsZCxlLGY9ITA7aWYodGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpLHRoaXMub3B0aW9ucy5oaWRlRGl2aWRlcnMpZm9yKGE9dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUodGhpcy5lbGVtZW50WzBdLFwibGlcIixcIkxJXCIpLGQ9YS5sZW5ndGgtMTtkPi0xO2QtLSllPWFbZF0sZS5jbGFzc05hbWUubWF0Y2goYik/KGYmJihlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZStcIiB1aS1zY3JlZW4taGlkZGVuXCIpLGY9ITApOmUuY2xhc3NOYW1lLm1hdGNoKGMpfHwoZj0hMSl9fSl9KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLm5vanM9ZnVuY3Rpb24oYil7YShcIjpqcW1EYXRhKHJvbGU9J25vanMnKVwiLGIpLmFkZENsYXNzKFwidWktbm9qc1wiKX19KGEpLGZ1bmN0aW9uKGEpe2EubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQ9e19oYW5kbGVGb3JtUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdChcImZvcm1cIikse3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGVsYXkoXCJfcmVzZXRcIil9fSl9fX0oYSksZnVuY3Rpb24oYSxiKXt2YXIgYz1hLm1vYmlsZS5wYXRoLmhhc2hUb1NlbGVjdG9yO2Eud2lkZ2V0KFwibW9iaWxlLmNoZWNrYm94cmFkaW9cIixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOlwiaW5wdXQ6bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJyApIClbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddOm5vdCggOmpxbURhdGEocm9sZT0nZmxpcHN3aXRjaCcgKSlcIixvcHRpb25zOnt0aGVtZTpcImluaGVyaXRcIixtaW5pOiExLHdyYXBwZXJDbGFzczpudWxsLGVuaGFuY2VkOiExLGljb25wb3M6XCJsZWZ0XCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMsZD1mdW5jdGlvbihhLGIpe3JldHVybiBhLmpxbURhdGEoYil8fGEuY2xvc2VzdChcImZvcm0sIGZpZWxkc2V0XCIpLmpxbURhdGEoYil9LGU9dGhpcy5vcHRpb25zLmVuaGFuY2VkP3tlbGVtZW50OnRoaXMuZWxlbWVudC5zaWJsaW5ncyhcImxhYmVsXCIpLGlzUGFyZW50OiExfTp0aGlzLl9maW5kTGFiZWwoKSxmPWJbMF0udHlwZSxnPVwidWktXCIrZitcIi1vblwiLGg9XCJ1aS1cIitmK1wiLW9mZlwiOyhcImNoZWNrYm94XCI9PT1mfHxcInJhZGlvXCI9PT1mKSYmKHRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCYmKHRoaXMub3B0aW9ucy5kaXNhYmxlZD0hMCksYy5pY29ucG9zPWQoYixcImljb25wb3NcIil8fGUuZWxlbWVudC5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcImljb25wb3NcIil8fGMuaWNvbnBvcyxjLm1pbmk9ZChiLFwibWluaVwiKXx8Yy5taW5pLGEuZXh0ZW5kKHRoaXMse2lucHV0OmIsbGFiZWw6ZS5lbGVtZW50LGxhYmVsSXNQYXJlbnQ6ZS5pc1BhcmVudCxpbnB1dHR5cGU6ZixjaGVja2VkQ2xhc3M6Zyx1bmNoZWNrZWRDbGFzczpofSksdGhpcy5vcHRpb25zLmVuaGFuY2VkfHx0aGlzLl9lbmhhbmNlKCksdGhpcy5fb24oZS5lbGVtZW50LHt2bW91c2VvdmVyOlwiX2hhbmRsZUxhYmVsVk1vdXNlT3ZlclwiLHZjbGljazpcIl9oYW5kbGVMYWJlbFZDbGlja1wifSksdGhpcy5fb24oYix7dm1vdXNlZG93bjpcIl9jYWNoZVZhbHNcIix2Y2xpY2s6XCJfaGFuZGxlSW5wdXRWQ2xpY2tcIixmb2N1czpcIl9oYW5kbGVJbnB1dEZvY3VzXCIsYmx1cjpcIl9oYW5kbGVJbnB1dEJsdXJcIn0pLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMucmVmcmVzaCgpKX0sX2ZpbmRMYWJlbDpmdW5jdGlvbigpe3ZhciBiLGQsZSxmPXRoaXMuZWxlbWVudCxnPWZbMF0ubGFiZWxzO3JldHVybiBnJiZnLmxlbmd0aD4wPyhkPWEoZ1swXSksZT1hLmNvbnRhaW5zKGRbMF0sZlswXSkpOihiPWYuY2xvc2VzdChcImxhYmVsXCIpLGU9Yi5sZW5ndGg+MCxkPWU/YjphKHRoaXMuZG9jdW1lbnRbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsYWJlbFwiKSkuZmlsdGVyKFwiW2Zvcj0nXCIrYyhmWzBdLmlkKStcIiddXCIpLmZpcnN0KCkpLHtlbGVtZW50OmQsaXNQYXJlbnQ6ZX19LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5sYWJlbC5hZGRDbGFzcyhcInVpLWJ0biB1aS1jb3JuZXItYWxsXCIpLHRoaXMubGFiZWxJc1BhcmVudD90aGlzLmlucHV0LmFkZCh0aGlzLmxhYmVsKS53cmFwQWxsKHRoaXMuX3dyYXBwZXIoKSk6KHRoaXMuZWxlbWVudC53cmFwKHRoaXMuX3dyYXBwZXIoKSksdGhpcy5lbGVtZW50LnBhcmVudCgpLnByZXBlbmQodGhpcy5sYWJlbCkpLHRoaXMuX3NldE9wdGlvbnMoe3RoZW1lOnRoaXMub3B0aW9ucy50aGVtZSxpY29ucG9zOnRoaXMub3B0aW9ucy5pY29ucG9zLG1pbmk6dGhpcy5vcHRpb25zLm1pbml9KX0sX3dyYXBwZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYShcIjxkaXYgY2xhc3M9J1wiKyh0aGlzLm9wdGlvbnMud3JhcHBlckNsYXNzP3RoaXMub3B0aW9ucy53cmFwcGVyQ2xhc3M6XCJcIikrXCIgdWktXCIrdGhpcy5pbnB1dHR5cGUrKHRoaXMub3B0aW9ucy5kaXNhYmxlZD9cIiB1aS1zdGF0ZS1kaXNhYmxlZFwiOlwiXCIpK1wiJyA+PC9kaXY+XCIpfSxfaGFuZGxlSW5wdXRGb2N1czpmdW5jdGlvbigpe3RoaXMubGFiZWwuYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9LF9oYW5kbGVJbnB1dEJsdXI6ZnVuY3Rpb24oKXt0aGlzLmxhYmVsLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxfaGFuZGxlSW5wdXRWQ2xpY2s6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcChcImNoZWNrZWRcIix0aGlzLmVsZW1lbnQuaXMoXCI6Y2hlY2tlZFwiKSksdGhpcy5fZ2V0SW5wdXRTZXQoKS5ub3QodGhpcy5lbGVtZW50KS5wcm9wKFwiY2hlY2tlZFwiLCExKSx0aGlzLl91cGRhdGVBbGwoITApfSxfaGFuZGxlTGFiZWxWTW91c2VPdmVyOmZ1bmN0aW9uKGEpe3RoaXMubGFiZWwucGFyZW50KCkuaGFzQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKSYmYS5zdG9wUHJvcGFnYXRpb24oKX0sX2hhbmRsZUxhYmVsVkNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudDtyZXR1cm4gYi5pcyhcIjpkaXNhYmxlZFwiKT92b2lkIGEucHJldmVudERlZmF1bHQoKToodGhpcy5fY2FjaGVWYWxzKCksYi5wcm9wKFwiY2hlY2tlZFwiLFwicmFkaW9cIj09PXRoaXMuaW5wdXR0eXBlJiYhMHx8IWIucHJvcChcImNoZWNrZWRcIikpLGIudHJpZ2dlckhhbmRsZXIoXCJjbGlja1wiKSx0aGlzLl9nZXRJbnB1dFNldCgpLm5vdChiKS5wcm9wKFwiY2hlY2tlZFwiLCExKSx0aGlzLl91cGRhdGVBbGwoKSwhMSl9LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1wiY2FjaGVWYWxcIix0aGlzLmNoZWNrZWQpfSl9LF9nZXRJbnB1dFNldDpmdW5jdGlvbigpe3ZhciBiLGQsZT10aGlzLmVsZW1lbnRbMF0sZj1lLm5hbWUsZz1lLmZvcm0saD10aGlzLmVsZW1lbnQucGFyZW50cygpLmxhc3QoKS5nZXQoMCksaT10aGlzLmVsZW1lbnQ7cmV0dXJuIGYmJlwicmFkaW9cIj09PXRoaXMuaW5wdXR0eXBlJiZoJiYoYj1cImlucHV0W3R5cGU9J3JhZGlvJ11bbmFtZT0nXCIrYyhmKStcIiddXCIsZz8oZD1nLmdldEF0dHJpYnV0ZShcImlkXCIpLGQmJihpPWEoYitcIltmb3JtPSdcIitjKGQpK1wiJ11cIixoKSksaT1hKGcpLmZpbmQoYikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9ybT09PWd9KS5hZGQoaSkpOmk9YShiLGgpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiF0aGlzLmZvcm19KSksaX0sX3VwZGF0ZUFsbDpmdW5jdGlvbihiKXt2YXIgYz10aGlzO3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyk7IXRoaXMuY2hlY2tlZCYmXCJjaGVja2JveFwiIT09Yy5pbnB1dHR5cGV8fGJ8fGQudHJpZ2dlcihcImNoYW5nZVwiKX0pLmNoZWNrYm94cmFkaW8oXCJyZWZyZXNoXCIpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0sX2hhc0ljb246ZnVuY3Rpb24oKXt2YXIgYixjLGQ9YS5tb2JpbGUuY29udHJvbGdyb3VwO3JldHVybiBkJiYoYj10aGlzLmVsZW1lbnQuY2xvc2VzdChcIjptb2JpbGUtY29udHJvbGdyb3VwLFwiK2QucHJvdG90eXBlLmluaXRTZWxlY3RvciksYi5sZW5ndGg+MCk/KGM9YS5kYXRhKGJbMF0sXCJtb2JpbGUtY29udHJvbGdyb3VwXCIpLFwiaG9yaXpvbnRhbFwiIT09KGM/Yy5vcHRpb25zLnR5cGU6Yi5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInR5cGVcIikpKTohMH0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudFswXS5jaGVja2VkLGM9YS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MsZD1cInVpLWJ0bi1pY29uLVwiK3RoaXMub3B0aW9ucy5pY29ucG9zLGU9W10sZj1bXTt0aGlzLl9oYXNJY29uKCk/KGYucHVzaChjKSxlLnB1c2goZCkpOihmLnB1c2goZCksKGI/ZTpmKS5wdXNoKGMpKSxiPyhlLnB1c2godGhpcy5jaGVja2VkQ2xhc3MpLGYucHVzaCh0aGlzLnVuY2hlY2tlZENsYXNzKSk6KGUucHVzaCh0aGlzLnVuY2hlY2tlZENsYXNzKSxmLnB1c2godGhpcy5jaGVja2VkQ2xhc3MpKSx0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIix0aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIpKSx0aGlzLmxhYmVsLmFkZENsYXNzKGUuam9pbihcIiBcIikpLnJlbW92ZUNsYXNzKGYuam9pbihcIiBcIikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYWJlbC5wYXJlbnQoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5sYWJlbCxkPXRoaXMub3B0aW9ucyxlPXRoaXMud2lkZ2V0KCksZj10aGlzLl9oYXNJY29uKCk7YS5kaXNhYmxlZCE9PWImJih0aGlzLmlucHV0LnByb3AoXCJkaXNhYmxlZFwiLCEhYS5kaXNhYmxlZCksZS50b2dnbGVDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIsISFhLmRpc2FibGVkKSksYS5taW5pIT09YiYmZS50b2dnbGVDbGFzcyhcInVpLW1pbmlcIiwhIWEubWluaSksYS50aGVtZSE9PWImJmMucmVtb3ZlQ2xhc3MoXCJ1aS1idG4tXCIrZC50aGVtZSkuYWRkQ2xhc3MoXCJ1aS1idG4tXCIrYS50aGVtZSksYS53cmFwcGVyQ2xhc3MhPT1iJiZlLnJlbW92ZUNsYXNzKGQud3JhcHBlckNsYXNzKS5hZGRDbGFzcyhhLndyYXBwZXJDbGFzcyksYS5pY29ucG9zIT09YiYmZj9jLnJlbW92ZUNsYXNzKFwidWktYnRuLWljb24tXCIrZC5pY29ucG9zKS5hZGRDbGFzcyhcInVpLWJ0bi1pY29uLVwiK2EuaWNvbnBvcyk6Znx8Yy5yZW1vdmVDbGFzcyhcInVpLWJ0bi1pY29uLVwiK2QuaWNvbnBvcyksdGhpcy5fc3VwZXIoYSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoXCJtb2JpbGUuYnV0dG9uXCIse2luaXRTZWxlY3RvcjpcImlucHV0W3R5cGU9J2J1dHRvbiddLCBpbnB1dFt0eXBlPSdzdWJtaXQnXSwgaW5wdXRbdHlwZT0ncmVzZXQnXVwiLG9wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjpudWxsLGljb25wb3M6XCJsZWZ0XCIsaWNvbnNoYWRvdzohMSxjb3JuZXJzOiEwLHNoYWRvdzohMCxpbmxpbmU6bnVsbCxtaW5pOm51bGwsd3JhcHBlckNsYXNzOm51bGwsZW5oYW5jZWQ6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuaXMoXCI6ZGlzYWJsZWRcIikmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITApLHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLGEuZXh0ZW5kKHRoaXMse3dyYXBwZXI6dGhpcy5lbGVtZW50LnBhcmVudCgpfSksdGhpcy5fb24oe2ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sYmx1cjpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9fSksdGhpcy5yZWZyZXNoKCEwKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQud3JhcCh0aGlzLl9idXR0b24oKSl9LF9idXR0b246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLl9nZXRJY29uQ2xhc3Nlcyh0aGlzLm9wdGlvbnMpO3JldHVybiBhKFwiPGRpdiBjbGFzcz0ndWktYnRuIHVpLWlucHV0LWJ0blwiKyhiLndyYXBwZXJDbGFzcz9cIiBcIitiLndyYXBwZXJDbGFzczpcIlwiKSsoYi50aGVtZT9cIiB1aS1idG4tXCIrYi50aGVtZTpcIlwiKSsoYi5jb3JuZXJzP1wiIHVpLWNvcm5lci1hbGxcIjpcIlwiKSsoYi5zaGFkb3c/XCIgdWktc2hhZG93XCI6XCJcIikrKGIuaW5saW5lP1wiIHVpLWJ0bi1pbmxpbmVcIjpcIlwiKSsoYi5taW5pP1wiIHVpLW1pbmlcIjpcIlwiKSsoYi5kaXNhYmxlZD9cIiB1aS1zdGF0ZS1kaXNhYmxlZFwiOlwiXCIpKyhjP1wiIFwiK2M6XCJcIikrXCInID5cIit0aGlzLmVsZW1lbnQudmFsKCkrXCI8L2Rpdj5cIil9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndyYXBwZXJ9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lmluc2VydEJlZm9yZSh0aGlzLndyYXBwZXIpLHRoaXMud3JhcHBlci5yZW1vdmUoKX0sX2dldEljb25DbGFzc2VzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmljb24/XCJ1aS1pY29uLVwiK2EuaWNvbisoYS5pY29uc2hhZG93P1wiIHVpLXNoYWRvdy1pY29uXCI6XCJcIikrXCIgdWktYnRuLWljb24tXCIrYS5pY29ucG9zOlwiXCJ9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMud2lkZ2V0KCk7Yy50aGVtZSE9PWImJmQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLnRoZW1lKS5hZGRDbGFzcyhcInVpLWJ0bi1cIitjLnRoZW1lKSxjLmNvcm5lcnMhPT1iJiZkLnRvZ2dsZUNsYXNzKFwidWktY29ybmVyLWFsbFwiLGMuY29ybmVycyksYy5zaGFkb3chPT1iJiZkLnRvZ2dsZUNsYXNzKFwidWktc2hhZG93XCIsYy5zaGFkb3cpLGMuaW5saW5lIT09YiYmZC50b2dnbGVDbGFzcyhcInVpLWJ0bi1pbmxpbmVcIixjLmlubGluZSksYy5taW5pIT09YiYmZC50b2dnbGVDbGFzcyhcInVpLW1pbmlcIixjLm1pbmkpLGMuZGlzYWJsZWQhPT1iJiYodGhpcy5lbGVtZW50LnByb3AoXCJkaXNhYmxlZFwiLGMuZGlzYWJsZWQpLGQudG9nZ2xlQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLGMuZGlzYWJsZWQpKSwoYy5pY29uIT09Ynx8Yy5pY29uc2hhZG93IT09Ynx8Yy5pY29ucG9zIT09YikmJmQucmVtb3ZlQ2xhc3ModGhpcy5fZ2V0SWNvbkNsYXNzZXModGhpcy5vcHRpb25zKSkuYWRkQ2xhc3ModGhpcy5fZ2V0SWNvbkNsYXNzZXMoYS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGMpKSksdGhpcy5fc3VwZXIoYyl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIpO3RoaXMub3B0aW9ucy5pY29uJiZcIm5vdGV4dFwiPT09dGhpcy5vcHRpb25zLmljb25wb3MmJnRoaXMuZWxlbWVudC5hdHRyKFwidGl0bGVcIikmJnRoaXMuZWxlbWVudC5hdHRyKFwidGl0bGVcIix0aGlzLmVsZW1lbnQudmFsKCkpLGJ8fChjPXRoaXMuZWxlbWVudC5kZXRhY2goKSxhKHRoaXMud3JhcHBlcikudGV4dCh0aGlzLmVsZW1lbnQudmFsKCkpLmFwcGVuZChjKSksdGhpcy5vcHRpb25zLmRpc2FibGVkIT09ZCYmdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ZH0pfX0pfShhKSxmdW5jdGlvbihhKXt2YXIgYj1hKFwibWV0YVtuYW1lPXZpZXdwb3J0XVwiKSxjPWIuYXR0cihcImNvbnRlbnRcIiksZD1jK1wiLG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ub1wiLGU9YytcIixtYXhpbXVtLXNjYWxlPTEwLCB1c2VyLXNjYWxhYmxlPXllc1wiLGY9Lyh1c2VyLXNjYWxhYmxlW1xcc10qPVtcXHNdKm5vKXwobWF4aW11bS1zY2FsZVtcXHNdKj1bXFxzXSoxKVskLFxcc10vLnRlc3QoYyk7YS5tb2JpbGUuem9vbT1hLmV4dGVuZCh7fSx7ZW5hYmxlZDohZixsb2NrZWQ6ITEsZGlzYWJsZTpmdW5jdGlvbihjKXtmfHxhLm1vYmlsZS56b29tLmxvY2tlZHx8KGIuYXR0cihcImNvbnRlbnRcIixkKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITEsYS5tb2JpbGUuem9vbS5sb2NrZWQ9Y3x8ITEpfSxlbmFibGU6ZnVuY3Rpb24oYyl7Znx8YS5tb2JpbGUuem9vbS5sb2NrZWQmJmMhPT0hMHx8KGIuYXR0cihcImNvbnRlbnRcIixlKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITAsYS5tb2JpbGUuem9vbS5sb2NrZWQ9ITEpfSxyZXN0b3JlOmZ1bmN0aW9uKCl7Znx8KGIuYXR0cihcImNvbnRlbnRcIixjKSxhLm1vYmlsZS56b29tLmVuYWJsZWQ9ITApfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KFwibW9iaWxlLnRleHRpbnB1dFwiLHtpbml0U2VsZWN0b3I6XCJpbnB1dFt0eXBlPSd0ZXh0J10saW5wdXRbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJyksaW5wdXRbdHlwZT0nbnVtYmVyJ10sOmpxbURhdGEodHlwZT0nbnVtYmVyJyksaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSxpbnB1dFt0eXBlPSdlbWFpbCddLGlucHV0W3R5cGU9J3VybCddLGlucHV0W3R5cGU9J3RlbCddLHRleHRhcmVhLGlucHV0W3R5cGU9J3RpbWUnXSxpbnB1dFt0eXBlPSdkYXRlJ10saW5wdXRbdHlwZT0nbW9udGgnXSxpbnB1dFt0eXBlPSd3ZWVrJ10saW5wdXRbdHlwZT0nZGF0ZXRpbWUnXSxpbnB1dFt0eXBlPSdkYXRldGltZS1sb2NhbCddLGlucHV0W3R5cGU9J2NvbG9yJ10saW5wdXQ6bm90KFt0eXBlXSksaW5wdXRbdHlwZT0nZmlsZSddXCIsb3B0aW9uczp7dGhlbWU6bnVsbCxjb3JuZXJzOiEwLG1pbmk6ITEscHJldmVudEZvY3VzWm9vbTovaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJBcHBsZVdlYktpdFwiKT4tMSx3cmFwcGVyQ2xhc3M6XCJcIixlbmhhbmNlZDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPXRoaXMuZWxlbWVudC5pcyhcIlt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJylcIiksZD1cIlRFWFRBUkVBXCI9PT10aGlzLmVsZW1lbnRbMF0udGFnTmFtZSxlPXRoaXMuZWxlbWVudC5pcyhcIltkYXRhLVwiKyhhLm1vYmlsZS5uc3x8XCJcIikrXCJ0eXBlPSdyYW5nZSddXCIpLGY9KHRoaXMuZWxlbWVudC5pcyhcImlucHV0XCIpfHx0aGlzLmVsZW1lbnQuaXMoXCJbZGF0YS1cIisoYS5tb2JpbGUubnN8fFwiXCIpK1widHlwZT0nc2VhcmNoJ11cIikpJiYhZTt0aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIpJiYoYi5kaXNhYmxlZD0hMCksYS5leHRlbmQodGhpcyx7Y2xhc3Nlczp0aGlzLl9jbGFzc2VzRnJvbU9wdGlvbnMoKSxpc1NlYXJjaDpjLGlzVGV4dGFyZWE6ZCxpc1JhbmdlOmUsaW5wdXROZWVkc1dyYXA6Zn0pLHRoaXMuX2F1dG9Db3JyZWN0KCksYi5lbmhhbmNlZHx8dGhpcy5fZW5oYW5jZSgpLHRoaXMuX29uKHtmb2N1czpcIl9oYW5kbGVGb2N1c1wiLGJsdXI6XCJfaGFuZGxlQmx1clwifSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldE9wdGlvbnMoe2Rpc2FibGVkOnRoaXMuZWxlbWVudC5pcyhcIjpkaXNhYmxlZFwiKX0pfSxfZW5oYW5jZTpmdW5jdGlvbigpe3ZhciBhPVtdO3RoaXMuaXNUZXh0YXJlYSYmYS5wdXNoKFwidWktaW5wdXQtdGV4dFwiKSwodGhpcy5pc1RleHRhcmVhfHx0aGlzLmlzUmFuZ2UpJiZhLnB1c2goXCJ1aS1zaGFkb3ctaW5zZXRcIiksdGhpcy5pbnB1dE5lZWRzV3JhcD90aGlzLmVsZW1lbnQud3JhcCh0aGlzLl93cmFwKCkpOmE9YS5jb25jYXQodGhpcy5jbGFzc2VzKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYS5qb2luKFwiIFwiKSl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlucHV0TmVlZHNXcmFwP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnR9LF9jbGFzc2VzRnJvbU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj1bXTtyZXR1cm4gYi5wdXNoKFwidWktYm9keS1cIisobnVsbD09PWEudGhlbWU/XCJpbmhlcml0XCI6YS50aGVtZSkpLGEuY29ybmVycyYmYi5wdXNoKFwidWktY29ybmVyLWFsbFwiKSxhLm1pbmkmJmIucHVzaChcInVpLW1pbmlcIiksYS5kaXNhYmxlZCYmYi5wdXNoKFwidWktc3RhdGUtZGlzYWJsZWRcIiksYS53cmFwcGVyQ2xhc3MmJmIucHVzaChhLndyYXBwZXJDbGFzcyksYlxyXG59LF93cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIGEoXCI8ZGl2IGNsYXNzPSdcIisodGhpcy5pc1NlYXJjaD9cInVpLWlucHV0LXNlYXJjaCBcIjpcInVpLWlucHV0LXRleHQgXCIpK3RoaXMuY2xhc3Nlcy5qb2luKFwiIFwiKStcIiB1aS1zaGFkb3ctaW5zZXQnPjwvZGl2PlwiKX0sX2F1dG9Db3JyZWN0OmZ1bmN0aW9uKCl7XCJ1bmRlZmluZWRcIj09dHlwZW9mIHRoaXMuZWxlbWVudFswXS5hdXRvY29ycmVjdHx8YS5zdXBwb3J0LnRvdWNoT3ZlcmZsb3d8fCh0aGlzLmVsZW1lbnRbMF0uc2V0QXR0cmlidXRlKFwiYXV0b2NvcnJlY3RcIixcIm9mZlwiKSx0aGlzLmVsZW1lbnRbMF0uc2V0QXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIsXCJvZmZcIikpfSxfaGFuZGxlQmx1cjpmdW5jdGlvbigpe3RoaXMud2lkZ2V0KCkucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyksdGhpcy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sX2hhbmRsZUZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCksdGhpcy53aWRnZXQoKS5hZGRDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy53aWRnZXQoKTt0aGlzLl9zdXBlcihhKSwoYS5kaXNhYmxlZCE9PWJ8fGEubWluaSE9PWJ8fGEuY29ybmVycyE9PWJ8fGEudGhlbWUhPT1ifHxhLndyYXBwZXJDbGFzcyE9PWIpJiYoYy5yZW1vdmVDbGFzcyh0aGlzLmNsYXNzZXMuam9pbihcIiBcIikpLHRoaXMuY2xhc3Nlcz10aGlzLl9jbGFzc2VzRnJvbU9wdGlvbnMoKSxjLmFkZENsYXNzKHRoaXMuY2xhc3Nlcy5qb2luKFwiIFwiKSkpLGEuZGlzYWJsZWQhPT1iJiZ0aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIsISFhLmRpc2FibGVkKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fCh0aGlzLmlucHV0TmVlZHNXcmFwJiZ0aGlzLmVsZW1lbnQudW53cmFwKCksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktaW5wdXQtdGV4dCBcIit0aGlzLmNsYXNzZXMuam9pbihcIiBcIikpKX19KX0oYSksZnVuY3Rpb24oYSxkKXthLndpZGdldChcIm1vYmlsZS5zbGlkZXJcIixhLmV4dGVuZCh7aW5pdFNlbGVjdG9yOlwiaW5wdXRbdHlwZT0ncmFuZ2UnXSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSwgOmpxbURhdGEocm9sZT0nc2xpZGVyJylcIix3aWRnZXRFdmVudFByZWZpeDpcInNsaWRlXCIsb3B0aW9uczp7dGhlbWU6bnVsbCx0cmFja1RoZW1lOm51bGwsY29ybmVyczohMCxtaW5pOiExLGhpZ2hsaWdodDohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBlLGYsZyxoLGksaixrLGwsbSxuLG89dGhpcyxwPXRoaXMuZWxlbWVudCxxPXRoaXMub3B0aW9ucy50cmFja1RoZW1lfHxhLm1vYmlsZS5nZXRBdHRyaWJ1dGUocFswXSxcInRoZW1lXCIpLHI9cT9cIiB1aS1iYXItXCIrcTpcIiB1aS1iYXItaW5oZXJpdFwiLHM9dGhpcy5vcHRpb25zLmNvcm5lcnN8fHAuanFtRGF0YShcImNvcm5lcnNcIik/XCIgdWktY29ybmVyLWFsbFwiOlwiXCIsdD10aGlzLm9wdGlvbnMubWluaXx8cC5qcW1EYXRhKFwibWluaVwiKT9cIiB1aS1taW5pXCI6XCJcIix1PXBbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx2PVwic2VsZWN0XCI9PT11LHc9cC5wYXJlbnQoKS5pcyhcIjpqcW1EYXRhKHJvbGU9J3Jhbmdlc2xpZGVyJylcIikseD12P1widWktc2xpZGVyLXN3aXRjaFwiOlwiXCIseT1wLmF0dHIoXCJpZFwiKSx6PWEoXCJbZm9yPSdcIit5K1wiJ11cIiksQT16LmF0dHIoXCJpZFwiKXx8eStcIi1sYWJlbFwiLEI9dj8wOnBhcnNlRmxvYXQocC5hdHRyKFwibWluXCIpKSxDPXY/cC5maW5kKFwib3B0aW9uXCIpLmxlbmd0aC0xOnBhcnNlRmxvYXQocC5hdHRyKFwibWF4XCIpKSxEPWIucGFyc2VGbG9hdChwLmF0dHIoXCJzdGVwXCIpfHwxKSxFPWMuY3JlYXRlRWxlbWVudChcImFcIiksRj1hKEUpLEc9Yy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLEg9YShHKSxJPXRoaXMub3B0aW9ucy5oaWdobGlnaHQmJiF2P2Z1bmN0aW9uKCl7dmFyIGI9Yy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBiLmNsYXNzTmFtZT1cInVpLXNsaWRlci1iZyBcIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxhKGIpLnByZXBlbmRUbyhIKX0oKTohMTtpZih6LmF0dHIoXCJpZFwiLEEpLHRoaXMuaXNUb2dnbGVTd2l0Y2g9dixFLnNldEF0dHJpYnV0ZShcImhyZWZcIixcIiNcIiksRy5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJhcHBsaWNhdGlvblwiKSxHLmNsYXNzTmFtZT1bdGhpcy5pc1RvZ2dsZVN3aXRjaD9cInVpLXNsaWRlciB1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0IFwiOlwidWktc2xpZGVyLXRyYWNrIHVpLXNoYWRvdy1pbnNldCBcIix4LHIscyx0XS5qb2luKFwiXCIpLEUuY2xhc3NOYW1lPVwidWktc2xpZGVyLWhhbmRsZVwiLEcuYXBwZW5kQ2hpbGQoRSksRi5hdHRyKHtyb2xlOlwic2xpZGVyXCIsXCJhcmlhLXZhbHVlbWluXCI6QixcImFyaWEtdmFsdWVtYXhcIjpDLFwiYXJpYS12YWx1ZW5vd1wiOnRoaXMuX3ZhbHVlKCksXCJhcmlhLXZhbHVldGV4dFwiOnRoaXMuX3ZhbHVlKCksdGl0bGU6dGhpcy5fdmFsdWUoKSxcImFyaWEtbGFiZWxsZWRieVwiOkF9KSxhLmV4dGVuZCh0aGlzLHtzbGlkZXI6SCxoYW5kbGU6Rixjb250cm9sOnAsdHlwZTp1LHN0ZXA6RCxtYXg6QyxtaW46Qix2YWx1ZWJnOkksaXNSYW5nZXNsaWRlcjp3LGRyYWdnaW5nOiExLGJlZm9yZVN0YXJ0Om51bGwsdXNlck1vZGlmaWVkOiExLG1vdXNlTW92ZWQ6ITF9KSx2KXtmb3Ioaz1wLmF0dHIoXCJ0YWJpbmRleFwiKSxrJiZGLmF0dHIoXCJ0YWJpbmRleFwiLGspLHAuYXR0cihcInRhYmluZGV4XCIsXCItMVwiKS5mb2N1cyhmdW5jdGlvbigpe2EodGhpcykuYmx1cigpLEYuZm9jdXMoKX0pLGY9Yy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGYuY2xhc3NOYW1lPVwidWktc2xpZGVyLWlubmVyb2Zmc2V0XCIsZz0wLGg9Ry5jaGlsZE5vZGVzLmxlbmd0aDtoPmc7ZysrKWYuYXBwZW5kQ2hpbGQoRy5jaGlsZE5vZGVzW2ddKTtmb3IoRy5hcHBlbmRDaGlsZChmKSxGLmFkZENsYXNzKFwidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZ1wiKSxlPXAuZmluZChcIm9wdGlvblwiKSxpPTAsaj1lLmxlbmd0aDtqPmk7aSsrKWw9aT9cImFcIjpcImJcIixtPWk/XCIgXCIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3M6XCJcIixuPWMuY3JlYXRlRWxlbWVudChcInNwYW5cIiksbi5jbGFzc05hbWU9W1widWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC1cIixsLG1dLmpvaW4oXCJcIiksbi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJpbWdcIiksbi5hcHBlbmRDaGlsZChjLmNyZWF0ZVRleHROb2RlKGVbaV0uaW5uZXJIVE1MKSksYShuKS5wcmVwZW5kVG8oSCk7by5fbGFiZWxzPWEoXCIudWktc2xpZGVyLWxhYmVsXCIsSCl9cC5hZGRDbGFzcyh2P1widWktc2xpZGVyLXN3aXRjaFwiOlwidWktc2xpZGVyLWlucHV0XCIpLHRoaXMuX29uKHAse2NoYW5nZTpcIl9jb250cm9sQ2hhbmdlXCIsa2V5dXA6XCJfY29udHJvbEtleXVwXCIsYmx1cjpcIl9jb250cm9sQmx1clwiLHZtb3VzZXVwOlwiX2NvbnRyb2xWTW91c2VVcFwifSksSC5iaW5kKFwidm1vdXNlZG93blwiLGEucHJveHkodGhpcy5fc2xpZGVyVk1vdXNlRG93bix0aGlzKSkuYmluZChcInZjbGlja1wiLCExKSx0aGlzLl9vbihjLHt2bW91c2Vtb3ZlOlwiX3ByZXZlbnREb2N1bWVudERyYWdcIn0pLHRoaXMuX29uKEguYWRkKGMpLHt2bW91c2V1cDpcIl9zbGlkZXJWTW91c2VVcFwifSksSC5pbnNlcnRBZnRlcihwKSx2fHx3fHwoZj10aGlzLm9wdGlvbnMubWluaT9cIjxkaXYgY2xhc3M9J3VpLXNsaWRlciB1aS1taW5pJz5cIjpcIjxkaXYgY2xhc3M9J3VpLXNsaWRlcic+XCIscC5hZGQoSCkud3JhcEFsbChmKSksdGhpcy5fb24odGhpcy5oYW5kbGUse3Ztb3VzZWRvd246XCJfaGFuZGxlVk1vdXNlRG93blwiLGtleWRvd246XCJfaGFuZGxlS2V5ZG93blwiLGtleXVwOlwiX2hhbmRsZUtleXVwXCJ9KSx0aGlzLmhhbmRsZS5iaW5kKFwidmNsaWNrXCIsITEpLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMucmVmcmVzaChkLGQsITApfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXthLnRoZW1lIT09ZCYmdGhpcy5fc2V0VGhlbWUoYS50aGVtZSksYS50cmFja1RoZW1lIT09ZCYmdGhpcy5fc2V0VHJhY2tUaGVtZShhLnRyYWNrVGhlbWUpLGEuY29ybmVycyE9PWQmJnRoaXMuX3NldENvcm5lcnMoYS5jb3JuZXJzKSxhLm1pbmkhPT1kJiZ0aGlzLl9zZXRNaW5pKGEubWluaSksYS5oaWdobGlnaHQhPT1kJiZ0aGlzLl9zZXRIaWdobGlnaHQoYS5oaWdobGlnaHQpLGEuZGlzYWJsZWQhPT1kJiZ0aGlzLl9zZXREaXNhYmxlZChhLmRpc2FibGVkKSx0aGlzLl9zdXBlcihhKX0sX2NvbnRyb2xDaGFuZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoXCJjb250cm9sY2hhbmdlXCIsYSk9PT0hMT8hMTp2b2lkKHRoaXMubW91c2VNb3ZlZHx8dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITApKX0sX2NvbnRyb2xLZXl1cDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCh0aGlzLl92YWx1ZSgpLCEwLCEwKX0sX2NvbnRyb2xCbHVyOmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKHRoaXMuX3ZhbHVlKCksITApfSxfY29udHJvbFZNb3VzZVVwOmZ1bmN0aW9uKCl7dGhpcy5fY2hlY2tlZFJlZnJlc2goKX0sX2hhbmRsZVZNb3VzZURvd246ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZS5mb2N1cygpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLl92YWx1ZSgpO2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmIucHJldmVudERlZmF1bHQoKSx0aGlzLl9rZXlTbGlkaW5nfHwodGhpcy5fa2V5U2xpZGluZz0hMCx0aGlzLmhhbmRsZS5hZGRDbGFzcyhcInVpLXN0YXRlLWFjdGl2ZVwiKSl9c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6dGhpcy5yZWZyZXNoKHRoaXMubWluKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOnRoaXMucmVmcmVzaCh0aGlzLm1heCk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDp0aGlzLnJlZnJlc2goYyt0aGlzLnN0ZXApO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6dGhpcy5yZWZyZXNoKGMtdGhpcy5zdGVwKX19fSxfaGFuZGxlS2V5dXA6ZnVuY3Rpb24oKXt0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMSx0aGlzLmhhbmRsZS5yZW1vdmVDbGFzcyhcInVpLXN0YXRlLWFjdGl2ZVwiKSl9LF9zbGlkZXJWTW91c2VEb3duOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fDEhPT1hLndoaWNoJiYwIT09YS53aGljaCYmYS53aGljaCE9PWQ/ITE6dGhpcy5fdHJpZ2dlcihcImJlZm9yZXN0YXJ0XCIsYSk9PT0hMT8hMToodGhpcy5kcmFnZ2luZz0hMCx0aGlzLnVzZXJNb2RpZmllZD0hMSx0aGlzLm1vdXNlTW92ZWQ9ITEsdGhpcy5pc1RvZ2dsZVN3aXRjaCYmKHRoaXMuYmVmb3JlU3RhcnQ9dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLHRoaXMucmVmcmVzaChhKSx0aGlzLl90cmlnZ2VyKFwic3RhcnRcIiksITEpfSxfc2xpZGVyVk1vdXNlVXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmFnZ2luZz8odGhpcy5kcmFnZ2luZz0hMSx0aGlzLmlzVG9nZ2xlU3dpdGNoJiYodGhpcy5oYW5kbGUuYWRkQ2xhc3MoXCJ1aS1zbGlkZXItaGFuZGxlLXNuYXBwaW5nXCIpLHRoaXMucmVmcmVzaCh0aGlzLm1vdXNlTW92ZWQ/dGhpcy51c2VyTW9kaWZpZWQ/MD09PXRoaXMuYmVmb3JlU3RhcnQ/MTowOnRoaXMuYmVmb3JlU3RhcnQ6MD09PXRoaXMuYmVmb3JlU3RhcnQ/MTowKSksdGhpcy5tb3VzZU1vdmVkPSExLHRoaXMuX3RyaWdnZXIoXCJzdG9wXCIpLCExKTp2b2lkIDB9LF9wcmV2ZW50RG9jdW1lbnREcmFnOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl90cmlnZ2VyKFwiZHJhZ1wiLGEpPT09ITE/ITE6dGhpcy5kcmFnZ2luZyYmIXRoaXMub3B0aW9ucy5kaXNhYmxlZD8odGhpcy5tb3VzZU1vdmVkPSEwLHRoaXMuaXNUb2dnbGVTd2l0Y2gmJnRoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKFwidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZ1wiKSx0aGlzLnJlZnJlc2goYSksdGhpcy51c2VyTW9kaWZpZWQ9dGhpcy5iZWZvcmVTdGFydCE9PXRoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4LCExKTp2b2lkIDB9LF9jaGVja2VkUmVmcmVzaDpmdW5jdGlvbigpe3RoaXMudmFsdWUhPT10aGlzLl92YWx1ZSgpJiZ0aGlzLnJlZnJlc2godGhpcy5fdmFsdWUoKSl9LF92YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVG9nZ2xlU3dpdGNoP3RoaXMuZWxlbWVudFswXS5zZWxlY3RlZEluZGV4OnBhcnNlRmxvYXQodGhpcy5lbGVtZW50LnZhbCgpKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKGQsITEsITApfSxyZWZyZXNoOmZ1bmN0aW9uKGIsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHo9dGhpcyxBPWEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLmVsZW1lbnRbMF0sXCJ0aGVtZVwiKSxCPXRoaXMub3B0aW9ucy50aGVtZXx8QSxDPUI/XCIgdWktYnRuLVwiK0I6XCJcIixEPXRoaXMub3B0aW9ucy50cmFja1RoZW1lfHxBLEU9RD9cIiB1aS1iYXItXCIrRDpcIiB1aS1iYXItaW5oZXJpdFwiLEY9dGhpcy5vcHRpb25zLmNvcm5lcnM/XCIgdWktY29ybmVyLWFsbFwiOlwiXCIsRz10aGlzLm9wdGlvbnMubWluaT9cIiB1aS1taW5pXCI6XCJcIjtpZih6LnNsaWRlclswXS5jbGFzc05hbWU9W3RoaXMuaXNUb2dnbGVTd2l0Y2g/XCJ1aS1zbGlkZXIgdWktc2xpZGVyLXN3aXRjaCB1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0XCI6XCJ1aS1zbGlkZXItdHJhY2sgdWktc2hhZG93LWluc2V0XCIsRSxGLEddLmpvaW4oXCJcIiksKHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LnByb3AoXCJkaXNhYmxlZFwiKSkmJnRoaXMuZGlzYWJsZSgpLHRoaXMudmFsdWU9dGhpcy5fdmFsdWUoKSx0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0JiYhdGhpcy5pc1RvZ2dsZVN3aXRjaCYmMD09PXRoaXMuc2xpZGVyLmZpbmQoXCIudWktc2xpZGVyLWJnXCIpLmxlbmd0aCYmKHRoaXMudmFsdWViZz1mdW5jdGlvbigpe3ZhciBiPWMuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gYi5jbGFzc05hbWU9XCJ1aS1zbGlkZXItYmcgXCIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MsYShiKS5wcmVwZW5kVG8oei5zbGlkZXIpfSgpKSx0aGlzLmhhbmRsZS5hZGRDbGFzcyhcInVpLWJ0blwiK0MrXCIgdWktc2hhZG93XCIpLGw9dGhpcy5lbGVtZW50LG09IXRoaXMuaXNUb2dnbGVTd2l0Y2gsbj1tP1tdOmwuZmluZChcIm9wdGlvblwiKSxvPW0/cGFyc2VGbG9hdChsLmF0dHIoXCJtaW5cIikpOjAscD1tP3BhcnNlRmxvYXQobC5hdHRyKFwibWF4XCIpKTpuLmxlbmd0aC0xLHE9bSYmcGFyc2VGbG9hdChsLmF0dHIoXCJzdGVwXCIpKT4wP3BhcnNlRmxvYXQobC5hdHRyKFwic3RlcFwiKSk6MSxcIm9iamVjdFwiPT10eXBlb2YgYil7aWYoaD1iLGk9OCxmPXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQsZz10aGlzLnNsaWRlci53aWR0aCgpLGo9Zy8oKHAtbykvcSksIXRoaXMuZHJhZ2dpbmd8fGgucGFnZVg8Zi1pfHxoLnBhZ2VYPmYrZytpKXJldHVybjtrPWo+MT8oaC5wYWdlWC1mKS9nKjEwMDpNYXRoLnJvdW5kKChoLnBhZ2VYLWYpL2cqMTAwKX1lbHNlIG51bGw9PWImJihiPW0/cGFyc2VGbG9hdChsLnZhbCgpfHwwKTpsWzBdLnNlbGVjdGVkSW5kZXgpLGs9KHBhcnNlRmxvYXQoYiktbykvKHAtbykqMTAwO2lmKCFpc05hTihrKSYmKHI9ay8xMDAqKHAtbykrbyxzPShyLW8pJXEsdD1yLXMsMipNYXRoLmFicyhzKT49cSYmKHQrPXM+MD9xOi1xKSx1PTEwMC8oKHAtbykvcSkscj1wYXJzZUZsb2F0KHQudG9GaXhlZCg1KSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIGomJihqPWcvKChwLW8pL3EpKSxqPjEmJm0mJihrPShyLW8pKnUqKDEvcSkpLDA+ayYmKGs9MCksaz4xMDAmJihrPTEwMCksbz5yJiYocj1vKSxyPnAmJihyPXApLHRoaXMuaGFuZGxlLmNzcyhcImxlZnRcIixrK1wiJVwiKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVlbm93XCIsbT9yOm4uZXEocikuYXR0cihcInZhbHVlXCIpKSx0aGlzLmhhbmRsZVswXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXZhbHVldGV4dFwiLG0/cjpuLmVxKHIpLmdldEVuY29kZWRUZXh0KCkpLHRoaXMuaGFuZGxlWzBdLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsbT9yOm4uZXEocikuZ2V0RW5jb2RlZFRleHQoKSksdGhpcy52YWx1ZWJnJiZ0aGlzLnZhbHVlYmcuY3NzKFwid2lkdGhcIixrK1wiJVwiKSx0aGlzLl9sYWJlbHMmJih2PXRoaXMuaGFuZGxlLndpZHRoKCkvdGhpcy5zbGlkZXIud2lkdGgoKSoxMDAsdz1rJiZ2KygxMDAtdikqay8xMDAseD0xMDA9PT1rPzA6TWF0aC5taW4odisxMDAtdywxMDApLHRoaXMuX2xhYmVscy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5oYXNDbGFzcyhcInVpLXNsaWRlci1sYWJlbC1hXCIpO2EodGhpcykud2lkdGgoKGI/dzp4KStcIiVcIil9KSksIWUpKXtpZih5PSExLG0/KHk9cGFyc2VGbG9hdChsLnZhbCgpKSE9PXIsbC52YWwocikpOih5PWxbMF0uc2VsZWN0ZWRJbmRleCE9PXIsbFswXS5zZWxlY3RlZEluZGV4PXIpLHRoaXMuX3RyaWdnZXIoXCJiZWZvcmVjaGFuZ2VcIixiKT09PSExKXJldHVybiExOyFkJiZ5JiZsLnRyaWdnZXIoXCJjaGFuZ2VcIil9fSxfc2V0SGlnaGxpZ2h0OmZ1bmN0aW9uKGEpe2E9ISFhLGE/KHRoaXMub3B0aW9ucy5oaWdobGlnaHQ9ISFhLHRoaXMucmVmcmVzaCgpKTp0aGlzLnZhbHVlYmcmJih0aGlzLnZhbHVlYmcucmVtb3ZlKCksdGhpcy52YWx1ZWJnPSExKX0sX3NldFRoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlLnJlbW92ZUNsYXNzKFwidWktYnRuLVwiK3RoaXMub3B0aW9ucy50aGVtZSkuYWRkQ2xhc3MoXCJ1aS1idG4tXCIrYSk7dmFyIGI9dGhpcy5vcHRpb25zLnRoZW1lP3RoaXMub3B0aW9ucy50aGVtZTpcImluaGVyaXRcIixjPWE/YTpcImluaGVyaXRcIjt0aGlzLmNvbnRyb2wucmVtb3ZlQ2xhc3MoXCJ1aS1ib2R5LVwiK2IpLmFkZENsYXNzKFwidWktYm9keS1cIitjKX0sX3NldFRyYWNrVGhlbWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWU/dGhpcy5vcHRpb25zLnRyYWNrVGhlbWU6XCJpbmhlcml0XCIsYz1hP2E6XCJpbmhlcml0XCI7dGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoXCJ1aS1ib2R5LVwiK2IpLmFkZENsYXNzKFwidWktYm9keS1cIitjKX0sX3NldE1pbmk6ZnVuY3Rpb24oYSl7YT0hIWEsdGhpcy5pc1RvZ2dsZVN3aXRjaHx8dGhpcy5pc1Jhbmdlc2xpZGVyfHwodGhpcy5zbGlkZXIucGFyZW50KCkudG9nZ2xlQ2xhc3MoXCJ1aS1taW5pXCIsYSksdGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKFwidWktbWluaVwiLGEpKSx0aGlzLnNsaWRlci50b2dnbGVDbGFzcyhcInVpLW1pbmlcIixhKX0sX3NldENvcm5lcnM6ZnVuY3Rpb24oYSl7dGhpcy5zbGlkZXIudG9nZ2xlQ2xhc3MoXCJ1aS1jb3JuZXItYWxsXCIsYSksdGhpcy5pc1RvZ2dsZVN3aXRjaHx8dGhpcy5jb250cm9sLnRvZ2dsZUNsYXNzKFwidWktY29ybmVyLWFsbFwiLGEpfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7YT0hIWEsdGhpcy5lbGVtZW50LnByb3AoXCJkaXNhYmxlZFwiLGEpLHRoaXMuc2xpZGVyLnRvZ2dsZUNsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIixhKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLGEpLHRoaXMuZWxlbWVudC50b2dnbGVDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIsYSl9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtyZXR1cm4gY3x8KGM9YShcIjxkaXY+PC9kaXY+XCIse1wiY2xhc3NcIjpcInVpLXNsaWRlci1wb3B1cCB1aS1zaGFkb3cgdWktY29ybmVyLWFsbFwifSkpLGMuY2xvbmUoKX12YXIgYzthLndpZGdldChcIm1vYmlsZS5zbGlkZXJcIixhLm1vYmlsZS5zbGlkZXIse29wdGlvbnM6e3BvcHVwRW5hYmxlZDohMSxzaG93VmFsdWU6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLGEuZXh0ZW5kKHRoaXMse19jdXJyZW50VmFsdWU6bnVsbCxfcG9wdXA6bnVsbCxfcG9wdXBWaXNpYmxlOiExfSksdGhpcy5fc2V0T3B0aW9uKFwicG9wdXBFbmFibGVkXCIsdGhpcy5vcHRpb25zLnBvcHVwRW5hYmxlZCksdGhpcy5fb24odGhpcy5oYW5kbGUse3Ztb3VzZWRvd246XCJfc2hvd1BvcHVwXCJ9KSx0aGlzLl9vbih0aGlzLnNsaWRlci5hZGQodGhpcy5kb2N1bWVudCkse3Ztb3VzZXVwOlwiX2hpZGVQb3B1cFwifSksdGhpcy5fcmVmcmVzaCgpfSxfcG9zaXRpb25Qb3B1cDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaGFuZGxlLm9mZnNldCgpO3RoaXMuX3BvcHVwLm9mZnNldCh7bGVmdDphLmxlZnQrKHRoaXMuaGFuZGxlLndpZHRoKCktdGhpcy5fcG9wdXAud2lkdGgoKSkvMix0b3A6YS50b3AtdGhpcy5fcG9wdXAub3V0ZXJIZWlnaHQoKS01fSl9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxjKXt0aGlzLl9zdXBlcihhLGMpLFwic2hvd1ZhbHVlXCI9PT1hP3RoaXMuaGFuZGxlLmh0bWwoYyYmIXRoaXMub3B0aW9ucy5taW5pP3RoaXMuX3ZhbHVlKCk6XCJcIik6XCJwb3B1cEVuYWJsZWRcIj09PWEmJmMmJiF0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwPWIoKS5hZGRDbGFzcyhcInVpLWJvZHktXCIrKHRoaXMub3B0aW9ucy50aGVtZXx8XCJhXCIpKS5oaWRlKCkuaW5zZXJ0QmVmb3JlKHRoaXMuZWxlbWVudCkpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3JlZnJlc2goKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMub3B0aW9ucztiLnBvcHVwRW5hYmxlZCYmdGhpcy5oYW5kbGUucmVtb3ZlQXR0cihcInRpdGxlXCIpLGE9dGhpcy5fdmFsdWUoKSxhIT09dGhpcy5fY3VycmVudFZhbHVlJiYodGhpcy5fY3VycmVudFZhbHVlPWEsYi5wb3B1cEVuYWJsZWQmJnRoaXMuX3BvcHVwJiYodGhpcy5fcG9zaXRpb25Qb3B1cCgpLHRoaXMuX3BvcHVwLmh0bWwoYSkpLGIuc2hvd1ZhbHVlJiYhdGhpcy5vcHRpb25zLm1pbmkmJnRoaXMuaGFuZGxlLmh0bWwoYSkpfSxfc2hvd1BvcHVwOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBvcHVwRW5hYmxlZCYmIXRoaXMuX3BvcHVwVmlzaWJsZSYmKHRoaXMuaGFuZGxlLmh0bWwoXCJcIiksdGhpcy5fcG9wdXAuc2hvdygpLHRoaXMuX3Bvc2l0aW9uUG9wdXAoKSx0aGlzLl9wb3B1cFZpc2libGU9ITApfSxfaGlkZVBvcHVwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zO2EucG9wdXBFbmFibGVkJiZ0aGlzLl9wb3B1cFZpc2libGUmJihhLnNob3dWYWx1ZSYmIWEubWluaSYmdGhpcy5oYW5kbGUuaHRtbCh0aGlzLl92YWx1ZSgpKSx0aGlzLl9wb3B1cC5oaWRlKCksdGhpcy5fcG9wdXBWaXNpYmxlPSExKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldChcIm1vYmlsZS5mbGlwc3dpdGNoXCIsYS5leHRlbmQoe29wdGlvbnM6e29uVGV4dDpcIk9uXCIsb2ZmVGV4dDpcIk9mZlwiLHRoZW1lOm51bGwsZW5oYW5jZWQ6ITEsd3JhcHBlckNsYXNzOm51bGwsY29ybmVyczohMCxtaW5pOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkP2EuZXh0ZW5kKHRoaXMse2ZsaXBzd2l0Y2g6dGhpcy5lbGVtZW50LnBhcmVudCgpLG9uOnRoaXMuZWxlbWVudC5maW5kKFwiLnVpLWZsaXBzd2l0Y2gtb25cIikuZXEoMCksb2ZmOnRoaXMuZWxlbWVudC5maW5kKFwiLnVpLWZsaXBzd2l0Y2gtb2ZmXCIpLmVxKDApLHR5cGU6dGhpcy5lbGVtZW50LmdldCgwKS50YWdOYW1lfSk6dGhpcy5fZW5oYW5jZSgpLHRoaXMuX2hhbmRsZUZvcm1SZXNldCgpLHRoaXMuX29yaWdpbmFsVGFiSW5kZXg9dGhpcy5lbGVtZW50LmF0dHIoXCJ0YWJpbmRleFwiKSxudWxsIT10aGlzLl9vcmlnaW5hbFRhYkluZGV4JiZ0aGlzLm9uLmF0dHIoXCJ0YWJpbmRleFwiLHRoaXMuX29yaWdpbmFsVGFiSW5kZXgpLHRoaXMuZWxlbWVudC5hdHRyKFwidGFiaW5kZXhcIixcIi0xXCIpLHRoaXMuX29uKHtmb2N1czpcIl9oYW5kbGVJbnB1dEZvY3VzXCJ9KSx0aGlzLmVsZW1lbnQuaXMoXCI6ZGlzYWJsZWRcIikmJnRoaXMuX3NldE9wdGlvbnMoe2Rpc2FibGVkOiEwfSksdGhpcy5fb24odGhpcy5mbGlwc3dpdGNoLHtjbGljazpcIl90b2dnbGVcIixzd2lwZWxlZnQ6XCJfbGVmdFwiLHN3aXBlcmlnaHQ6XCJfcmlnaHRcIn0pLHRoaXMuX29uKHRoaXMub24se2tleWRvd246XCJfa2V5ZG93blwifSksdGhpcy5fb24oe2NoYW5nZTpcInJlZnJlc2hcIn0pfSxfaGFuZGxlSW5wdXRGb2N1czpmdW5jdGlvbigpe3RoaXMub24uZm9jdXMoKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmxpcHN3aXRjaH0sX2xlZnQ6ZnVuY3Rpb24oKXt0aGlzLmZsaXBzd2l0Y2gucmVtb3ZlQ2xhc3MoXCJ1aS1mbGlwc3dpdGNoLWFjdGl2ZVwiKSxcIlNFTEVDVFwiPT09dGhpcy50eXBlP3RoaXMuZWxlbWVudC5nZXQoMCkuc2VsZWN0ZWRJbmRleD0wOnRoaXMuZWxlbWVudC5wcm9wKFwiY2hlY2tlZFwiLCExKSx0aGlzLmVsZW1lbnQudHJpZ2dlcihcImNoYW5nZVwiKX0sX3JpZ2h0OmZ1bmN0aW9uKCl7dGhpcy5mbGlwc3dpdGNoLmFkZENsYXNzKFwidWktZmxpcHN3aXRjaC1hY3RpdmVcIiksXCJTRUxFQ1RcIj09PXRoaXMudHlwZT90aGlzLmVsZW1lbnQuZ2V0KDApLnNlbGVjdGVkSW5kZXg9MTp0aGlzLmVsZW1lbnQucHJvcChcImNoZWNrZWRcIiwhMCksdGhpcy5lbGVtZW50LnRyaWdnZXIoXCJjaGFuZ2VcIil9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dmFyIGI9YShcIjxkaXY+XCIpLGM9dGhpcy5vcHRpb25zLGQ9dGhpcy5lbGVtZW50LGU9Yy50aGVtZT9jLnRoZW1lOlwiaW5oZXJpdFwiLGY9YShcIjxhPjwvYT5cIix7aHJlZjpcIiNcIn0pLGc9YShcIjxzcGFuPjwvc3Bhbj5cIiksaD1kLmdldCgwKS50YWdOYW1lLGk9XCJJTlBVVFwiPT09aD9jLm9uVGV4dDpkLmZpbmQoXCJvcHRpb25cIikuZXEoMSkudGV4dCgpLGo9XCJJTlBVVFwiPT09aD9jLm9mZlRleHQ6ZC5maW5kKFwib3B0aW9uXCIpLmVxKDApLnRleHQoKTtmLmFkZENsYXNzKFwidWktZmxpcHN3aXRjaC1vbiB1aS1idG4gdWktc2hhZG93IHVpLWJ0bi1pbmhlcml0XCIpLnRleHQoaSksZy5hZGRDbGFzcyhcInVpLWZsaXBzd2l0Y2gtb2ZmXCIpLnRleHQoaiksYi5hZGRDbGFzcyhcInVpLWZsaXBzd2l0Y2ggdWktc2hhZG93LWluc2V0IHVpLWJhci1cIitlK1wiIFwiKyhjLndyYXBwZXJDbGFzcz9jLndyYXBwZXJDbGFzczpcIlwiKStcIiBcIisoZC5pcyhcIjpjaGVja2VkXCIpfHxkLmZpbmQoXCJvcHRpb25cIikuZXEoMSkuaXMoXCI6c2VsZWN0ZWRcIik/XCJ1aS1mbGlwc3dpdGNoLWFjdGl2ZVwiOlwiXCIpKyhkLmlzKFwiOmRpc2FibGVkXCIpP1wiIHVpLXN0YXRlLWRpc2FibGVkXCI6XCJcIikrKGMuY29ybmVycz9cIiB1aS1jb3JuZXItYWxsXCI6XCJcIikrKGMubWluaT9cIiB1aS1taW5pXCI6XCJcIikpLmFwcGVuZChmLGcpLGQuYWRkQ2xhc3MoXCJ1aS1mbGlwc3dpdGNoLWlucHV0XCIpLmFmdGVyKGIpLmFwcGVuZFRvKGIpLGEuZXh0ZW5kKHRoaXMse2ZsaXBzd2l0Y2g6YixvbjpmLG9mZjpnLHR5cGU6aH0pfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhLGI9dGhpcy5mbGlwc3dpdGNoLmhhc0NsYXNzKFwidWktZmxpcHN3aXRjaC1hY3RpdmVcIik/XCJfcmlnaHRcIjpcIl9sZWZ0XCI7YT1cIlNFTEVDVFwiPT09dGhpcy50eXBlP3RoaXMuZWxlbWVudC5nZXQoMCkuc2VsZWN0ZWRJbmRleD4wP1wiX3JpZ2h0XCI6XCJfbGVmdFwiOnRoaXMuZWxlbWVudC5wcm9wKFwiY2hlY2tlZFwiKT9cIl9yaWdodFwiOlwiX2xlZnRcIixhIT09YiYmdGhpc1thXSgpfSxfdG9nZ2xlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5mbGlwc3dpdGNoLmhhc0NsYXNzKFwidWktZmxpcHN3aXRjaC1hY3RpdmVcIik/XCJfbGVmdFwiOlwiX3JpZ2h0XCI7dGhpc1thXSgpfSxfa2V5ZG93bjpmdW5jdGlvbihiKXtiLndoaWNoPT09YS5tb2JpbGUua2V5Q29kZS5MRUZUP3RoaXMuX2xlZnQoKTpiLndoaWNoPT09YS5tb2JpbGUua2V5Q29kZS5SSUdIVD90aGlzLl9yaWdodCgpOmIud2hpY2g9PT1hLm1vYmlsZS5rZXlDb2RlLlNQQUNFJiYodGhpcy5fdG9nZ2xlKCksYi5wcmV2ZW50RGVmYXVsdCgpKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7aWYoYS50aGVtZSE9PWIpe3ZhciBjPWEudGhlbWU/YS50aGVtZTpcImluaGVyaXRcIixkPWEudGhlbWU/YS50aGVtZTpcImluaGVyaXRcIjt0aGlzLndpZGdldCgpLnJlbW92ZUNsYXNzKFwidWktYmFyLVwiK2MpLmFkZENsYXNzKFwidWktYmFyLVwiK2QpfWEub25UZXh0IT09YiYmdGhpcy5vbi50ZXh0KGEub25UZXh0KSxhLm9mZlRleHQhPT1iJiZ0aGlzLm9mZi50ZXh0KGEub2ZmVGV4dCksYS5kaXNhYmxlZCE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiLGEuZGlzYWJsZWQpLGEubWluaSE9PWImJnRoaXMud2lkZ2V0KCkudG9nZ2xlQ2xhc3MoXCJ1aS1taW5pXCIsYS5taW5pKSxhLmNvcm5lcnMhPT1iJiZ0aGlzLndpZGdldCgpLnRvZ2dsZUNsYXNzKFwidWktY29ybmVyLWFsbFwiLGEuY29ybmVycyksdGhpcy5fc3VwZXIoYSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHwobnVsbCE9dGhpcy5fb3JpZ2luYWxUYWJJbmRleD90aGlzLmVsZW1lbnQuYXR0cihcInRhYmluZGV4XCIsdGhpcy5fb3JpZ2luYWxUYWJJbmRleCk6dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoXCJ0YWJpbmRleFwiKSx0aGlzLm9uLnJlbW92ZSgpLHRoaXMub2ZmLnJlbW92ZSgpLHRoaXMuZWxlbWVudC51bndyYXAoKSx0aGlzLmZsaXBzd2l0Y2gucmVtb3ZlKCksdGhpcy5yZW1vdmVDbGFzcyhcInVpLWZsaXBzd2l0Y2gtaW5wdXRcIikpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmZvcm1SZXNldCkpfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KFwibW9iaWxlLnJhbmdlc2xpZGVyXCIsYS5leHRlbmQoe29wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGNvcm5lcnM6ITAsbWluaTohMSxoaWdobGlnaHQ6ITB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMubWluaT9cInVpLXJhbmdlc2xpZGVyIHVpLW1pbmlcIjpcInVpLXJhbmdlc2xpZGVyXCIsZD1iLmZpbmQoXCJpbnB1dFwiKS5maXJzdCgpLGU9Yi5maW5kKFwiaW5wdXRcIikubGFzdCgpLGY9Yi5maW5kKFwibGFiZWxcIikuZmlyc3QoKSxnPWEuZGF0YShkLmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIil8fGEuZGF0YShkLnNsaWRlcigpLmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIiksaD1hLmRhdGEoZS5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpfHxhLmRhdGEoZS5zbGlkZXIoKS5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpLGk9Zy5zbGlkZXIsaj1oLnNsaWRlcixrPWcuaGFuZGxlLGw9YShcIjxkaXYgY2xhc3M9J3VpLXJhbmdlc2xpZGVyLXNsaWRlcnMnIC8+XCIpLmFwcGVuZFRvKGIpO2QuYWRkQ2xhc3MoXCJ1aS1yYW5nZXNsaWRlci1maXJzdFwiKSxlLmFkZENsYXNzKFwidWktcmFuZ2VzbGlkZXItbGFzdFwiKSxiLmFkZENsYXNzKGMpLGkuYXBwZW5kVG8obCksai5hcHBlbmRUbyhsKSxmLmluc2VydEJlZm9yZShiKSxrLnByZXBlbmRUbyhqKSxhLmV4dGVuZCh0aGlzLHtfaW5wdXRGaXJzdDpkLF9pbnB1dExhc3Q6ZSxfc2xpZGVyRmlyc3Q6aSxfc2xpZGVyTGFzdDpqLF9sYWJlbDpmLF90YXJnZXRWYWw6bnVsbCxfc2xpZGVyVGFyZ2V0OiExLF9zbGlkZXJzOmwsX3Byb3h5OiExfSksdGhpcy5yZWZyZXNoKCksdGhpcy5fb24odGhpcy5lbGVtZW50LmZpbmQoXCJpbnB1dC51aS1zbGlkZXItaW5wdXRcIikse3NsaWRlYmVmb3Jlc3RhcnQ6XCJfc2xpZGViZWZvcmVzdGFydFwiLHNsaWRlc3RvcDpcIl9zbGlkZXN0b3BcIixzbGlkZWRyYWc6XCJfc2xpZGVkcmFnXCIsc2xpZGViZWZvcmVjaGFuZ2U6XCJfY2hhbmdlXCIsYmx1cjpcIl9jaGFuZ2VcIixrZXl1cDpcIl9jaGFuZ2VcIn0pLHRoaXMuX29uKHttb3VzZWRvd246XCJfY2hhbmdlXCJ9KSx0aGlzLl9vbih0aGlzLmVsZW1lbnQuY2xvc2VzdChcImZvcm1cIikse3Jlc2V0OlwiX2hhbmRsZVJlc2V0XCJ9KSx0aGlzLl9vbihrLHt2bW91c2Vkb3duOlwiX2RyYWdGaXJzdEhhbmRsZVwifSl9LF9oYW5kbGVSZXNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuX3VwZGF0ZUhpZ2hsaWdodCgpfSwwKX0sX2RyYWdGaXJzdEhhbmRsZTpmdW5jdGlvbihiKXtyZXR1cm4gYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKS5kcmFnZ2luZz0hMCxhLmRhdGEodGhpcy5faW5wdXRGaXJzdC5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpLnJlZnJlc2goYiksYS5kYXRhKHRoaXMuX2lucHV0Rmlyc3QuZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKS5fdHJpZ2dlcihcInN0YXJ0XCIpLCExfSxfc2xpZGVkcmFnOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmlzKHRoaXMuX2lucHV0Rmlyc3QpLGQ9Yz90aGlzLl9pbnB1dExhc3Q6dGhpcy5faW5wdXRGaXJzdDtyZXR1cm4gdGhpcy5fc2xpZGVyVGFyZ2V0PSExLFwiZmlyc3RcIj09PXRoaXMuX3Byb3h5JiZjfHxcImxhc3RcIj09PXRoaXMuX3Byb3h5JiYhYz8oYS5kYXRhKGQuZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKS5kcmFnZ2luZz0hMCxhLmRhdGEoZC5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpLnJlZnJlc2goYiksITEpOnZvaWQgMH0sX3NsaWRlc3RvcDpmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KS5pcyh0aGlzLl9pbnB1dEZpcnN0KTt0aGlzLl9wcm94eT0hMSx0aGlzLmVsZW1lbnQuZmluZChcImlucHV0XCIpLnRyaWdnZXIoXCJ2bW91c2V1cFwiKSx0aGlzLl9zbGlkZXJGaXJzdC5jc3MoXCJ6LWluZGV4XCIsYz8xOlwiXCIpfSxfc2xpZGViZWZvcmVzdGFydDpmdW5jdGlvbihiKXt0aGlzLl9zbGlkZXJUYXJnZXQ9ITEsYShiLm9yaWdpbmFsRXZlbnQudGFyZ2V0KS5oYXNDbGFzcyhcInVpLXNsaWRlci10cmFja1wiKSYmKHRoaXMuX3NsaWRlclRhcmdldD0hMCx0aGlzLl90YXJnZXRWYWw9YShiLnRhcmdldCkudmFsKCkpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXthLnRoZW1lIT09YiYmdGhpcy5fc2V0VGhlbWUoYS50aGVtZSksYS50cmFja1RoZW1lIT09YiYmdGhpcy5fc2V0VHJhY2tUaGVtZShhLnRyYWNrVGhlbWUpLGEubWluaSE9PWImJnRoaXMuX3NldE1pbmkoYS5taW5pKSxhLmhpZ2hsaWdodCE9PWImJnRoaXMuX3NldEhpZ2hsaWdodChhLmhpZ2hsaWdodCksYS5kaXNhYmxlZCE9PWImJnRoaXMuX3NldERpc2FibGVkKGEuZGlzYWJsZWQpLHRoaXMuX3N1cGVyKGEpLHRoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50LGI9dGhpcy5vcHRpb25zOyh0aGlzLl9pbnB1dEZpcnN0LmlzKFwiOmRpc2FibGVkXCIpfHx0aGlzLl9pbnB1dExhc3QuaXMoXCI6ZGlzYWJsZWRcIikpJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPSEwKSxhLmZpbmQoXCJpbnB1dFwiKS5zbGlkZXIoe3RoZW1lOmIudGhlbWUsdHJhY2tUaGVtZTpiLnRyYWNrVGhlbWUsZGlzYWJsZWQ6Yi5kaXNhYmxlZCxjb3JuZXJzOmIuY29ybmVycyxtaW5pOmIubWluaSxoaWdobGlnaHQ6Yi5oaWdobGlnaHR9KS5zbGlkZXIoXCJyZWZyZXNoXCIpLHRoaXMuX3VwZGF0ZUhpZ2hsaWdodCgpfSxfY2hhbmdlOmZ1bmN0aW9uKGIpe2lmKFwia2V5dXBcIj09PWIudHlwZSlyZXR1cm4gdGhpcy5fdXBkYXRlSGlnaGxpZ2h0KCksITE7dmFyIGM9dGhpcyxkPXBhcnNlRmxvYXQodGhpcy5faW5wdXRGaXJzdC52YWwoKSwxMCksZT1wYXJzZUZsb2F0KHRoaXMuX2lucHV0TGFzdC52YWwoKSwxMCksZj1hKGIudGFyZ2V0KS5oYXNDbGFzcyhcInVpLXJhbmdlc2xpZGVyLWZpcnN0XCIpLGc9Zj90aGlzLl9pbnB1dEZpcnN0OnRoaXMuX2lucHV0TGFzdCxoPWY/dGhpcy5faW5wdXRMYXN0OnRoaXMuX2lucHV0Rmlyc3Q7aWYodGhpcy5faW5wdXRGaXJzdC52YWwoKT50aGlzLl9pbnB1dExhc3QudmFsKCkmJlwibW91c2Vkb3duXCI9PT1iLnR5cGUmJiFhKGIudGFyZ2V0KS5oYXNDbGFzcyhcInVpLXNsaWRlci1oYW5kbGVcIikpZy5ibHVyKCk7ZWxzZSBpZihcIm1vdXNlZG93blwiPT09Yi50eXBlKXJldHVybjtyZXR1cm4gZD5lJiYhdGhpcy5fc2xpZGVyVGFyZ2V0PyhnLnZhbChmP2U6ZCkuc2xpZGVyKFwicmVmcmVzaFwiKSx0aGlzLl90cmlnZ2VyKFwibm9ybWFsaXplXCIpKTpkPmUmJihnLnZhbCh0aGlzLl90YXJnZXRWYWwpLnNsaWRlcihcInJlZnJlc2hcIiksc2V0VGltZW91dChmdW5jdGlvbigpe2gudmFsKGY/ZDplKS5zbGlkZXIoXCJyZWZyZXNoXCIpLGEuZGF0YShoLmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIikuaGFuZGxlLmZvY3VzKCksYy5fc2xpZGVyRmlyc3QuY3NzKFwiei1pbmRleFwiLGY/XCJcIjoxKSxjLl90cmlnZ2VyKFwibm9ybWFsaXplXCIpfSwwKSx0aGlzLl9wcm94eT1mP1wiZmlyc3RcIjpcImxhc3RcIiksZD09PWU/KGEuZGF0YShnLmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIikuaGFuZGxlLmNzcyhcInotaW5kZXhcIiwxKSxhLmRhdGEoaC5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpLmhhbmRsZS5jc3MoXCJ6LWluZGV4XCIsMCkpOihhLmRhdGEoaC5nZXQoMCksXCJtb2JpbGUtc2xpZGVyXCIpLmhhbmRsZS5jc3MoXCJ6LWluZGV4XCIsXCJcIiksYS5kYXRhKGcuZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKS5oYW5kbGUuY3NzKFwiei1pbmRleFwiLFwiXCIpKSx0aGlzLl91cGRhdGVIaWdobGlnaHQoKSxkPj1lPyExOnZvaWQgMH0sX3VwZGF0ZUhpZ2hsaWdodDpmdW5jdGlvbigpe3ZhciBiPXBhcnNlSW50KGEuZGF0YSh0aGlzLl9pbnB1dEZpcnN0LmdldCgwKSxcIm1vYmlsZS1zbGlkZXJcIikuaGFuZGxlLmdldCgwKS5zdHlsZS5sZWZ0LDEwKSxjPXBhcnNlSW50KGEuZGF0YSh0aGlzLl9pbnB1dExhc3QuZ2V0KDApLFwibW9iaWxlLXNsaWRlclwiKS5oYW5kbGUuZ2V0KDApLnN0eWxlLmxlZnQsMTApLGQ9Yy1iO3RoaXMuZWxlbWVudC5maW5kKFwiLnVpLXNsaWRlci1iZ1wiKS5jc3Moe1wibWFyZ2luLWxlZnRcIjpiK1wiJVwiLHdpZHRoOmQrXCIlXCJ9KX0sX3NldFRoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKFwib3B0aW9uXCIsXCJ0aGVtZVwiLGEpLHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoXCJvcHRpb25cIixcInRoZW1lXCIsYSl9LF9zZXRUcmFja1RoZW1lOmZ1bmN0aW9uKGEpe3RoaXMuX2lucHV0Rmlyc3Quc2xpZGVyKFwib3B0aW9uXCIsXCJ0cmFja1RoZW1lXCIsYSksdGhpcy5faW5wdXRMYXN0LnNsaWRlcihcIm9wdGlvblwiLFwidHJhY2tUaGVtZVwiLGEpfSxfc2V0TWluaTpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnNsaWRlcihcIm9wdGlvblwiLFwibWluaVwiLGEpLHRoaXMuX2lucHV0TGFzdC5zbGlkZXIoXCJvcHRpb25cIixcIm1pbmlcIixhKSx0aGlzLmVsZW1lbnQudG9nZ2xlQ2xhc3MoXCJ1aS1taW5pXCIsISFhKX0sX3NldEhpZ2hsaWdodDpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnNsaWRlcihcIm9wdGlvblwiLFwiaGlnaGxpZ2h0XCIsYSksdGhpcy5faW5wdXRMYXN0LnNsaWRlcihcIm9wdGlvblwiLFwiaGlnaGxpZ2h0XCIsYSl9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihhKXt0aGlzLl9pbnB1dEZpcnN0LnByb3AoXCJkaXNhYmxlZFwiLGEpLHRoaXMuX2lucHV0TGFzdC5wcm9wKFwiZGlzYWJsZWRcIixhKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9sYWJlbC5wcmVwZW5kVG8odGhpcy5lbGVtZW50KSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1yYW5nZXNsaWRlciB1aS1taW5pXCIpLHRoaXMuX2lucHV0Rmlyc3QuYWZ0ZXIodGhpcy5fc2xpZGVyRmlyc3QpLHRoaXMuX2lucHV0TGFzdC5hZnRlcih0aGlzLl9zbGlkZXJMYXN0KSx0aGlzLl9zbGlkZXJzLnJlbW92ZSgpLHRoaXMuZWxlbWVudC5maW5kKFwiaW5wdXRcIikucmVtb3ZlQ2xhc3MoXCJ1aS1yYW5nZXNsaWRlci1maXJzdCB1aS1yYW5nZXNsaWRlci1sYXN0XCIpLnNsaWRlcihcImRlc3Ryb3lcIil9fSxhLm1vYmlsZS5iZWhhdmlvcnMuZm9ybVJlc2V0KSl9KGEpLGZ1bmN0aW9uKGEsYil7YS53aWRnZXQoXCJtb2JpbGUudGV4dGlucHV0XCIsYS5tb2JpbGUudGV4dGlucHV0LHtvcHRpb25zOntjbGVhckJ0bjohMSxjbGVhckJ0blRleHQ6XCJDbGVhciB0ZXh0XCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMuaXNTZWFyY2gmJih0aGlzLm9wdGlvbnMuY2xlYXJCdG49ITApLHRoaXMub3B0aW9ucy5jbGVhckJ0biYmdGhpcy5pbnB1dE5lZWRzV3JhcCYmdGhpcy5fYWRkQ2xlYXJCdG4oKX0sY2xlYXJCdXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYShcIjxhIGhyZWY9JyMnIHRhYmluZGV4PSctMScgYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzPSd1aS1pbnB1dC1jbGVhciB1aS1idG4gdWktaWNvbi1kZWxldGUgdWktYnRuLWljb24tbm90ZXh0IHVpLWNvcm5lci1hbGwnPjwvYT5cIikuYXR0cihcInRpdGxlXCIsdGhpcy5vcHRpb25zLmNsZWFyQnRuVGV4dCkudGV4dCh0aGlzLm9wdGlvbnMuY2xlYXJCdG5UZXh0KX0sX2NsZWFyQnRuQ2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnZhbChcIlwiKS5mb2N1cygpLnRyaWdnZXIoXCJjaGFuZ2VcIiksdGhpcy5fY2xlYXJCdG4uYWRkQ2xhc3MoXCJ1aS1pbnB1dC1jbGVhci1oaWRkZW5cIiksYS5wcmV2ZW50RGVmYXVsdCgpfSxfYWRkQ2xlYXJCdG46ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuZW5oYW5jZWR8fHRoaXMuX2VuaGFuY2VDbGVhcigpLGEuZXh0ZW5kKHRoaXMse19jbGVhckJ0bjp0aGlzLndpZGdldCgpLmZpbmQoXCJhLnVpLWlucHV0LWNsZWFyXCIpfSksdGhpcy5fYmluZENsZWFyRXZlbnRzKCksdGhpcy5fdG9nZ2xlQ2xlYXIoKX0sX2VuaGFuY2VDbGVhcjpmdW5jdGlvbigpe3RoaXMuY2xlYXJCdXR0b24oKS5hcHBlbmRUbyh0aGlzLndpZGdldCgpKSx0aGlzLndpZGdldCgpLmFkZENsYXNzKFwidWktaW5wdXQtaGFzLWNsZWFyXCIpfSxfYmluZENsZWFyRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5fb24odGhpcy5fY2xlYXJCdG4se2NsaWNrOlwiX2NsZWFyQnRuQ2xpY2tcIn0pLHRoaXMuX29uKHtrZXl1cDpcIl90b2dnbGVDbGVhclwiLGNoYW5nZTpcIl90b2dnbGVDbGVhclwiLGlucHV0OlwiX3RvZ2dsZUNsZWFyXCIsZm9jdXM6XCJfdG9nZ2xlQ2xlYXJcIixibHVyOlwiX3RvZ2dsZUNsZWFyXCIsY3V0OlwiX3RvZ2dsZUNsZWFyXCIscGFzdGU6XCJfdG9nZ2xlQ2xlYXJcIn0pfSxfdW5iaW5kQ2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9vZmYodGhpcy5fY2xlYXJCdG4sXCJjbGlja1wiKSx0aGlzLl9vZmYodGhpcy5lbGVtZW50LFwia2V5dXAgY2hhbmdlIGlucHV0IGZvY3VzIGJsdXIgY3V0IHBhc3RlXCIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSxhLmNsZWFyQnRuPT09Ynx8dGhpcy5lbGVtZW50LmlzKFwidGV4dGFyZWEsIDpqcW1EYXRhKHR5cGU9J3JhbmdlJylcIil8fChhLmNsZWFyQnRuP3RoaXMuX2FkZENsZWFyQnRuKCk6dGhpcy5fZGVzdHJveUNsZWFyKCkpLGEuY2xlYXJCdG5UZXh0IT09YiYmdGhpcy5fY2xlYXJCdG4hPT1iJiZ0aGlzLl9jbGVhckJ0bi50ZXh0KGEuY2xlYXJCdG5UZXh0KS5hdHRyKFwidGl0bGVcIixhLmNsZWFyQnRuVGV4dCl9LF90b2dnbGVDbGVhcjpmdW5jdGlvbigpe3RoaXMuX2RlbGF5KFwiX3RvZ2dsZUNsZWFyQ2xhc3NcIiwwKX0sX3RvZ2dsZUNsZWFyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckJ0bi50b2dnbGVDbGFzcyhcInVpLWlucHV0LWNsZWFyLWhpZGRlblwiLCF0aGlzLmVsZW1lbnQudmFsKCkpfSxfZGVzdHJveUNsZWFyOmZ1bmN0aW9uKCl7dGhpcy53aWRnZXQoKS5yZW1vdmVDbGFzcyhcInVpLWlucHV0LWhhcy1jbGVhclwiKSx0aGlzLl91bmJpbmRDbGVhcigpLHRoaXMuX2NsZWFyQnRuLnJlbW92ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5vcHRpb25zLmNsZWFyQnRuJiZ0aGlzLl9kZXN0cm95Q2xlYXIoKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldChcIm1vYmlsZS50ZXh0aW5wdXRcIixhLm1vYmlsZS50ZXh0aW5wdXQse29wdGlvbnM6e2F1dG9ncm93OiEwLGtleXVwVGltZW91dEJ1ZmZlcjoxMDB9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLHRoaXMub3B0aW9ucy5hdXRvZ3JvdyYmdGhpcy5pc1RleHRhcmVhJiZ0aGlzLl9hdXRvZ3JvdygpfSxfYXV0b2dyb3c6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS10ZXh0aW5wdXQtYXV0b2dyb3dcIiksdGhpcy5fb24oe2tleXVwOlwiX3RpbWVvdXRcIixjaGFuZ2U6XCJfdGltZW91dFwiLGlucHV0OlwiX3RpbWVvdXRcIixwYXN0ZTpcIl90aW1lb3V0XCJ9KSx0aGlzLl9vbighMCx0aGlzLmRvY3VtZW50LHtwYWdlc2hvdzpcIl9oYW5kbGVTaG93XCIscG9wdXBiZWZvcmVwb3NpdGlvbjpcIl9oYW5kbGVTaG93XCIsdXBkYXRlbGF5b3V0OlwiX2hhbmRsZVNob3dcIixwYW5lbG9wZW46XCJfaGFuZGxlU2hvd1wifSl9LF9oYW5kbGVTaG93OmZ1bmN0aW9uKGIpe2EuY29udGFpbnMoYi50YXJnZXQsdGhpcy5lbGVtZW50WzBdKSYmdGhpcy5lbGVtZW50LmlzKFwiOnZpc2libGVcIikmJihcInBvcHVwYmVmb3JlcG9zaXRpb25cIiE9PWIudHlwZSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKFwidWktdGV4dGlucHV0LWF1dG9ncm93LXJlc2l6ZVwiKS5hbmltYXRpb25Db21wbGV0ZShhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktdGV4dGlucHV0LWF1dG9ncm93LXJlc2l6ZVwiKX0sdGhpcyksXCJ0cmFuc2l0aW9uXCIpLHRoaXMuX3ByZXBhcmVIZWlnaHRVcGRhdGUoKSl9LF91bmJpbmRBdXRvZ3JvdzpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLXRleHRpbnB1dC1hdXRvZ3Jvd1wiKSx0aGlzLl9vZmYodGhpcy5lbGVtZW50LFwia2V5dXAgY2hhbmdlIGlucHV0IHBhc3RlXCIpLHRoaXMuX29mZih0aGlzLmRvY3VtZW50LFwicGFnZXNob3cgcG9wdXBiZWZvcmVwb3NpdGlvbiB1cGRhdGVsYXlvdXQgcGFuZWxvcGVuXCIpfSxrZXl1cFRpbWVvdXQ6bnVsbCxfcHJlcGFyZUhlaWdodFVwZGF0ZTpmdW5jdGlvbihhKXt0aGlzLmtleXVwVGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMua2V5dXBUaW1lb3V0KSxhPT09Yj90aGlzLl91cGRhdGVIZWlnaHQoKTp0aGlzLmtleXVwVGltZW91dD10aGlzLl9kZWxheShcIl91cGRhdGVIZWlnaHRcIixhKX0sX3RpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLl9wcmVwYXJlSGVpZ2h0VXBkYXRlKHRoaXMub3B0aW9ucy5rZXl1cFRpbWVvdXRCdWZmZXIpfSxfdXBkYXRlSGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGcsaCxpLGo9dGhpcy53aW5kb3cuc2Nyb2xsVG9wKCk7dGhpcy5rZXl1cFRpbWVvdXQ9MCxcIm9ucGFnZVwiaW4gdGhpcy5lbGVtZW50WzBdfHx0aGlzLmVsZW1lbnQuY3NzKHtoZWlnaHQ6MCxcIm1pbi1oZWlnaHRcIjowLFwibWF4LWhlaWdodFwiOjB9KSxkPXRoaXMuZWxlbWVudFswXS5zY3JvbGxIZWlnaHQsZT10aGlzLmVsZW1lbnRbMF0uY2xpZW50SGVpZ2h0LGY9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKFwiYm9yZGVyLXRvcC13aWR0aFwiKSksZz1wYXJzZUZsb2F0KHRoaXMuZWxlbWVudC5jc3MoXCJib3JkZXItYm90dG9tLXdpZHRoXCIpKSxoPWYrZyxpPWQraCsxNSwwPT09ZSYmKGE9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKFwicGFkZGluZy10b3BcIikpLGI9cGFyc2VGbG9hdCh0aGlzLmVsZW1lbnQuY3NzKFwicGFkZGluZy1ib3R0b21cIikpLGM9YStiLGkrPWMpLHRoaXMuZWxlbWVudC5jc3Moe2hlaWdodDppLFwibWluLWhlaWdodFwiOlwiXCIsXCJtYXgtaGVpZ2h0XCI6XCJcIn0pLHRoaXMud2luZG93LnNjcm9sbFRvcChqKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvZ3JvdyYmdGhpcy5pc1RleHRhcmVhJiZ0aGlzLl91cGRhdGVIZWlnaHQoKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksYS5hdXRvZ3JvdyE9PWImJnRoaXMuaXNUZXh0YXJlYSYmKGEuYXV0b2dyb3c/dGhpcy5fYXV0b2dyb3coKTp0aGlzLl91bmJpbmRBdXRvZ3JvdygpKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoXCJtb2JpbGUuc2VsZWN0bWVudVwiLGEuZXh0ZW5kKHtpbml0U2VsZWN0b3I6XCJzZWxlY3Q6bm90KCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSk6bm90KCA6anFtRGF0YShyb2xlPSdmbGlwc3dpdGNoJykgKVwiLG9wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjpcImNhcmF0LWRcIixpY29ucG9zOlwicmlnaHRcIixpbmxpbmU6ITEsY29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMSxvdmVybGF5VGhlbWU6bnVsbCxkaXZpZGVyVGhlbWU6bnVsbCxoaWRlUGxhY2Vob2xkZXJNZW51SXRlbXM6ITAsY2xvc2VUZXh0OlwiQ2xvc2VcIixuYXRpdmVNZW51OiEwLHByZXZlbnRGb2N1c1pvb206L2lQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQXBwbGVXZWJLaXRcIik+LTEsbWluaTohMX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKFwiPGRpdi8+XCIpfSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIixhKSx0aGlzLmJ1dHRvbi5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLGEpLHRoaXMuX3NldE9wdGlvbihcImRpc2FibGVkXCIsYSl9LF9mb2N1c0J1dHRvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuYnV0dG9uLmZvY3VzKCl9LDQwKX0sX3NlbGVjdE9wdGlvbnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3QuZmluZChcIm9wdGlvblwiKX0sX3ByZUV4dGVuc2lvbjpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucy5pbmxpbmV8fHRoaXMuZWxlbWVudC5qcW1EYXRhKFwiaW5saW5lXCIpLGM9dGhpcy5vcHRpb25zLm1pbml8fHRoaXMuZWxlbWVudC5qcW1EYXRhKFwibWluaVwiKSxkPVwiXCI7fnRoaXMuZWxlbWVudFswXS5jbGFzc05hbWUuaW5kZXhPZihcInVpLWJ0bi1sZWZ0XCIpJiYoZD1cIiB1aS1idG4tbGVmdFwiKSx+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKFwidWktYnRuLXJpZ2h0XCIpJiYoZD1cIiB1aS1idG4tcmlnaHRcIiksYiYmKGQrPVwiIHVpLWJ0bi1pbmxpbmVcIiksYyYmKGQrPVwiIHVpLW1pbmlcIiksdGhpcy5zZWxlY3Q9dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktYnRuLWxlZnQgdWktYnRuLXJpZ2h0XCIpLndyYXAoXCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3RcIitkK1wiJz5cIiksdGhpcy5zZWxlY3RJZD10aGlzLnNlbGVjdC5hdHRyKFwiaWRcIil8fFwic2VsZWN0LVwiK3RoaXMudXVpZCx0aGlzLmJ1dHRvbklkPXRoaXMuc2VsZWN0SWQrXCItYnV0dG9uXCIsdGhpcy5sYWJlbD1hKFwibGFiZWxbZm9yPSdcIit0aGlzLnNlbGVjdElkK1wiJ11cIiksdGhpcy5pc011bHRpcGxlPXRoaXMuc2VsZWN0WzBdLm11bHRpcGxlfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5wYXJlbnRzKFwiLnVpLXNlbGVjdFwiKTthLmxlbmd0aD4wJiYoYS5pcyhcIi51aS1idG4tbGVmdCwgLnVpLWJ0bi1yaWdodFwiKSYmdGhpcy5lbGVtZW50LmFkZENsYXNzKGEuaGFzQ2xhc3MoXCJ1aS1idG4tbGVmdFwiKT9cInVpLWJ0bi1sZWZ0XCI6XCJ1aS1idG4tcmlnaHRcIiksdGhpcy5lbGVtZW50Lmluc2VydEFmdGVyKGEpLGEucmVtb3ZlKCkpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fcHJlRXh0ZW5zaW9uKCksdGhpcy5idXR0b249dGhpcy5fYnV0dG9uKCk7dmFyIGM9dGhpcyxkPXRoaXMub3B0aW9ucyxlPWQuaWNvbj9kLmljb25wb3N8fHRoaXMuc2VsZWN0LmpxbURhdGEoXCJpY29ucG9zXCIpOiExLGY9dGhpcy5idXR0b24uaW5zZXJ0QmVmb3JlKHRoaXMuc2VsZWN0KS5hdHRyKFwiaWRcIix0aGlzLmJ1dHRvbklkKS5hZGRDbGFzcyhcInVpLWJ0blwiKyhkLmljb24/XCIgdWktaWNvbi1cIitkLmljb24rXCIgdWktYnRuLWljb24tXCIrZSsoZC5pY29uc2hhZG93P1wiIHVpLXNoYWRvdy1pY29uXCI6XCJcIik6XCJcIikrKGQudGhlbWU/XCIgdWktYnRuLVwiK2QudGhlbWU6XCJcIikrKGQuY29ybmVycz9cIiB1aS1jb3JuZXItYWxsXCI6XCJcIikrKGQuc2hhZG93P1wiIHVpLXNoYWRvd1wiOlwiXCIpKTt0aGlzLnNldEJ1dHRvblRleHQoKSxkLm5hdGl2ZU1lbnUmJmIub3BlcmEmJmIub3BlcmEudmVyc2lvbiYmZi5hZGRDbGFzcyhcInVpLXNlbGVjdC1uYXRpdmVvbmx5XCIpLHRoaXMuaXNNdWx0aXBsZSYmKHRoaXMuYnV0dG9uQ291bnQ9YShcIjxzcGFuPlwiKS5hZGRDbGFzcyhcInVpLWxpLWNvdW50IHVpLWJvZHktaW5oZXJpdFwiKS5oaWRlKCkuYXBwZW5kVG8oZi5hZGRDbGFzcyhcInVpLWxpLWhhcy1jb3VudFwiKSkpLChkLmRpc2FibGVkfHx0aGlzLmVsZW1lbnQuYXR0cihcImRpc2FibGVkXCIpKSYmdGhpcy5kaXNhYmxlKCksdGhpcy5zZWxlY3QuY2hhbmdlKGZ1bmN0aW9uKCl7Yy5yZWZyZXNoKCksZC5uYXRpdmVNZW51JiZjLl9kZWxheShmdW5jdGlvbigpe2Muc2VsZWN0LmJsdXIoKX0pfSksdGhpcy5faGFuZGxlRm9ybVJlc2V0KCksdGhpcy5fb24odGhpcy5idXR0b24se2tleWRvd246XCJfaGFuZGxlS2V5ZG93blwifSksdGhpcy5idWlsZCgpfSxidWlsZDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5zZWxlY3QuYXBwZW5kVG8oYi5idXR0b24pLmJpbmQoXCJ2bW91c2Vkb3duXCIsZnVuY3Rpb24oKXtiLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKFwiZm9jdXNcIixmdW5jdGlvbigpe2IuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZChcImJsdXJcIixmdW5jdGlvbigpe2IuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSkuYmluZChcImZvY3VzIHZtb3VzZW92ZXJcIixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoXCJ2bW91c2VvdmVyXCIpfSkuYmluZChcInZtb3VzZW1vdmVcIixmdW5jdGlvbigpe2IuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoXCJjaGFuZ2UgYmx1ciB2bW91c2VvdXRcIixmdW5jdGlvbigpe2IuYnV0dG9uLnRyaWdnZXIoXCJ2bW91c2VvdXRcIikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSksYi5idXR0b24uYmluZChcInZtb3VzZWRvd25cIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5sYWJlbC5iaW5kKFwiY2xpY2sgZm9jdXNcIixmdW5jdGlvbigpe2Iub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUoITApfSksYi5zZWxlY3QuYmluZChcImZvY3VzXCIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmYS5tb2JpbGUuem9vbS5kaXNhYmxlKCEwKX0pLGIuYnV0dG9uLmJpbmQoXCJtb3VzZXVwXCIsZnVuY3Rpb24oKXtiLm9wdGlvbnMucHJldmVudEZvY3VzWm9vbSYmc2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0sMCl9KSxiLnNlbGVjdC5iaW5kKFwiYmx1clwiLGZ1bmN0aW9uKCl7Yi5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKCEwKX0pfSxzZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3RPcHRpb25zKCkuZmlsdGVyKFwiOnNlbGVjdGVkXCIpfSxzZWxlY3RlZEluZGljZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiB0aGlzLnNlbGVjdGVkKCkubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEuX3NlbGVjdE9wdGlvbnMoKS5pbmRleCh0aGlzKX0pLmdldCgpfSxzZXRCdXR0b25UZXh0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPXRoaXMuc2VsZWN0ZWQoKSxlPXRoaXMucGxhY2Vob2xkZXIsZj1hKGMuY3JlYXRlRWxlbWVudChcInNwYW5cIikpO3RoaXMuYnV0dG9uLmNoaWxkcmVuKFwic3BhblwiKS5ub3QoXCIudWktbGktY291bnRcIikucmVtb3ZlKCkuZW5kKCkuZW5kKCkucHJlcGVuZChmdW5jdGlvbigpe3JldHVybiBlPWQubGVuZ3RoP2QubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykudGV4dCgpfSkuZ2V0KCkuam9pbihcIiwgXCIpOmIucGxhY2Vob2xkZXIsZT9mLnRleHQoZSk6Zi5odG1sKFwiJiMxNjA7XCIpLGYuYWRkQ2xhc3MoYi5zZWxlY3QuYXR0cihcImNsYXNzXCIpKS5hZGRDbGFzcyhkLmF0dHIoXCJjbGFzc1wiKSkucmVtb3ZlQ2xhc3MoXCJ1aS1zY3JlZW4taGlkZGVuXCIpfSgpKX0sc2V0QnV0dG9uQ291bnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNlbGVjdGVkKCk7dGhpcy5pc011bHRpcGxlJiZ0aGlzLmJ1dHRvbkNvdW50W2EubGVuZ3RoPjE/XCJzaG93XCI6XCJoaWRlXCJdKCkudGV4dChhLmxlbmd0aCl9LF9oYW5kbGVLZXlkb3duOmZ1bmN0aW9uKCl7dGhpcy5fZGVsYXkoXCJfcmVmcmVzaEJ1dHRvblwiKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9yZWZyZXNoQnV0dG9uOmZ1bmN0aW9uKCl7dGhpcy5zZXRCdXR0b25UZXh0KCksdGhpcy5zZXRCdXR0b25Db3VudCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaEJ1dHRvbigpfSxvcGVuOmEubm9vcCxjbG9zZTphLm5vb3AsZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCEwKSx0aGlzLmJ1dHRvbi5hZGRDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCghMSksdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKX19LGEubW9iaWxlLmJlaGF2aW9ycy5mb3JtUmVzZXQpKX0oYSksZnVuY3Rpb24oYSl7YS5tb2JpbGUubGlua3M9ZnVuY3Rpb24oYil7YShiKS5maW5kKFwiYVwiKS5qcW1FbmhhbmNlYWJsZSgpLmZpbHRlcihcIjpqcW1EYXRhKHJlbD0ncG9wdXAnKVtocmVmXVtocmVmIT0nJ11cIikuZWFjaChmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmdldEF0dHJpYnV0ZShcImhyZWZcIikuc3Vic3RyaW5nKDEpO2ImJihhLnNldEF0dHJpYnV0ZShcImFyaWEtaGFzcG9wdXBcIiwhMCksYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLW93bnNcIixiKSxhLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwhMSkpfSkuZW5kKCkubm90KFwiLnVpLWJ0biwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJylcIikuYWRkQ2xhc3MoXCJ1aS1saW5rXCIpfX0oYSksZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKGEsYixjLGQpe3ZhciBlPWQ7cmV0dXJuIGU9Yj5hP2MrKGEtYikvMjpNYXRoLm1pbihNYXRoLm1heChjLGQtYi8yKSxjK2EtYil9ZnVuY3Rpb24gZShhKXtyZXR1cm57eDphLnNjcm9sbExlZnQoKSx5OmEuc2Nyb2xsVG9wKCksY3g6YVswXS5pbm5lcldpZHRofHxhLndpZHRoKCksY3k6YVswXS5pbm5lckhlaWdodHx8YS5oZWlnaHQoKX19YS53aWRnZXQoXCJtb2JpbGUucG9wdXBcIix7b3B0aW9uczp7d3JhcHBlckNsYXNzOm51bGwsdGhlbWU6bnVsbCxvdmVybGF5VGhlbWU6bnVsbCxzaGFkb3c6ITAsY29ybmVyczohMCx0cmFuc2l0aW9uOlwibm9uZVwiLHBvc2l0aW9uVG86XCJvcmlnaW5cIix0b2xlcmFuY2U6bnVsbCxjbG9zZUxpbmtTZWxlY3RvcjpcImE6anFtRGF0YShyZWw9J2JhY2snKVwiLGNsb3NlTGlua0V2ZW50czpcImNsaWNrLnBvcHVwXCIsbmF2aWdhdGVFdmVudHM6XCJuYXZpZ2F0ZS5wb3B1cFwiLGNsb3NlRXZlbnRzOlwibmF2aWdhdGUucG9wdXAgcGFnZWJlZm9yZWNoYW5nZS5wb3B1cFwiLGRpc21pc3NpYmxlOiEwLGVuaGFuY2VkOiExLGhpc3Rvcnk6IWEubW9iaWxlLmJyb3dzZXIub2xkSUV9LF9oYW5kbGVEb2N1bWVudFZtb3VzZWRvd246ZnVuY3Rpb24oYil7dGhpcy5faXNPcGVuJiZhLmNvbnRhaW5zKHRoaXMuX3VpLmNvbnRhaW5lclswXSxiLnRhcmdldCkmJnRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5hdHRyKFwiaWRcIiksZD10aGlzLm9wdGlvbnM7ZC5oaXN0b3J5PWQuaGlzdG9yeSYmYS5tb2JpbGUuYWpheEVuYWJsZWQmJmEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkLHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse3Ztb3VzZWRvd246XCJfaGFuZGxlRG9jdW1lbnRWbW91c2Vkb3duXCJ9KSxhLmV4dGVuZCh0aGlzLHtfc2Nyb2xsVG9wOjAsX3BhZ2U6Yi5jbG9zZXN0KFwiLnVpLXBhZ2VcIiksX3VpOm51bGwsX2ZhbGxiYWNrVHJhbnNpdGlvbjpcIlwiLF9jdXJyZW50VHJhbnNpdGlvbjohMSxfcHJlcmVxdWlzaXRlczpudWxsLF9pc09wZW46ITEsX3RvbGVyYW5jZTpudWxsLF9yZXNpemVEYXRhOm51bGwsX2lnbm9yZVJlc2l6ZVRvOjAsX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzczohMX0pLDA9PT10aGlzLl9wYWdlLmxlbmd0aCYmKHRoaXMuX3BhZ2U9YShcImJvZHlcIikpLGQuZW5oYW5jZWQ/dGhpcy5fdWk9e2NvbnRhaW5lcjpiLnBhcmVudCgpLHNjcmVlbjpiLnBhcmVudCgpLnByZXYoKSxwbGFjZWhvbGRlcjphKHRoaXMuZG9jdW1lbnRbMF0uZ2V0RWxlbWVudEJ5SWQoYytcIi1wbGFjZWhvbGRlclwiKSl9Oih0aGlzLl91aT10aGlzLl9lbmhhbmNlKGIsYyksdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGQudHJhbnNpdGlvbikpLHRoaXMuX3NldFRvbGVyYW5jZShkLnRvbGVyYW5jZSkuX3VpLmZvY3VzRWxlbWVudD10aGlzLl91aS5jb250YWluZXIsdGhpcy5fb24odGhpcy5fdWkuc2NyZWVuLHt2Y2xpY2s6XCJfZWF0RXZlbnRBbmRDbG9zZVwifSksdGhpcy5fb24odGhpcy53aW5kb3cse29yaWVudGF0aW9uY2hhbmdlOmEucHJveHkodGhpcyxcIl9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZVwiKSxyZXNpemU6YS5wcm94eSh0aGlzLFwiX2hhbmRsZVdpbmRvd1Jlc2l6ZVwiKSxrZXl1cDphLnByb3h5KHRoaXMsXCJfaGFuZGxlV2luZG93S2V5VXBcIil9KSx0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtmb2N1c2luOlwiX2hhbmRsZURvY3VtZW50Rm9jdXNJblwifSl9LF9lbmhhbmNlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5vcHRpb25zLGU9ZC53cmFwcGVyQ2xhc3MsZj17c2NyZWVuOmEoXCI8ZGl2IGNsYXNzPSd1aS1zY3JlZW4taGlkZGVuIHVpLXBvcHVwLXNjcmVlbiBcIit0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLW92ZXJsYXktXCIsZC5vdmVybGF5VGhlbWUpK1wiJz48L2Rpdj5cIikscGxhY2Vob2xkZXI6YShcIjxkaXYgc3R5bGU9J2Rpc3BsYXk6IG5vbmU7Jz48IS0tIHBsYWNlaG9sZGVyIC0tPjwvZGl2PlwiKSxjb250YWluZXI6YShcIjxkaXYgY2xhc3M9J3VpLXBvcHVwLWNvbnRhaW5lciB1aS1wb3B1cC1oaWRkZW4gdWktcG9wdXAtdHJ1bmNhdGVcIisoZT9cIiBcIitlOlwiXCIpK1wiJz48L2Rpdj5cIil9LGc9dGhpcy5kb2N1bWVudFswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuIGcuYXBwZW5kQ2hpbGQoZi5zY3JlZW5bMF0pLGcuYXBwZW5kQ2hpbGQoZi5jb250YWluZXJbMF0pLGMmJihmLnNjcmVlbi5hdHRyKFwiaWRcIixjK1wiLXNjcmVlblwiKSxmLmNvbnRhaW5lci5hdHRyKFwiaWRcIixjK1wiLXBvcHVwXCIpLGYucGxhY2Vob2xkZXIuYXR0cihcImlkXCIsYytcIi1wbGFjZWhvbGRlclwiKS5odG1sKFwiPCEtLSBwbGFjZWhvbGRlciBmb3IgXCIrYytcIiAtLT5cIikpLHRoaXMuX3BhZ2VbMF0uYXBwZW5kQ2hpbGQoZyksZi5wbGFjZWhvbGRlci5pbnNlcnRBZnRlcihiKSxiLmRldGFjaCgpLmFkZENsYXNzKFwidWktcG9wdXAgXCIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ib2R5LVwiLGQudGhlbWUpK1wiIFwiKyhkLnNoYWRvdz9cInVpLW92ZXJsYXktc2hhZG93IFwiOlwiXCIpKyhkLmNvcm5lcnM/XCJ1aS1jb3JuZXItYWxsIFwiOlwiXCIpKS5hcHBlbmRUbyhmLmNvbnRhaW5lciksZn0sX2VhdEV2ZW50QW5kQ2xvc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSYmdGhpcy5jbG9zZSgpLCExfSxfcmVzaXplU2NyZWVuOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWkuc2NyZWVuLGI9dGhpcy5fdWkuY29udGFpbmVyLm91dGVySGVpZ2h0KCEwKSxjPWEucmVtb3ZlQXR0cihcInN0eWxlXCIpLmhlaWdodCgpLGQ9dGhpcy5kb2N1bWVudC5oZWlnaHQoKS0xO2Q+Yz9hLmhlaWdodChkKTpiPmMmJmEuaGVpZ2h0KGIpfSxfaGFuZGxlV2luZG93S2V5VXA6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuX2lzT3BlbiYmYi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FU0NBUEU/dGhpcy5fZWF0RXZlbnRBbmRDbG9zZShiKTp2b2lkIDB9LF9leHBlY3RSZXNpemVFdmVudDpmdW5jdGlvbigpe3ZhciBhPWUodGhpcy53aW5kb3cpO1xyXG5pZih0aGlzLl9yZXNpemVEYXRhKXtpZihhLng9PT10aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLngmJmEueT09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMueSYmYS5jeD09PXRoaXMuX3Jlc2l6ZURhdGEud2luZG93Q29vcmRpbmF0ZXMuY3gmJmEuY3k9PT10aGlzLl9yZXNpemVEYXRhLndpbmRvd0Nvb3JkaW5hdGVzLmN5KXJldHVybiExO2NsZWFyVGltZW91dCh0aGlzLl9yZXNpemVEYXRhLnRpbWVvdXRJZCl9cmV0dXJuIHRoaXMuX3Jlc2l6ZURhdGE9e3RpbWVvdXRJZDp0aGlzLl9kZWxheShcIl9yZXNpemVUaW1lb3V0XCIsMjAwKSx3aW5kb3dDb29yZGluYXRlczphfSwhMH0sX3Jlc2l6ZVRpbWVvdXQ6ZnVuY3Rpb24oKXt0aGlzLl9pc09wZW4/dGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKXx8KHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcyhcInVpLXBvcHVwLWhpZGRlblwiKSYmKHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcInVpLXBvcHVwLWhpZGRlbiB1aS1wb3B1cC10cnVuY2F0ZVwiKSx0aGlzLnJlcG9zaXRpb24oe3Bvc2l0aW9uVG86XCJ3aW5kb3dcIn0pLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpKSx0aGlzLl9yZXNpemVTY3JlZW4oKSx0aGlzLl9yZXNpemVEYXRhPW51bGwsdGhpcy5fb3JpZW50YXRpb25jaGFuZ2VJblByb2dyZXNzPSExKToodGhpcy5fcmVzaXplRGF0YT1udWxsLHRoaXMuX29yaWVudGF0aW9uY2hhbmdlSW5Qcm9ncmVzcz0hMSl9LF9zdG9wSWdub3JpbmdSZXNpemVFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9pZ25vcmVSZXNpemVUbz0wfSxfaWdub3JlUmVzaXplRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5faWdub3JlUmVzaXplVG8mJmNsZWFyVGltZW91dCh0aGlzLl9pZ25vcmVSZXNpemVUbyksdGhpcy5faWdub3JlUmVzaXplVG89dGhpcy5fZGVsYXkoXCJfc3RvcElnbm9yaW5nUmVzaXplRXZlbnRzXCIsMWUzKX0sX2hhbmRsZVdpbmRvd1Jlc2l6ZTpmdW5jdGlvbigpe3RoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYoIXRoaXMuX2V4cGVjdFJlc2l6ZUV2ZW50KCkmJiF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3N8fHRoaXMuX3VpLmNvbnRhaW5lci5oYXNDbGFzcyhcInVpLXBvcHVwLWhpZGRlblwiKXx8dGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKFwidWktcG9wdXAtaGlkZGVuIHVpLXBvcHVwLXRydW5jYXRlXCIpLnJlbW92ZUF0dHIoXCJzdHlsZVwiKSl9LF9oYW5kbGVXaW5kb3dPcmllbnRhdGlvbmNoYW5nZTpmdW5jdGlvbigpeyF0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3MmJnRoaXMuX2lzT3BlbiYmMD09PXRoaXMuX2lnbm9yZVJlc2l6ZVRvJiYodGhpcy5fZXhwZWN0UmVzaXplRXZlbnQoKSx0aGlzLl9vcmllbnRhdGlvbmNoYW5nZUluUHJvZ3Jlc3M9ITApfSxfaGFuZGxlRG9jdW1lbnRGb2N1c0luOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9Yi50YXJnZXQsZT10aGlzLl91aTtpZih0aGlzLl9pc09wZW4pe2lmKGQhPT1lLmNvbnRhaW5lclswXSl7aWYoYz1hKGQpLCFhLmNvbnRhaW5zKGUuY29udGFpbmVyWzBdLGQpKXJldHVybiBhKHRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCkub25lKFwiZm9jdXNcIixhLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5fc2FmZWx5Qmx1cihkKX0sdGhpcykpLGUuZm9jdXNFbGVtZW50LmZvY3VzKCksYi5wcmV2ZW50RGVmYXVsdCgpLGIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksITE7ZS5mb2N1c0VsZW1lbnRbMF09PT1lLmNvbnRhaW5lclswXSYmKGUuZm9jdXNFbGVtZW50PWMpfXRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpfX0sX3RoZW1lQ2xhc3NGcm9tT3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/XCJub25lXCI9PT1iP1wiXCI6YStiOmErXCJpbmhlcml0XCJ9LF9hcHBseVRyYW5zaXRpb246ZnVuY3Rpb24oYil7cmV0dXJuIGImJih0aGlzLl91aS5jb250YWluZXIucmVtb3ZlQ2xhc3ModGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKSxcIm5vbmVcIiE9PWImJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249YS5tb2JpbGUuX21heWJlRGVncmFkZVRyYW5zaXRpb24oYiksXCJub25lXCI9PT10aGlzLl9mYWxsYmFja1RyYW5zaXRpb24mJih0aGlzLl9mYWxsYmFja1RyYW5zaXRpb249XCJcIiksdGhpcy5fdWkuY29udGFpbmVyLmFkZENsYXNzKHRoaXMuX2ZhbGxiYWNrVHJhbnNpdGlvbikpKSx0aGlzfSxfc2V0T3B0aW9uczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnMsZD10aGlzLmVsZW1lbnQsZT10aGlzLl91aS5zY3JlZW47cmV0dXJuIGEud3JhcHBlckNsYXNzIT09YyYmdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKGIud3JhcHBlckNsYXNzKS5hZGRDbGFzcyhhLndyYXBwZXJDbGFzcyksYS50aGVtZSE9PWMmJmQucmVtb3ZlQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ib2R5LVwiLGIudGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihcInVpLWJvZHktXCIsYS50aGVtZSkpLGEub3ZlcmxheVRoZW1lIT09YyYmKGUucmVtb3ZlQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1vdmVybGF5LVwiLGIub3ZlcmxheVRoZW1lKSkuYWRkQ2xhc3ModGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1vdmVybGF5LVwiLGEub3ZlcmxheVRoZW1lKSksdGhpcy5faXNPcGVuJiZlLmFkZENsYXNzKFwiaW5cIikpLGEuc2hhZG93IT09YyYmZC50b2dnbGVDbGFzcyhcInVpLW92ZXJsYXktc2hhZG93XCIsYS5zaGFkb3cpLGEuY29ybmVycyE9PWMmJmQudG9nZ2xlQ2xhc3MoXCJ1aS1jb3JuZXItYWxsXCIsYS5jb3JuZXJzKSxhLnRyYW5zaXRpb24hPT1jJiYodGhpcy5fY3VycmVudFRyYW5zaXRpb258fHRoaXMuX2FwcGx5VHJhbnNpdGlvbihhLnRyYW5zaXRpb24pKSxhLnRvbGVyYW5jZSE9PWMmJnRoaXMuX3NldFRvbGVyYW5jZShhLnRvbGVyYW5jZSksYS5kaXNhYmxlZCE9PWMmJmEuZGlzYWJsZWQmJnRoaXMuY2xvc2UoKSx0aGlzLl9zdXBlcihhKX0sX3NldFRvbGVyYW5jZTpmdW5jdGlvbihiKXt2YXIgZCxlPXt0OjMwLHI6MTUsYjozMCxsOjE1fTtpZihiIT09Yylzd2l0Y2goZD1TdHJpbmcoYikuc3BsaXQoXCIsXCIpLGEuZWFjaChkLGZ1bmN0aW9uKGEsYil7ZFthXT1wYXJzZUludChiLDEwKX0pLGQubGVuZ3RoKXtjYXNlIDE6aXNOYU4oZFswXSl8fChlLnQ9ZS5yPWUuYj1lLmw9ZFswXSk7YnJlYWs7Y2FzZSAyOmlzTmFOKGRbMF0pfHwoZS50PWUuYj1kWzBdKSxpc05hTihkWzFdKXx8KGUubD1lLnI9ZFsxXSk7YnJlYWs7Y2FzZSA0OmlzTmFOKGRbMF0pfHwoZS50PWRbMF0pLGlzTmFOKGRbMV0pfHwoZS5yPWRbMV0pLGlzTmFOKGRbMl0pfHwoZS5iPWRbMl0pLGlzTmFOKGRbM10pfHwoZS5sPWRbM10pfXJldHVybiB0aGlzLl90b2xlcmFuY2U9ZSx0aGlzfSxfY2xhbXBQb3B1cFdpZHRoOmZ1bmN0aW9uKGEpe3ZhciBiLGM9ZSh0aGlzLndpbmRvdyksZD17eDp0aGlzLl90b2xlcmFuY2UubCx5OmMueSt0aGlzLl90b2xlcmFuY2UudCxjeDpjLmN4LXRoaXMuX3RvbGVyYW5jZS5sLXRoaXMuX3RvbGVyYW5jZS5yLGN5OmMuY3ktdGhpcy5fdG9sZXJhbmNlLnQtdGhpcy5fdG9sZXJhbmNlLmJ9O3JldHVybiBhfHx0aGlzLl91aS5jb250YWluZXIuY3NzKFwibWF4LXdpZHRoXCIsZC5jeCksYj17Y3g6dGhpcy5fdWkuY29udGFpbmVyLm91dGVyV2lkdGgoITApLGN5OnRoaXMuX3VpLmNvbnRhaW5lci5vdXRlckhlaWdodCghMCl9LHtyYzpkLG1lbnVTaXplOmJ9fSxfY2FsY3VsYXRlRmluYWxMb2NhdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjLGU9Yi5yYyxmPWIubWVudVNpemU7cmV0dXJuIGM9e2xlZnQ6ZChlLmN4LGYuY3gsZS54LGEueCksdG9wOmQoZS5jeSxmLmN5LGUueSxhLnkpfSxjLnRvcD1NYXRoLm1heCgwLGMudG9wKSxjLnRvcC09TWF0aC5taW4oYy50b3AsTWF0aC5tYXgoMCxjLnRvcCtmLmN5LXRoaXMuZG9jdW1lbnQuaGVpZ2h0KCkpKSxjfSxfcGxhY2VtZW50Q29vcmRzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl9jYWxjdWxhdGVGaW5hbExvY2F0aW9uKGEsdGhpcy5fY2xhbXBQb3B1cFdpZHRoKCkpfSxfY3JlYXRlUHJlcmVxdWlzaXRlczpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZj10aGlzO2U9e3NjcmVlbjphLkRlZmVycmVkKCksY29udGFpbmVyOmEuRGVmZXJyZWQoKX0sZS5zY3JlZW4udGhlbihmdW5jdGlvbigpe2U9PT1mLl9wcmVyZXF1aXNpdGVzJiZiKCl9KSxlLmNvbnRhaW5lci50aGVuKGZ1bmN0aW9uKCl7ZT09PWYuX3ByZXJlcXVpc2l0ZXMmJmMoKX0pLGEud2hlbihlLnNjcmVlbixlLmNvbnRhaW5lcikuZG9uZShmdW5jdGlvbigpe2U9PT1mLl9wcmVyZXF1aXNpdGVzJiYoZi5fcHJlcmVxdWlzaXRlcz1udWxsLGQoKSl9KSxmLl9wcmVyZXF1aXNpdGVzPWV9LF9hbmltYXRlOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoYi5jbGFzc1RvUmVtb3ZlKS5hZGRDbGFzcyhiLnNjcmVlbkNsYXNzVG9BZGQpLGIucHJlcmVxdWlzaXRlcy5zY3JlZW4ucmVzb2x2ZSgpLGIudHJhbnNpdGlvbiYmXCJub25lXCIhPT1iLnRyYW5zaXRpb24mJihiLmFwcGx5VHJhbnNpdGlvbiYmdGhpcy5fYXBwbHlUcmFuc2l0aW9uKGIudHJhbnNpdGlvbiksdGhpcy5fZmFsbGJhY2tUcmFuc2l0aW9uKT92b2lkIHRoaXMuX3VpLmNvbnRhaW5lci5hZGRDbGFzcyhiLmNvbnRhaW5lckNsYXNzVG9BZGQpLnJlbW92ZUNsYXNzKGIuY2xhc3NUb1JlbW92ZSkuYW5pbWF0aW9uQ29tcGxldGUoYS5wcm94eShiLnByZXJlcXVpc2l0ZXMuY29udGFpbmVyLFwicmVzb2x2ZVwiKSk6KHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhiLmNsYXNzVG9SZW1vdmUpLHZvaWQgYi5wcmVyZXF1aXNpdGVzLmNvbnRhaW5lci5yZXNvbHZlKCkpfSxfZGVzaXJlZENvb3JkczpmdW5jdGlvbihiKXt2YXIgYyxkPW51bGwsZj1lKHRoaXMud2luZG93KSxnPWIueCxoPWIueSxpPWIucG9zaXRpb25UbztpZihpJiZcIm9yaWdpblwiIT09aSlpZihcIndpbmRvd1wiPT09aSlnPWYuY3gvMitmLngsaD1mLmN5LzIrZi55O2Vsc2V7dHJ5e2Q9YShpKX1jYXRjaChqKXtkPW51bGx9ZCYmKGQuZmlsdGVyKFwiOnZpc2libGVcIiksMD09PWQubGVuZ3RoJiYoZD1udWxsKSl9cmV0dXJuIGQmJihjPWQub2Zmc2V0KCksZz1jLmxlZnQrZC5vdXRlcldpZHRoKCkvMixoPWMudG9wK2Qub3V0ZXJIZWlnaHQoKS8yKSwoXCJudW1iZXJcIiE9PWEudHlwZShnKXx8aXNOYU4oZykpJiYoZz1mLmN4LzIrZi54KSwoXCJudW1iZXJcIiE9PWEudHlwZShoKXx8aXNOYU4oaCkpJiYoaD1mLmN5LzIrZi55KSx7eDpnLHk6aH19LF9yZXBvc2l0aW9uOmZ1bmN0aW9uKGEpe2E9e3g6YS54LHk6YS55LHBvc2l0aW9uVG86YS5wb3NpdGlvblRvfSx0aGlzLl90cmlnZ2VyKFwiYmVmb3JlcG9zaXRpb25cIixjLGEpLHRoaXMuX3VpLmNvbnRhaW5lci5vZmZzZXQodGhpcy5fcGxhY2VtZW50Q29vcmRzKHRoaXMuX2Rlc2lyZWRDb29yZHMoYSkpKX0scmVwb3NpdGlvbjpmdW5jdGlvbihhKXt0aGlzLl9pc09wZW4mJnRoaXMuX3JlcG9zaXRpb24oYSl9LF9zYWZlbHlCbHVyOmZ1bmN0aW9uKGIpe2IhPT10aGlzLndpbmRvd1swXSYmXCJib2R5XCIhPT1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmEoYikuYmx1cigpfSxfb3BlblByZXJlcXVpc2l0ZXNDb21wbGV0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudC5hdHRyKFwiaWRcIiksYz10aGlzLl91aS5jb250YWluZXIuZmluZChcIjpmb2N1c2FibGVcIikuZmlyc3QoKTt0aGlzLl91aS5jb250YWluZXIuYWRkQ2xhc3MoXCJ1aS1wb3B1cC1hY3RpdmVcIiksdGhpcy5faXNPcGVuPSEwLHRoaXMuX3Jlc2l6ZVNjcmVlbigpLGEuY29udGFpbnModGhpcy5fdWkuY29udGFpbmVyWzBdLHRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCl8fHRoaXMuX3NhZmVseUJsdXIodGhpcy5kb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KSxjLmxlbmd0aD4wJiYodGhpcy5fdWkuZm9jdXNFbGVtZW50PWMpLHRoaXMuX2lnbm9yZVJlc2l6ZUV2ZW50cygpLGImJnRoaXMuZG9jdW1lbnQuZmluZChcIlthcmlhLWhhc3BvcHVwPSd0cnVlJ11bYXJpYS1vd25zPSdcIitiK1wiJ11cIikuYXR0cihcImFyaWEtZXhwYW5kZWRcIiwhMCksdGhpcy5fdHJpZ2dlcihcImFmdGVyb3BlblwiKX0sX29wZW46ZnVuY3Rpb24oYil7dmFyIGM9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zLGIpLGQ9ZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LGI9YS5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS8pLGM9ISFiJiZiWzFdLGQ9YS5tYXRjaCgvQW5kcm9pZCAoXFxkKyg/OlxcLlxcZCspKS8pLGU9ISFkJiZkWzFdLGY9YS5pbmRleE9mKFwiQ2hyb21lXCIpPi0xO3JldHVybiBudWxsIT09ZCYmXCI0LjBcIj09PWUmJmMmJmM+NTM0LjEzJiYhZj8hMDohMX0oKTt0aGlzLl9jcmVhdGVQcmVyZXF1aXNpdGVzKGEubm9vcCxhLm5vb3AsYS5wcm94eSh0aGlzLFwiX29wZW5QcmVyZXF1aXNpdGVzQ29tcGxldGVcIikpLHRoaXMuX2N1cnJlbnRUcmFuc2l0aW9uPWMudHJhbnNpdGlvbix0aGlzLl9hcHBseVRyYW5zaXRpb24oYy50cmFuc2l0aW9uKSx0aGlzLl91aS5zY3JlZW4ucmVtb3ZlQ2xhc3MoXCJ1aS1zY3JlZW4taGlkZGVuXCIpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcInVpLXBvcHVwLXRydW5jYXRlXCIpLHRoaXMuX3JlcG9zaXRpb24oYyksdGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwidWktcG9wdXAtaGlkZGVuXCIpLHRoaXMub3B0aW9ucy5vdmVybGF5VGhlbWUmJmQmJnRoaXMuZWxlbWVudC5jbG9zZXN0KFwiLnVpLXBhZ2VcIikuYWRkQ2xhc3MoXCJ1aS1wb3B1cC1vcGVuXCIpLHRoaXMuX2FuaW1hdGUoe2FkZGl0aW9uYWxDb25kaXRpb246ITAsdHJhbnNpdGlvbjpjLnRyYW5zaXRpb24sY2xhc3NUb1JlbW92ZTpcIlwiLHNjcmVlbkNsYXNzVG9BZGQ6XCJpblwiLGNvbnRhaW5lckNsYXNzVG9BZGQ6XCJpblwiLGFwcGx5VHJhbnNpdGlvbjohMSxwcmVyZXF1aXNpdGVzOnRoaXMuX3ByZXJlcXVpc2l0ZXN9KX0sX2Nsb3NlUHJlcmVxdWlzaXRlU2NyZWVuOmZ1bmN0aW9uKCl7dGhpcy5fdWkuc2NyZWVuLnJlbW92ZUNsYXNzKFwib3V0XCIpLmFkZENsYXNzKFwidWktc2NyZWVuLWhpZGRlblwiKX0sX2Nsb3NlUHJlcmVxdWlzaXRlQ29udGFpbmVyOmZ1bmN0aW9uKCl7dGhpcy5fdWkuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwicmV2ZXJzZSBvdXRcIikuYWRkQ2xhc3MoXCJ1aS1wb3B1cC1oaWRkZW4gdWktcG9wdXAtdHJ1bmNhdGVcIikucmVtb3ZlQXR0cihcInN0eWxlXCIpfSxfY2xvc2VQcmVyZXF1aXNpdGVzRG9uZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuX3VpLmNvbnRhaW5lcixkPXRoaXMuZWxlbWVudC5hdHRyKFwiaWRcIik7YS5tb2JpbGUucG9wdXAuYWN0aXZlPWMsYShcIjpmb2N1c1wiLGJbMF0pLmFkZChiWzBdKS5ibHVyKCksZCYmdGhpcy5kb2N1bWVudC5maW5kKFwiW2FyaWEtaGFzcG9wdXA9J3RydWUnXVthcmlhLW93bnM9J1wiK2QrXCInXVwiKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCExKSx0aGlzLl90cmlnZ2VyKFwiYWZ0ZXJjbG9zZVwiKX0sX2Nsb3NlOmZ1bmN0aW9uKGIpe3RoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcInVpLXBvcHVwLWFjdGl2ZVwiKSx0aGlzLl9wYWdlLnJlbW92ZUNsYXNzKFwidWktcG9wdXAtb3BlblwiKSx0aGlzLl9pc09wZW49ITEsdGhpcy5fY3JlYXRlUHJlcmVxdWlzaXRlcyhhLnByb3h5KHRoaXMsXCJfY2xvc2VQcmVyZXF1aXNpdGVTY3JlZW5cIiksYS5wcm94eSh0aGlzLFwiX2Nsb3NlUHJlcmVxdWlzaXRlQ29udGFpbmVyXCIpLGEucHJveHkodGhpcyxcIl9jbG9zZVByZXJlcXVpc2l0ZXNEb25lXCIpKSx0aGlzLl9hbmltYXRlKHthZGRpdGlvbmFsQ29uZGl0aW9uOnRoaXMuX3VpLnNjcmVlbi5oYXNDbGFzcyhcImluXCIpLHRyYW5zaXRpb246Yj9cIm5vbmVcIjp0aGlzLl9jdXJyZW50VHJhbnNpdGlvbixjbGFzc1RvUmVtb3ZlOlwiaW5cIixzY3JlZW5DbGFzc1RvQWRkOlwib3V0XCIsY29udGFpbmVyQ2xhc3NUb0FkZDpcInJldmVyc2Ugb3V0XCIsYXBwbHlUcmFuc2l0aW9uOiEwLHByZXJlcXVpc2l0ZXM6dGhpcy5fcHJlcmVxdWlzaXRlc30pfSxfdW5lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHwodGhpcy5fc2V0T3B0aW9ucyh7dGhlbWU6YS5tb2JpbGUucG9wdXAucHJvdG90eXBlLm9wdGlvbnMudGhlbWV9KSx0aGlzLmVsZW1lbnQuZGV0YWNoKCkuaW5zZXJ0QWZ0ZXIodGhpcy5fdWkucGxhY2Vob2xkZXIpLnJlbW92ZUNsYXNzKFwidWktcG9wdXAgdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCB1aS1ib2R5LWluaGVyaXRcIiksdGhpcy5fdWkuc2NyZWVuLnJlbW92ZSgpLHRoaXMuX3VpLmNvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl91aS5wbGFjZWhvbGRlci5yZW1vdmUoKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7cmV0dXJuIGEubW9iaWxlLnBvcHVwLmFjdGl2ZT09PXRoaXM/KHRoaXMuZWxlbWVudC5vbmUoXCJwb3B1cGFmdGVyY2xvc2VcIixhLnByb3h5KHRoaXMsXCJfdW5lbmhhbmNlXCIpKSx0aGlzLmNsb3NlKCkpOnRoaXMuX3VuZW5oYW5jZSgpLHRoaXN9LF9jbG9zZVBvcHVwOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZixnPXRoaXMub3B0aW9ucyxoPSExO2MmJmMuaXNEZWZhdWx0UHJldmVudGVkKCl8fGEubW9iaWxlLnBvcHVwLmFjdGl2ZSE9PXRoaXN8fChiLnNjcm9sbFRvKDAsdGhpcy5fc2Nyb2xsVG9wKSxjJiZcInBhZ2ViZWZvcmVjaGFuZ2VcIj09PWMudHlwZSYmZCYmKGU9XCJzdHJpbmdcIj09dHlwZW9mIGQudG9QYWdlP2QudG9QYWdlOmQudG9QYWdlLmpxbURhdGEoXCJ1cmxcIiksZT1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGUpLGY9ZS5wYXRobmFtZStlLnNlYXJjaCtlLmhhc2gsdGhpcy5fbXlVcmwhPT1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShmKT9oPSEwOmMucHJldmVudERlZmF1bHQoKSksdGhpcy53aW5kb3cub2ZmKGcuY2xvc2VFdmVudHMpLHRoaXMuZWxlbWVudC51bmRlbGVnYXRlKGcuY2xvc2VMaW5rU2VsZWN0b3IsZy5jbG9zZUxpbmtFdmVudHMpLHRoaXMuX2Nsb3NlKGgpKX0sX2JpbmRDb250YWluZXJDbG9zZTpmdW5jdGlvbigpe3RoaXMud2luZG93Lm9uKHRoaXMub3B0aW9ucy5jbG9zZUV2ZW50cyxhLnByb3h5KHRoaXMsXCJfY2xvc2VQb3B1cFwiKSl9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91aS5jb250YWluZXJ9LG9wZW46ZnVuY3Rpb24oYil7dmFyIGMsZCxlLGYsZyxoLGk9dGhpcyxqPXRoaXMub3B0aW9ucztyZXR1cm4gYS5tb2JpbGUucG9wdXAuYWN0aXZlfHxqLmRpc2FibGVkP3RoaXM6KGEubW9iaWxlLnBvcHVwLmFjdGl2ZT10aGlzLHRoaXMuX3Njcm9sbFRvcD10aGlzLndpbmRvdy5zY3JvbGxUb3AoKSxqLmhpc3Rvcnk/KGg9YS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSxkPWEubW9iaWxlLmRpYWxvZ0hhc2hLZXksZT1hLm1vYmlsZS5hY3RpdmVQYWdlLGY9ZT9lLmhhc0NsYXNzKFwidWktZGlhbG9nXCIpOiExLHRoaXMuX215VXJsPWM9aC5nZXRBY3RpdmUoKS51cmwsKGc9Yy5pbmRleE9mKGQpPi0xJiYhZiYmaC5hY3RpdmVJbmRleD4wKT8oaS5fb3BlbihiKSxpLl9iaW5kQ29udGFpbmVyQ2xvc2UoKSx0aGlzKTooLTEhPT1jLmluZGV4T2YoZCl8fGY/Yz1hLm1vYmlsZS5wYXRoLnBhcnNlTG9jYXRpb24oKS5oYXNoK2Q6Yys9Yy5pbmRleE9mKFwiI1wiKT4tMT9kOlwiI1wiK2QsdGhpcy53aW5kb3cub25lKFwiYmVmb3JlbmF2aWdhdGVcIixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksaS5fb3BlbihiKSxpLl9iaW5kQ29udGFpbmVyQ2xvc2UoKX0pLHRoaXMudXJsQWx0ZXJlZD0hMCxhLm1vYmlsZS5uYXZpZ2F0ZShjLHtyb2xlOlwiZGlhbG9nXCJ9KSx0aGlzKSk6KGkuX29wZW4oYiksaS5fYmluZENvbnRhaW5lckNsb3NlKCksaS5lbGVtZW50LmRlbGVnYXRlKGouY2xvc2VMaW5rU2VsZWN0b3Isai5jbG9zZUxpbmtFdmVudHMsZnVuY3Rpb24oYSl7aS5jbG9zZSgpLGEucHJldmVudERlZmF1bHQoKX0pLHRoaXMpKX0sY2xvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUucG9wdXAuYWN0aXZlIT09dGhpcz90aGlzOih0aGlzLl9zY3JvbGxUb3A9dGhpcy53aW5kb3cuc2Nyb2xsVG9wKCksdGhpcy5vcHRpb25zLmhpc3RvcnkmJnRoaXMudXJsQWx0ZXJlZD8oYS5tb2JpbGUuYmFjaygpLHRoaXMudXJsQWx0ZXJlZD0hMSk6dGhpcy5fY2xvc2VQb3B1cCgpLHRoaXMpfX0pLGEubW9iaWxlLnBvcHVwLmhhbmRsZUxpbms9ZnVuY3Rpb24oYil7dmFyIGMsZD1hLm1vYmlsZS5wYXRoLGU9YShkLmhhc2hUb1NlbGVjdG9yKGQucGFyc2VVcmwoYi5hdHRyKFwiaHJlZlwiKSkuaGFzaCkpLmZpcnN0KCk7ZS5sZW5ndGg+MCYmZS5kYXRhKFwibW9iaWxlLXBvcHVwXCIpJiYoYz1iLm9mZnNldCgpLGUucG9wdXAoXCJvcGVuXCIse3g6Yy5sZWZ0K2Iub3V0ZXJXaWR0aCgpLzIseTpjLnRvcCtiLm91dGVySGVpZ2h0KCkvMix0cmFuc2l0aW9uOmIuanFtRGF0YShcInRyYW5zaXRpb25cIikscG9zaXRpb25UbzpiLmpxbURhdGEoXCJwb3NpdGlvbi10b1wiKX0pKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LDMwMCl9LGEubW9iaWxlLmRvY3VtZW50Lm9uKFwicGFnZWJlZm9yZWNoYW5nZVwiLGZ1bmN0aW9uKGIsYyl7XCJwb3B1cFwiPT09Yy5vcHRpb25zLnJvbGUmJihhLm1vYmlsZS5wb3B1cC5oYW5kbGVMaW5rKGMub3B0aW9ucy5saW5rKSxiLnByZXZlbnREZWZhdWx0KCkpfSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGQ9XCIudWktZGlzYWJsZWQsLnVpLXN0YXRlLWRpc2FibGVkLC51aS1saS1kaXZpZGVyLC51aS1zY3JlZW4taGlkZGVuLDpqcW1EYXRhKHJvbGU9J3BsYWNlaG9sZGVyJylcIixlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZT1hW2MrXCJBbGxcIl0oKS5ub3QoZCkuZmlyc3QoKTtlLmxlbmd0aCYmKGIuYmx1cigpLmF0dHIoXCJ0YWJpbmRleFwiLFwiLTFcIiksZS5maW5kKFwiYVwiKS5maXJzdCgpLmZvY3VzKCkpfTthLndpZGdldChcIm1vYmlsZS5zZWxlY3RtZW51XCIsYS5tb2JpbGUuc2VsZWN0bWVudSx7X2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucztyZXR1cm4gYS5uYXRpdmVNZW51PWEubmF0aXZlTWVudXx8dGhpcy5lbGVtZW50LnBhcmVudHMoXCI6anFtRGF0YShyb2xlPSdwb3B1cCcpLDptb2JpbGUtcG9wdXBcIikubGVuZ3RoPjAsdGhpcy5fc3VwZXIoKX0sX2hhbmRsZVNlbGVjdEZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmJsdXIoKSx0aGlzLmJ1dHRvbi5mb2N1cygpfSxfaGFuZGxlS2V5ZG93bjpmdW5jdGlvbihhKXt0aGlzLl9zdXBlcihhKSx0aGlzLl9oYW5kbGVCdXR0b25WY2xpY2tLZXlkb3duKGEpfSxfaGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93bjpmdW5jdGlvbihiKXt0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fHRoaXMuaXNPcGVufHx0aGlzLm9wdGlvbnMubmF0aXZlTWVudXx8KFwidmNsaWNrXCI9PT1iLnR5cGV8fGIua2V5Q29kZSYmKGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKSYmKHRoaXMuX2RlY2lkZUZvcm1hdCgpLFwib3ZlcmxheVwiPT09dGhpcy5tZW51VHlwZT90aGlzLmJ1dHRvbi5hdHRyKFwiaHJlZlwiLFwiI1wiK3RoaXMucG9wdXBJZCkuYXR0cihcImRhdGEtXCIrKGEubW9iaWxlLm5zfHxcIlwiKStcInJlbFwiLFwicG9wdXBcIik6dGhpcy5idXR0b24uYXR0cihcImhyZWZcIixcIiNcIit0aGlzLmRpYWxvZ0lkKS5hdHRyKFwiZGF0YS1cIisoYS5tb2JpbGUubnN8fFwiXCIpK1wicmVsXCIsXCJkaWFsb2dcIiksdGhpcy5pc09wZW49ITApfSxfaGFuZGxlTGlzdEZvY3VzOmZ1bmN0aW9uKGIpe3ZhciBjPVwiZm9jdXNpblwiPT09Yi50eXBlP3t0YWJpbmRleDpcIjBcIixldmVudDpcInZtb3VzZW92ZXJcIn06e3RhYmluZGV4OlwiLTFcIixldmVudDpcInZtb3VzZW91dFwifTthKGIudGFyZ2V0KS5hdHRyKFwidGFiaW5kZXhcIixjLnRhYmluZGV4KS50cmlnZ2VyKGMuZXZlbnQpfSxfaGFuZGxlTGlzdEtleWRvd246ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCksZD1jLmNsb3Nlc3QoXCJsaVwiKTtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIDM4OnJldHVybiBlKGQsYyxcInByZXZcIiksITE7Y2FzZSA0MDpyZXR1cm4gZShkLGMsXCJuZXh0XCIpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gYy50cmlnZ2VyKFwiY2xpY2tcIiksITF9fSxfaGFuZGxlTWVudVBhZ2VIaWRlOmZ1bmN0aW9uKCl7dGhpcy5fZGVsYXllZFRyaWdnZXIoKSx0aGlzLnRoaXNQYWdlLnBhZ2UoXCJiaW5kUmVtb3ZlXCIpfSxfaGFuZGxlSGVhZGVyQ2xvc2VDbGljazpmdW5jdGlvbigpe3JldHVyblwib3ZlcmxheVwiPT09dGhpcy5tZW51VHlwZT8odGhpcy5jbG9zZSgpLCExKTp2b2lkIDB9LF9oYW5kbGVMaXN0SXRlbUNsaWNrOmZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLmNsb3Nlc3QoXCJsaVwiKSxkPXRoaXMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXgsZT1hLm1vYmlsZS5nZXRBdHRyaWJ1dGUoYyxcIm9wdGlvbi1pbmRleFwiKSxmPXRoaXMuX3NlbGVjdE9wdGlvbnMoKS5lcShlKVswXTtmLnNlbGVjdGVkPXRoaXMuaXNNdWx0aXBsZT8hZi5zZWxlY3RlZDohMCx0aGlzLmlzTXVsdGlwbGUmJmMuZmluZChcImFcIikudG9nZ2xlQ2xhc3MoXCJ1aS1jaGVja2JveC1vblwiLGYuc2VsZWN0ZWQpLnRvZ2dsZUNsYXNzKFwidWktY2hlY2tib3gtb2ZmXCIsIWYuc2VsZWN0ZWQpLHRoaXMuaXNNdWx0aXBsZXx8ZD09PWV8fCh0aGlzLl90cmlnZ2VyQ2hhbmdlPSEwKSx0aGlzLmlzTXVsdGlwbGU/KHRoaXMuc2VsZWN0LnRyaWdnZXIoXCJjaGFuZ2VcIiksdGhpcy5saXN0LmZpbmQoXCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpXCIpLmVxKGUpLmZpbmQoXCJhXCIpLmZpcnN0KCkuZm9jdXMoKSk6dGhpcy5jbG9zZSgpLGIucHJldmVudERlZmF1bHQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2PXRoaXMub3B0aW9ucztyZXR1cm4gdi5uYXRpdmVNZW51P3RoaXMuX3N1cGVyKCk6KGM9dGhpcy5zZWxlY3RJZCxkPWMrXCItbGlzdGJveFwiLGU9YytcIi1kaWFsb2dcIixmPXRoaXMubGFiZWwsZz10aGlzLmVsZW1lbnQuY2xvc2VzdChcIi51aS1wYWdlXCIpLGg9dGhpcy5lbGVtZW50WzBdLm11bHRpcGxlLGk9YytcIi1tZW51XCIsaj12LnRoZW1lP1wiIGRhdGEtXCIrYS5tb2JpbGUubnMrXCJ0aGVtZT0nXCIrdi50aGVtZStcIidcIjpcIlwiLGs9di5vdmVybGF5VGhlbWV8fHYudGhlbWV8fG51bGwsbD1rP1wiIGRhdGEtXCIrYS5tb2JpbGUubnMrXCJvdmVybGF5LXRoZW1lPSdcIitrK1wiJ1wiOlwiXCIsbT12LmRpdmlkZXJUaGVtZSYmaD9cIiBkYXRhLVwiK2EubW9iaWxlLm5zK1wiZGl2aWRlci10aGVtZT0nXCIrdi5kaXZpZGVyVGhlbWUrXCInXCI6XCJcIixuPWEoXCI8ZGl2IGRhdGEtXCIrYS5tb2JpbGUubnMrXCJyb2xlPSdkaWFsb2cnIGNsYXNzPSd1aS1zZWxlY3RtZW51JyBpZD0nXCIrZStcIidcIitqK2wrXCI+PGRpdiBkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZT0naGVhZGVyJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+PC9kaXY+PC9kaXY+PGRpdiBkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+XCIpLG89YShcIjxkaXZcIitqK2wrXCIgaWQ9J1wiK2QrXCInIGNsYXNzPSd1aS1zZWxlY3RtZW51Jz48L2Rpdj5cIikuaW5zZXJ0QWZ0ZXIodGhpcy5zZWxlY3QpLnBvcHVwKCkscD1hKFwiPHVsIGNsYXNzPSd1aS1zZWxlY3RtZW51LWxpc3QnIGlkPSdcIitpK1wiJyByb2xlPSdsaXN0Ym94JyBhcmlhLWxhYmVsbGVkYnk9J1wiK3RoaXMuYnV0dG9uSWQrXCInXCIraittK1wiPjwvdWw+XCIpLmFwcGVuZFRvKG8pLHE9YShcIjxkaXYgY2xhc3M9J3VpLWhlYWRlciB1aS1iYXItXCIrKHYudGhlbWU/di50aGVtZTpcImluaGVyaXRcIikrXCInPjwvZGl2PlwiKS5wcmVwZW5kVG8obykscj1hKFwiPGgxIGNsYXNzPSd1aS10aXRsZSc+PC9oMT5cIikuYXBwZW5kVG8ocSksdGhpcy5pc011bHRpcGxlJiYodT1hKFwiPGE+XCIse3JvbGU6XCJidXR0b25cIix0ZXh0OnYuY2xvc2VUZXh0LGhyZWY6XCIjXCIsXCJjbGFzc1wiOlwidWktYnRuIHVpLWNvcm5lci1hbGwgdWktYnRuLWxlZnQgdWktYnRuLWljb24tbm90ZXh0IHVpLWljb24tZGVsZXRlXCJ9KS5hcHBlbmRUbyhxKSksYS5leHRlbmQodGhpcyx7c2VsZWN0SWQ6YyxtZW51SWQ6aSxwb3B1cElkOmQsZGlhbG9nSWQ6ZSx0aGlzUGFnZTpnLG1lbnVQYWdlOm4sbGFiZWw6Zixpc011bHRpcGxlOmgsdGhlbWU6di50aGVtZSxsaXN0Ym94Om8sbGlzdDpwLGhlYWRlcjpxLGhlYWRlclRpdGxlOnIsaGVhZGVyQ2xvc2U6dSxtZW51UGFnZUNvbnRlbnQ6cyxtZW51UGFnZUNsb3NlOnQscGxhY2Vob2xkZXI6XCJcIn0pLHRoaXMucmVmcmVzaCgpLHRoaXMuX29yaWdUYWJJbmRleD09PWImJih0aGlzLl9vcmlnVGFiSW5kZXg9bnVsbD09PXRoaXMuc2VsZWN0WzBdLmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpPyExOnRoaXMuc2VsZWN0LmF0dHIoXCJ0YWJpbmRleFwiKSksdGhpcy5zZWxlY3QuYXR0cihcInRhYmluZGV4XCIsXCItMVwiKSx0aGlzLl9vbih0aGlzLnNlbGVjdCx7Zm9jdXM6XCJfaGFuZGxlU2VsZWN0Rm9jdXNcIn0pLHRoaXMuX29uKHRoaXMuYnV0dG9uLHt2Y2xpY2s6XCJfaGFuZGxlQnV0dG9uVmNsaWNrS2V5ZG93blwifSksdGhpcy5saXN0LmF0dHIoXCJyb2xlXCIsXCJsaXN0Ym94XCIpLHRoaXMuX29uKHRoaXMubGlzdCx7Zm9jdXNpbjpcIl9oYW5kbGVMaXN0Rm9jdXNcIixmb2N1c291dDpcIl9oYW5kbGVMaXN0Rm9jdXNcIixrZXlkb3duOlwiX2hhbmRsZUxpc3RLZXlkb3duXCIsXCJjbGljayBsaTpub3QoLnVpLWRpc2FibGVkLC51aS1zdGF0ZS1kaXNhYmxlZCwudWktbGktZGl2aWRlcilcIjpcIl9oYW5kbGVMaXN0SXRlbUNsaWNrXCJ9KSx0aGlzLl9vbih0aGlzLm1lbnVQYWdlLHtwYWdlaGlkZTpcIl9oYW5kbGVNZW51UGFnZUhpZGVcIn0pLHRoaXMuX29uKHRoaXMubGlzdGJveCx7cG9wdXBhZnRlcmNsb3NlOlwiX3BvcHVwQ2xvc2VkXCJ9KSx0aGlzLmlzTXVsdGlwbGUmJnRoaXMuX29uKHRoaXMuaGVhZGVyQ2xvc2Use2NsaWNrOlwiX2hhbmRsZUhlYWRlckNsb3NlQ2xpY2tcIn0pLHRoaXMpfSxfcG9wdXBDbG9zZWQ6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlKCksdGhpcy5fZGVsYXllZFRyaWdnZXIoKX0sX2RlbGF5ZWRUcmlnZ2VyOmZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlckNoYW5nZSYmdGhpcy5lbGVtZW50LnRyaWdnZXIoXCJjaGFuZ2VcIiksdGhpcy5fdHJpZ2dlckNoYW5nZT0hMX0sX2lzUmVidWlsZFJlcXVpcmVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5saXN0LmZpbmQoXCJsaVwiKSxiPXRoaXMuX3NlbGVjdE9wdGlvbnMoKS5ub3QoXCIudWktc2NyZWVuLWhpZGRlblwiKTtyZXR1cm4gYi50ZXh0KCkhPT1hLnRleHQoKX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLmZpbHRlcihcIjpzZWxlY3RlZDpub3QoIDpqcW1EYXRhKHBsYWNlaG9sZGVyPSd0cnVlJykgKVwiKX0scmVmcmVzaDpmdW5jdGlvbihiKXt2YXIgYyxkO3JldHVybiB0aGlzLm9wdGlvbnMubmF0aXZlTWVudT90aGlzLl9zdXBlcihiKTooYz10aGlzLChifHx0aGlzLl9pc1JlYnVpbGRSZXF1aXJlZCgpKSYmYy5fYnVpbGRMaXN0KCksZD10aGlzLnNlbGVjdGVkSW5kaWNlcygpLGMuc2V0QnV0dG9uVGV4dCgpLGMuc2V0QnV0dG9uQ291bnQoKSx2b2lkIGMubGlzdC5maW5kKFwibGk6bm90KC51aS1saS1kaXZpZGVyKVwiKS5maW5kKFwiYVwiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZW5kKCkuYXR0cihcImFyaWEtc2VsZWN0ZWRcIiwhMSkuZWFjaChmdW5jdGlvbihiKXt2YXIgZT1hKHRoaXMpO2EuaW5BcnJheShiLGQpPi0xPyhlLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsITApLGMuaXNNdWx0aXBsZT9lLmZpbmQoXCJhXCIpLnJlbW92ZUNsYXNzKFwidWktY2hlY2tib3gtb2ZmXCIpLmFkZENsYXNzKFwidWktY2hlY2tib3gtb25cIik6ZS5oYXNDbGFzcyhcInVpLXNjcmVlbi1oaWRkZW5cIik/ZS5uZXh0KCkuZmluZChcImFcIikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOmUuZmluZChcImFcIikuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKTpjLmlzTXVsdGlwbGUmJmUuZmluZChcImFcIikucmVtb3ZlQ2xhc3MoXCJ1aS1jaGVja2JveC1vblwiKS5hZGRDbGFzcyhcInVpLWNoZWNrYm94LW9mZlwiKX0pKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3Blbil7dmFyIGE9dGhpcztcInBhZ2VcIj09PWEubWVudVR5cGU/KGEubWVudVBhZ2UuZGlhbG9nKFwiY2xvc2VcIiksYS5saXN0LmFwcGVuZFRvKGEubGlzdGJveCkpOmEubGlzdGJveC5wb3B1cChcImNsb3NlXCIpLGEuX2ZvY3VzQnV0dG9uKCksYS5pc09wZW49ITF9fSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uY2xpY2soKX0sX2ZvY3VzTWVudUl0ZW06ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmxpc3QuZmluZChcImEuXCIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpOzA9PT1iLmxlbmd0aCYmKGI9dGhpcy5saXN0LmZpbmQoXCJsaTpub3QoXCIrZCtcIikgYS51aS1idG5cIikpLGIuZmlyc3QoKS5mb2N1cygpfSxfZGVjaWRlRm9ybWF0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMud2luZG93LGQ9Yi5saXN0LnBhcmVudCgpLGU9ZC5vdXRlckhlaWdodCgpLGY9Yy5zY3JvbGxUb3AoKSxnPWIuYnV0dG9uLm9mZnNldCgpLnRvcCxoPWMuaGVpZ2h0KCk7ZT5oLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcD8oYi5tZW51UGFnZS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksYi5tZW51UGFnZUNvbnRlbnQ9Yi5tZW51UGFnZS5maW5kKFwiLnVpLWNvbnRlbnRcIiksYi5tZW51UGFnZUNsb3NlPWIubWVudVBhZ2UuZmluZChcIi51aS1oZWFkZXIgYVwiKSxiLnRoaXNQYWdlLnVuYmluZChcInBhZ2VoaWRlLnJlbW92ZVwiKSwwPT09ZiYmZz5oJiZiLnRoaXNQYWdlLm9uZShcInBhZ2VoaWRlXCIsZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoXCJsYXN0U2Nyb2xsXCIsZyl9KSxiLm1lbnVQYWdlLm9uZSh7cGFnZXNob3c6YS5wcm94eSh0aGlzLFwiX2ZvY3VzTWVudUl0ZW1cIikscGFnZWhpZGU6YS5wcm94eSh0aGlzLFwiY2xvc2VcIil9KSxiLm1lbnVUeXBlPVwicGFnZVwiLGIubWVudVBhZ2VDb250ZW50LmFwcGVuZChiLmxpc3QpLGIubWVudVBhZ2UuZmluZChcImRpdiAudWktdGl0bGVcIikudGV4dChiLmxhYmVsLmdldEVuY29kZWRUZXh0KCl8fGIucGxhY2Vob2xkZXIpKTooYi5tZW51VHlwZT1cIm92ZXJsYXlcIixiLmxpc3Rib3gub25lKHtwb3B1cGFmdGVyb3BlbjphLnByb3h5KHRoaXMsXCJfZm9jdXNNZW51SXRlbVwiKX0pKX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscT10aGlzLHI9dGhpcy5vcHRpb25zLHM9dGhpcy5wbGFjZWhvbGRlcix0PSEwLHU9XCJmYWxzZVwiLHY9XCJkYXRhLVwiK2EubW9iaWxlLm5zLHc9ditcIm9wdGlvbi1pbmRleFwiLHg9ditcImljb25cIix5PXYrXCJyb2xlXCIsej12K1wicGxhY2Vob2xkZXJcIixBPWMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLEI9ITE7Zm9yKHEubGlzdC5lbXB0eSgpLmZpbHRlcihcIi51aS1saXN0dmlld1wiKS5saXN0dmlldyhcImRlc3Ryb3lcIiksYj10aGlzLl9zZWxlY3RPcHRpb25zKCksZD1iLmxlbmd0aCxlPXRoaXMuc2VsZWN0WzBdLGc9MDtkPmc7ZysrLEI9ITEpaD1iW2ddLGk9YShoKSxpLmhhc0NsYXNzKFwidWktc2NyZWVuLWhpZGRlblwiKXx8KGo9aC5wYXJlbnROb2RlLG09W10saz1pLnRleHQoKSxsPWMuY3JlYXRlRWxlbWVudChcImFcIiksbC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsXCIjXCIpLGwuYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShrKSksaiE9PWUmJlwib3B0Z3JvdXBcIj09PWoubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKG49ai5nZXRBdHRyaWJ1dGUoXCJsYWJlbFwiKSxuIT09ZiYmKG89Yy5jcmVhdGVFbGVtZW50KFwibGlcIiksby5zZXRBdHRyaWJ1dGUoeSxcImxpc3QtZGl2aWRlclwiKSxvLnNldEF0dHJpYnV0ZShcInJvbGVcIixcIm9wdGlvblwiKSxvLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCItMVwiKSxvLmFwcGVuZENoaWxkKGMuY3JlYXRlVGV4dE5vZGUobikpLEEuYXBwZW5kQ2hpbGQobyksZj1uKSksIXR8fGguZ2V0QXR0cmlidXRlKFwidmFsdWVcIikmJjAhPT1rLmxlbmd0aCYmIWkuanFtRGF0YShcInBsYWNlaG9sZGVyXCIpfHwodD0hMSxCPSEwLG51bGw9PT1oLmdldEF0dHJpYnV0ZSh6KSYmKHRoaXMuX3JlbW92ZVBsYWNlaG9sZGVyQXR0cj0hMCksaC5zZXRBdHRyaWJ1dGUoeiwhMCksci5oaWRlUGxhY2Vob2xkZXJNZW51SXRlbXMmJm0ucHVzaChcInVpLXNjcmVlbi1oaWRkZW5cIikscyE9PWsmJihzPXEucGxhY2Vob2xkZXI9aykpLHA9Yy5jcmVhdGVFbGVtZW50KFwibGlcIiksaC5kaXNhYmxlZCYmKG0ucHVzaChcInVpLXN0YXRlLWRpc2FibGVkXCIpLHAuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLCEwKSkscC5zZXRBdHRyaWJ1dGUodyxnKSxwLnNldEF0dHJpYnV0ZSh4LHUpLEImJnAuc2V0QXR0cmlidXRlKHosITApLHAuY2xhc3NOYW1lPW0uam9pbihcIiBcIikscC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJvcHRpb25cIiksbC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiLTFcIiksdGhpcy5pc011bHRpcGxlJiZhKGwpLmFkZENsYXNzKFwidWktYnRuIHVpLWNoZWNrYm94LW9mZiB1aS1idG4taWNvbi1yaWdodFwiKSxwLmFwcGVuZENoaWxkKGwpLEEuYXBwZW5kQ2hpbGQocCkpO3EubGlzdFswXS5hcHBlbmRDaGlsZChBKSx0aGlzLmlzTXVsdGlwbGV8fHMubGVuZ3RoP3RoaXMuaGVhZGVyVGl0bGUudGV4dCh0aGlzLnBsYWNlaG9sZGVyKTp0aGlzLmhlYWRlci5hZGRDbGFzcyhcInVpLXNjcmVlbi1oaWRkZW5cIikscS5saXN0Lmxpc3R2aWV3KCl9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm5hdGl2ZU1lbnU/dGhpcy5fc3VwZXIoKTphKFwiPGE+XCIse2hyZWY6XCIjXCIscm9sZTpcImJ1dHRvblwiLGlkOnRoaXMuYnV0dG9uSWQsXCJhcmlhLWhhc3BvcHVwXCI6XCJ0cnVlXCIsXCJhcmlhLW93bnNcIjp0aGlzLm1lbnVJZH0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5uYXRpdmVNZW51fHwodGhpcy5jbG9zZSgpLHRoaXMuX29yaWdUYWJJbmRleCE9PWImJih0aGlzLl9vcmlnVGFiSW5kZXghPT0hMT90aGlzLnNlbGVjdC5hdHRyKFwidGFiaW5kZXhcIix0aGlzLl9vcmlnVGFiSW5kZXgpOnRoaXMuc2VsZWN0LnJlbW92ZUF0dHIoXCJ0YWJpbmRleFwiKSksdGhpcy5fcmVtb3ZlUGxhY2Vob2xkZXJBdHRyJiZ0aGlzLl9zZWxlY3RPcHRpb25zKCkucmVtb3ZlQXR0cihcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJwbGFjZWhvbGRlclwiKSx0aGlzLmxpc3Rib3gucmVtb3ZlKCksdGhpcy5tZW51UGFnZS5yZW1vdmUoKSksdGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYil7dmFyIGM9Yj9iOltdO3JldHVybiBjLnB1c2goXCJ1aS1idG5cIiksYS50aGVtZSYmYy5wdXNoKFwidWktYnRuLVwiK2EudGhlbWUpLGEuaWNvbiYmKGM9Yy5jb25jYXQoW1widWktaWNvbi1cIithLmljb24sXCJ1aS1idG4taWNvbi1cIithLmljb25wb3NdKSxhLmljb25zaGFkb3cmJmMucHVzaChcInVpLXNoYWRvdy1pY29uXCIpKSxhLmlubGluZSYmYy5wdXNoKFwidWktYnRuLWlubGluZVwiKSxhLnNoYWRvdyYmYy5wdXNoKFwidWktc2hhZG93XCIpLGEuY29ybmVycyYmYy5wdXNoKFwidWktY29ybmVyLWFsbFwiKSxhLm1pbmkmJmMucHVzaChcInVpLW1pbmlcIiksY31mdW5jdGlvbiBkKGEpe3ZhciBjLGQsZSxnPSExLGg9ITAsaT17aWNvbjpcIlwiLGlubGluZTohMSxzaGFkb3c6ITEsY29ybmVyczohMSxpY29uc2hhZG93OiExLG1pbmk6ITF9LGo9W107Zm9yKGE9YS5zcGxpdChcIiBcIiksYz0wO2M8YS5sZW5ndGg7YysrKWU9ITAsZD1mW2FbY11dLGQhPT1iPyhlPSExLGlbZF09ITApOjA9PT1hW2NdLmluZGV4T2YoXCJ1aS1idG4taWNvbi1cIik/KGU9ITEsaD0hMSxpLmljb25wb3M9YVtjXS5zdWJzdHJpbmcoMTIpKTowPT09YVtjXS5pbmRleE9mKFwidWktaWNvbi1cIik/KGU9ITEsaS5pY29uPWFbY10uc3Vic3RyaW5nKDgpKTowPT09YVtjXS5pbmRleE9mKFwidWktYnRuLVwiKSYmOD09PWFbY10ubGVuZ3RoPyhlPSExLGkudGhlbWU9YVtjXS5zdWJzdHJpbmcoNykpOlwidWktYnRuXCI9PT1hW2NdJiYoZT0hMSxnPSEwKSxlJiZqLnB1c2goYVtjXSk7cmV0dXJuIGgmJihpLmljb249XCJcIikse29wdGlvbnM6aSx1bmtub3duQ2xhc3NlczpqLGFscmVhZHlFbmhhbmNlZDpnfX1mdW5jdGlvbiBlKGEpe3JldHVyblwiLVwiK2EudG9Mb3dlckNhc2UoKX12YXIgZj17XCJ1aS1zaGFkb3dcIjpcInNoYWRvd1wiLFwidWktY29ybmVyLWFsbFwiOlwiY29ybmVyc1wiLFwidWktYnRuLWlubGluZVwiOlwiaW5saW5lXCIsXCJ1aS1zaGFkb3ctaWNvblwiOlwiaWNvbnNoYWRvd1wiLFwidWktbWluaVwiOlwibWluaVwifSxnPWZ1bmN0aW9uKCl7dmFyIGM9YS5tb2JpbGUuZ2V0QXR0cmlidXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbnVsbD09Yz9iOmN9LGg9L1tBLVpdL2c7YS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24oZixpKXt2YXIgaixrLGwsbSxuLG89YS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM7Zm9yKGo9MDtqPHRoaXMubGVuZ3RoO2orKyl7aWYobD10aGlzW2pdLGs9aT97YWxyZWFkeUVuaGFuY2VkOiExLHVua25vd25DbGFzc2VzOltdfTpkKGwuY2xhc3NOYW1lKSxtPWEuZXh0ZW5kKHt9LGsuYWxyZWFkeUVuaGFuY2VkP2sub3B0aW9uczp7fSxmKSwhay5hbHJlYWR5RW5oYW5jZWQpZm9yKG4gaW4gbyltW25dPT09YiYmKG1bbl09ZyhsLG4ucmVwbGFjZShoLGUpKSk7bC5jbGFzc05hbWU9YyhhLmV4dGVuZCh7fSxvLG0pLGsudW5rbm93bkNsYXNzZXMpLmpvaW4oXCIgXCIpLFwiYnV0dG9uXCIhPT1sLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmbC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJidXR0b25cIil9cmV0dXJuIHRoaXN9LGEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzPXtpY29uOlwiXCIsaWNvbnBvczpcImxlZnRcIix0aGVtZTpudWxsLGlubGluZTohMSxzaGFkb3c6ITAsY29ybmVyczohMCxpY29uc2hhZG93OiExLG1pbmk6ITF9LGEuZXh0ZW5kKGEuZm4uYnV0dG9uTWFya3VwLHtpbml0U2VsZWN0b3I6XCJhOmpxbURhdGEocm9sZT0nYnV0dG9uJyksIC51aS1iYXIgPiBhLCAudWktYmFyID4gOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykgPiBhLCBidXR0b246bm90KDpqcW1EYXRhKHJvbGU9J25hdmJhcicpIGJ1dHRvbilcIn0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KFwibW9iaWxlLmNvbnRyb2xncm91cFwiLGEuZXh0ZW5kKHtvcHRpb25zOntlbmhhbmNlZDohMSx0aGVtZTpudWxsLHNoYWRvdzohMSxjb3JuZXJzOiEwLGV4Y2x1ZGVJbnZpc2libGU6ITAsdHlwZTpcInZlcnRpY2FsXCIsbWluaTohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucyxkPWEubW9iaWxlLnBhZ2UucHJvdG90eXBlLmtlZXBOYXRpdmVTZWxlY3RvcigpO2EuZm4uYnV0dG9uTWFya3VwJiZ0aGlzLmVsZW1lbnQuZmluZChhLmZuLmJ1dHRvbk1hcmt1cC5pbml0U2VsZWN0b3IpLm5vdChkKS5idXR0b25NYXJrdXAoKSxhLmVhY2godGhpcy5fY2hpbGRXaWRnZXRzLGEucHJveHkoZnVuY3Rpb24oYixjKXthLm1vYmlsZVtjXSYmdGhpcy5lbGVtZW50LmZpbmQoYS5tb2JpbGVbY10uaW5pdFNlbGVjdG9yKS5ub3QoZClbY10oKX0sdGhpcykpLGEuZXh0ZW5kKHRoaXMse191aTpudWxsLF9pbml0aWFsUmVmcmVzaDohMH0pLHRoaXMuX3VpPWMuZW5oYW5jZWQ/e2dyb3VwTGVnZW5kOmIuY2hpbGRyZW4oXCIudWktY29udHJvbGdyb3VwLWxhYmVsXCIpLmNoaWxkcmVuKCksY2hpbGRXcmFwcGVyOmIuY2hpbGRyZW4oXCIudWktY29udHJvbGdyb3VwLWNvbnRyb2xzXCIpfTp0aGlzLl9lbmhhbmNlKCl9LF9jaGlsZFdpZGdldHM6W1wiY2hlY2tib3hyYWRpb1wiLFwic2VsZWN0bWVudVwiLFwiYnV0dG9uXCJdLF90aGVtZUNsYXNzRnJvbU9wdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gYT9cIm5vbmVcIj09PWE/XCJcIjpcInVpLWdyb3VwLXRoZW1lLVwiK2E6XCJcIn0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMsZD17Z3JvdXBMZWdlbmQ6Yi5jaGlsZHJlbihcImxlZ2VuZFwiKSxjaGlsZFdyYXBwZXI6Yi5hZGRDbGFzcyhcInVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtXCIrKFwiaG9yaXpvbnRhbFwiPT09Yy50eXBlP1wiaG9yaXpvbnRhbFwiOlwidmVydGljYWxcIikrXCIgXCIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oYy50aGVtZSkrXCIgXCIrKGMuY29ybmVycz9cInVpLWNvcm5lci1hbGwgXCI6XCJcIikrKGMubWluaT9cInVpLW1pbmkgXCI6XCJcIikpLndyYXBJbm5lcihcIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyBcIisoYy5zaGFkb3c9PT0hMD9cInVpLXNoYWRvd1wiOlwiXCIpK1wiJz48L2Rpdj5cIikuY2hpbGRyZW4oKX07cmV0dXJuIGQuZ3JvdXBMZWdlbmQubGVuZ3RoPjAmJmEoXCI8ZGl2IHJvbGU9J2hlYWRpbmcnIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwnPjwvZGl2PlwiKS5hcHBlbmQoZC5ncm91cExlZ2VuZCkucHJlcGVuZFRvKGIpLGR9LF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjLGQsZT10aGlzLmVsZW1lbnQ7cmV0dXJuIGEudHlwZSE9PWImJihlLnJlbW92ZUNsYXNzKFwidWktY29udHJvbGdyb3VwLWhvcml6b250YWwgdWktY29udHJvbGdyb3VwLXZlcnRpY2FsXCIpLmFkZENsYXNzKFwidWktY29udHJvbGdyb3VwLVwiKyhcImhvcml6b250YWxcIj09PWEudHlwZT9cImhvcml6b250YWxcIjpcInZlcnRpY2FsXCIpKSxjPSEwKSxhLnRoZW1lIT09YiYmZS5yZW1vdmVDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbih0aGlzLm9wdGlvbnMudGhlbWUpKS5hZGRDbGFzcyh0aGlzLl90aGVtZUNsYXNzRnJvbU9wdGlvbihhLnRoZW1lKSksYS5jb3JuZXJzIT09YiYmZS50b2dnbGVDbGFzcyhcInVpLWNvcm5lci1hbGxcIixhLmNvcm5lcnMpLGEubWluaSE9PWImJmUudG9nZ2xlQ2xhc3MoXCJ1aS1taW5pXCIsYS5taW5pKSxhLnNoYWRvdyE9PWImJnRoaXMuX3VpLmNoaWxkV3JhcHBlci50b2dnbGVDbGFzcyhcInVpLXNoYWRvd1wiLGEuc2hhZG93KSxhLmV4Y2x1ZGVJbnZpc2libGUhPT1iJiYodGhpcy5vcHRpb25zLmV4Y2x1ZGVJbnZpc2libGU9YS5leGNsdWRlSW52aXNpYmxlLGM9ITApLGQ9dGhpcy5fc3VwZXIoYSksYyYmdGhpcy5yZWZyZXNoKCksZH0sY29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VpLmNoaWxkV3JhcHBlcn0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuY29udGFpbmVyKCksYz1iLmZpbmQoXCIudWktYnRuXCIpLm5vdChcIi51aS1zbGlkZXItaGFuZGxlXCIpLGQ9dGhpcy5faW5pdGlhbFJlZnJlc2g7YS5tb2JpbGUuY2hlY2tib3hyYWRpbyYmYi5maW5kKFwiOm1vYmlsZS1jaGVja2JveHJhZGlvXCIpLmNoZWNrYm94cmFkaW8oXCJyZWZyZXNoXCIpLHRoaXMuX2FkZEZpcnN0TGFzdENsYXNzZXMoYyx0aGlzLm9wdGlvbnMuZXhjbHVkZUludmlzaWJsZT90aGlzLl9nZXRWaXNpYmxlcyhjLGQpOmMsZCksdGhpcy5faW5pdGlhbFJlZnJlc2g9ITF9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGEsYixjPXRoaXMub3B0aW9ucztyZXR1cm4gYy5lbmhhbmNlZD90aGlzOihhPXRoaXMuX3VpLGI9dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIHVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCB1aS1jb3JuZXItYWxsIHVpLW1pbmkgXCIrdGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oYy50aGVtZSkpLmZpbmQoXCIudWktYnRuXCIpLm5vdChcIi51aS1zbGlkZXItaGFuZGxlXCIpLHRoaXMuX3JlbW92ZUZpcnN0TGFzdENsYXNzZXMoYiksYS5ncm91cExlZ2VuZC51bndyYXAoKSx2b2lkIGEuY2hpbGRXcmFwcGVyLmNoaWxkcmVuKCkudW53cmFwKCkpfX0sYS5tb2JpbGUuYmVoYXZpb3JzLmFkZEZpcnN0TGFzdENsYXNzZXMpKX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldChcIm1vYmlsZS50b29sYmFyXCIse2luaXRTZWxlY3RvcjpcIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpLCA6anFtRGF0YShyb2xlPSdoZWFkZXInKVwiLG9wdGlvbnM6e3RoZW1lOm51bGwsYWRkQmFja0J0bjohMSxiYWNrQnRuVGhlbWU6bnVsbCxiYWNrQnRuVGV4dDpcIkJhY2tcIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiLGMsZD10aGlzLmVsZW1lbnQuaXMoXCI6anFtRGF0YShyb2xlPSdoZWFkZXInKVwiKT9cImhlYWRlclwiOlwiZm9vdGVyXCIsZT10aGlzLmVsZW1lbnQuY2xvc2VzdChcIi51aS1wYWdlXCIpOzA9PT1lLmxlbmd0aCYmKGU9ITEsdGhpcy5fb24odGhpcy5kb2N1bWVudCx7cGFnZXNob3c6XCJyZWZyZXNoXCJ9KSksYS5leHRlbmQodGhpcyx7cm9sZTpkLHBhZ2U6ZSxsZWZ0YnRuOmIscmlnaHRidG46Y30pLHRoaXMuZWxlbWVudC5hdHRyKFwicm9sZVwiLFwiaGVhZGVyXCI9PT1kP1wiYmFubmVyXCI6XCJjb250ZW50aW5mb1wiKS5hZGRDbGFzcyhcInVpLVwiK2QpLHRoaXMucmVmcmVzaCgpLHRoaXMuX3NldE9wdGlvbnModGhpcy5vcHRpb25zKX0sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYSl7aWYoYS5hZGRCYWNrQnRuIT09YiYmdGhpcy5fdXBkYXRlQmFja0J1dHRvbigpLG51bGwhPWEuYmFja0J0blRoZW1lJiZ0aGlzLmVsZW1lbnQuZmluZChcIi51aS10b29sYmFyLWJhY2stYnRuXCIpLmFkZENsYXNzKFwidWktYnRuIHVpLWJ0bi1cIithLmJhY2tCdG5UaGVtZSksYS5iYWNrQnRuVGV4dCE9PWImJnRoaXMuZWxlbWVudC5maW5kKFwiLnVpLXRvb2xiYXItYmFjay1idG4gLnVpLWJ0bi10ZXh0XCIpLnRleHQoYS5iYWNrQnRuVGV4dCksYS50aGVtZSE9PWIpe3ZhciBjPXRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6XCJpbmhlcml0XCIsZD1hLnRoZW1lP2EudGhlbWU6XCJpbmhlcml0XCI7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwidWktYmFyLVwiK2MpLmFkZENsYXNzKFwidWktYmFyLVwiK2QpfXRoaXMuX3N1cGVyKGEpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7XCJoZWFkZXJcIj09PXRoaXMucm9sZSYmdGhpcy5fYWRkSGVhZGVyQnV0dG9uQ2xhc3NlcygpLHRoaXMucGFnZXx8KHRoaXMuX3NldFJlbGF0aXZlKCksXCJmb290ZXJcIj09PXRoaXMucm9sZT90aGlzLmVsZW1lbnQuYXBwZW5kVG8oXCJib2R5XCIpOlwiaGVhZGVyXCI9PT10aGlzLnJvbGUmJnRoaXMuX3VwZGF0ZUJhY2tCdXR0b24oKSksdGhpcy5fYWRkSGVhZGluZ0NsYXNzZXMoKSx0aGlzLl9idG5NYXJrdXAoKX0sX3NldFJlbGF0aXZlOmZ1bmN0aW9uKCl7YShcIltkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZT0ncGFnZSddXCIpLmNzcyh7cG9zaXRpb246XCJyZWxhdGl2ZVwifSl9LF9idG5NYXJrdXA6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2hpbGRyZW4oXCJhXCIpLmZpbHRlcihcIjpub3QoW2RhdGEtXCIrYS5tb2JpbGUubnMrXCJyb2xlPSdub25lJ10pXCIpLmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZVwiLFwiYnV0dG9uXCIpLHRoaXMuZWxlbWVudC50cmlnZ2VyKFwiY3JlYXRlXCIpfSxfYWRkSGVhZGVyQnV0dG9uQ2xhc3NlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5jaGlsZHJlbihcImEsIGJ1dHRvblwiKTt0aGlzLmxlZnRidG49YS5oYXNDbGFzcyhcInVpLWJ0bi1sZWZ0XCIpJiYhYS5oYXNDbGFzcyhcInVpLXRvb2xiYXItYmFjay1idG5cIiksdGhpcy5yaWdodGJ0bj1hLmhhc0NsYXNzKFwidWktYnRuLXJpZ2h0XCIpLHRoaXMubGVmdGJ0bj10aGlzLmxlZnRidG58fGEuZXEoMCkubm90KFwiLnVpLWJ0bi1yaWdodCwudWktdG9vbGJhci1iYWNrLWJ0blwiKS5hZGRDbGFzcyhcInVpLWJ0bi1sZWZ0XCIpLmxlbmd0aCx0aGlzLnJpZ2h0YnRuPXRoaXMucmlnaHRidG58fGEuZXEoMSkuYWRkQ2xhc3MoXCJ1aS1idG4tcmlnaHRcIikubGVuZ3RofSxfdXBkYXRlQmFja0J1dHRvbjpmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5vcHRpb25zLGQ9Yy5iYWNrQnRuVGhlbWV8fGMudGhlbWU7Yj10aGlzLl9iYWNrQnV0dG9uPXRoaXMuX2JhY2tCdXR0b258fHt9LHRoaXMub3B0aW9ucy5hZGRCYWNrQnRuJiZcImhlYWRlclwiPT09dGhpcy5yb2xlJiZhKFwiLnVpLXBhZ2VcIikubGVuZ3RoPjEmJih0aGlzLnBhZ2U/dGhpcy5wYWdlWzBdLmdldEF0dHJpYnV0ZShcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJ1cmxcIikhPT1hLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKTphLm1vYmlsZS5uYXZpZ2F0ZSYmYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeSYmYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5hY3RpdmVJbmRleD4wKSYmIXRoaXMubGVmdGJ0bj9iLmF0dGFjaGVkfHwodGhpcy5iYWNrQnV0dG9uPWIuZWxlbWVudD0oYi5lbGVtZW50fHxhKFwiPGEgcm9sZT0nYnV0dG9uJyBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0ndWktYnRuIHVpLWNvcm5lci1hbGwgdWktc2hhZG93IHVpLWJ0bi1sZWZ0IFwiKyhkP1widWktYnRuLVwiK2QrXCIgXCI6XCJcIikrXCJ1aS10b29sYmFyLWJhY2stYnRuIHVpLWljb24tY2FyYXQtbCB1aS1idG4taWNvbi1sZWZ0JyBkYXRhLVwiK2EubW9iaWxlLm5zK1wicmVsPSdiYWNrJz5cIitjLmJhY2tCdG5UZXh0K1wiPC9hPlwiKSkucHJlcGVuZFRvKHRoaXMuZWxlbWVudCksYi5hdHRhY2hlZD0hMCk6Yi5lbGVtZW50JiYoYi5lbGVtZW50LmRldGFjaCgpLGIuYXR0YWNoZWQ9ITEpfSxfYWRkSGVhZGluZ0NsYXNzZXM6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuY2hpbGRyZW4oXCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2XCIpLmFkZENsYXNzKFwidWktdGl0bGVcIikuYXR0cih7cm9sZTpcImhlYWRpbmdcIixcImFyaWEtbGV2ZWxcIjpcIjFcIn0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhO3RoaXMuZWxlbWVudC5jaGlsZHJlbihcImgxLCBoMiwgaDMsIGg0LCBoNSwgaDZcIikucmVtb3ZlQ2xhc3MoXCJ1aS10aXRsZVwiKS5yZW1vdmVBdHRyKFwicm9sZVwiKS5yZW1vdmVBdHRyKFwiYXJpYS1sZXZlbFwiKSxcImhlYWRlclwiPT09dGhpcy5yb2xlJiYodGhpcy5lbGVtZW50LmNoaWxkcmVuKFwiYSwgYnV0dG9uXCIpLnJlbW92ZUNsYXNzKFwidWktYnRuLWxlZnQgdWktYnRuLXJpZ2h0IHVpLWJ0biB1aS1zaGFkb3cgdWktY29ybmVyLWFsbFwiKSx0aGlzLmJhY2tCdXR0b24mJnRoaXMuYmFja0J1dHRvbi5yZW1vdmUoKSksYT10aGlzLm9wdGlvbnMudGhlbWU/dGhpcy5vcHRpb25zLnRoZW1lOlwiaW5oZXJpdFwiLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLWJhci1cIithKSx0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJ1aS1cIit0aGlzLnJvbGUpLnJlbW92ZUF0dHIoXCJyb2xlXCIpfX0pfShhKSxmdW5jdGlvbihhLGIpe2Eud2lkZ2V0KFwibW9iaWxlLnRvb2xiYXJcIixhLm1vYmlsZS50b29sYmFyLHtvcHRpb25zOntwb3NpdGlvbjpudWxsLHZpc2libGVPblBhZ2VTaG93OiEwLGRpc2FibGVQYWdlWm9vbTohMCx0cmFuc2l0aW9uOlwic2xpZGVcIixmdWxsc2NyZWVuOiExLHRhcFRvZ2dsZTohMCx0YXBUb2dnbGVCbGFja2xpc3Q6XCJhLCBidXR0b24sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCAudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkLCAudWktZmxpcHN3aXRjaCwgLnVpLXBvcHVwLCAudWktcGFuZWwsIC51aS1wYW5lbC1kaXNtaXNzLW9wZW5cIixoaWRlRHVyaW5nRm9jdXM6XCJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdFwiLHVwZGF0ZVBhZ2VQYWRkaW5nOiEwLHRyYWNrUGVyc2lzdGVudFRvb2xiYXJzOiEwLHN1cHBvcnRCbGFja2xpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4hYS5zdXBwb3J0LmZpeGVkUG9zaXRpb259fSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSx0aGlzLnBhZ2Vjb250YWluZXI9YShcIjptb2JpbGUtcGFnZWNvbnRhaW5lclwiKSxcImZpeGVkXCIhPT10aGlzLm9wdGlvbnMucG9zaXRpb258fHRoaXMub3B0aW9ucy5zdXBwb3J0QmxhY2tsaXN0KCl8fHRoaXMuX21ha2VGaXhlZCgpfSxfbWFrZUZpeGVkOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKFwidWktXCIrdGhpcy5yb2xlK1wiLWZpeGVkXCIpLHRoaXMudXBkYXRlUGFnZVBhZGRpbmcoKSx0aGlzLl9hZGRUcmFuc2l0aW9uQ2xhc3MoKSx0aGlzLl9iaW5kUGFnZUV2ZW50cygpLHRoaXMuX2JpbmRUb2dnbGVIYW5kbGVycygpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXtpZihcImZpeGVkXCI9PT1jLnBvc2l0aW9uJiZcImZpeGVkXCIhPT10aGlzLm9wdGlvbnMucG9zaXRpb24mJnRoaXMuX21ha2VGaXhlZCgpLFwiZml4ZWRcIj09PXRoaXMub3B0aW9ucy5wb3NpdGlvbiYmIXRoaXMub3B0aW9ucy5zdXBwb3J0QmxhY2tsaXN0KCkpe3ZhciBkPXRoaXMucGFnZT90aGlzLnBhZ2U6YShcIi51aS1wYWdlLWFjdGl2ZVwiKS5sZW5ndGg+MD9hKFwiLnVpLXBhZ2UtYWN0aXZlXCIpOmEoXCIudWktcGFnZVwiKS5lcSgwKTtjLmZ1bGxzY3JlZW4hPT1iJiYoYy5mdWxsc2NyZWVuPyh0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS1cIit0aGlzLnJvbGUrXCItZnVsbHNjcmVlblwiKSxkLmFkZENsYXNzKFwidWktcGFnZS1cIit0aGlzLnJvbGUrXCItZnVsbHNjcmVlblwiKSk6KHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLVwiK3RoaXMucm9sZStcIi1mdWxsc2NyZWVuXCIpLGQucmVtb3ZlQ2xhc3MoXCJ1aS1wYWdlLVwiK3RoaXMucm9sZStcIi1mdWxsc2NyZWVuXCIpLmFkZENsYXNzKFwidWktcGFnZS1cIit0aGlzLnJvbGUrXCItZml4ZWRcIikpKX10aGlzLl9zdXBlcihjKX0sX2FkZFRyYW5zaXRpb25DbGFzczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy50cmFuc2l0aW9uO2EmJlwibm9uZVwiIT09YSYmKFwic2xpZGVcIj09PWEmJihhPXRoaXMuZWxlbWVudC5oYXNDbGFzcyhcInVpLWhlYWRlclwiKT9cInNsaWRlZG93blwiOlwic2xpZGV1cFwiKSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYSkpfSxfYmluZFBhZ2VFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhZ2U/dGhpcy5lbGVtZW50LmNsb3Nlc3QoXCIudWktcGFnZVwiKTp0aGlzLmRvY3VtZW50O3RoaXMuX29uKGEse3BhZ2ViZWZvcmVzaG93OlwiX2hhbmRsZVBhZ2VCZWZvcmVTaG93XCIsd2Via2l0QW5pbWF0aW9uU3RhcnQ6XCJfaGFuZGxlQW5pbWF0aW9uU3RhcnRcIixhbmltYXRpb25zdGFydDpcIl9oYW5kbGVBbmltYXRpb25TdGFydFwiLHVwZGF0ZWxheW91dDpcIl9oYW5kbGVBbmltYXRpb25TdGFydFwiLHBhZ2VzaG93OlwiX2hhbmRsZVBhZ2VTaG93XCIscGFnZWJlZm9yZWhpZGU6XCJfaGFuZGxlUGFnZUJlZm9yZUhpZGVcIn0pfSxfaGFuZGxlUGFnZUJlZm9yZVNob3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5kaXNhYmxlUGFnZVpvb20mJmEubW9iaWxlLnpvb20uZGlzYWJsZSghMCksYi52aXNpYmxlT25QYWdlU2hvd3x8dGhpcy5oaWRlKCEwKX0sX2hhbmRsZUFuaW1hdGlvblN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnVwZGF0ZVBhZ2VQYWRkaW5nJiZ0aGlzLnVwZGF0ZVBhZ2VQYWRkaW5nKHRoaXMucGFnZT90aGlzLnBhZ2U6XCIudWktcGFnZS1hY3RpdmVcIil9LF9oYW5kbGVQYWdlU2hvdzpmdW5jdGlvbigpe3RoaXMudXBkYXRlUGFnZVBhZGRpbmcodGhpcy5wYWdlP3RoaXMucGFnZTpcIi51aS1wYWdlLWFjdGl2ZVwiKSx0aGlzLm9wdGlvbnMudXBkYXRlUGFnZVBhZGRpbmcmJnRoaXMuX29uKHRoaXMud2luZG93LHt0aHJvdHRsZWRyZXNpemU6XCJ1cGRhdGVQYWdlUGFkZGluZ1wifSl9LF9oYW5kbGVQYWdlQmVmb3JlSGlkZTpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGg9dGhpcy5vcHRpb25zO2guZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSghMCksaC51cGRhdGVQYWdlUGFkZGluZyYmdGhpcy5fb2ZmKHRoaXMud2luZG93LFwidGhyb3R0bGVkcmVzaXplXCIpLGgudHJhY2tQZXJzaXN0ZW50VG9vbGJhcnMmJihkPWEoXCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQpXCIsdGhpcy5wYWdlKSxlPWEoXCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQpXCIsdGhpcy5wYWdlKSxmPWQubGVuZ3RoJiZjLm5leHRQYWdlJiZhKFwiLnVpLWZvb3Rlci1maXhlZDpqcW1EYXRhKGlkPSdcIitkLmpxbURhdGEoXCJpZFwiKStcIicpXCIsYy5uZXh0UGFnZSl8fGEoKSxnPWUubGVuZ3RoJiZjLm5leHRQYWdlJiZhKFwiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkPSdcIitlLmpxbURhdGEoXCJpZFwiKStcIicpXCIsYy5uZXh0UGFnZSl8fGEoKSwoZi5sZW5ndGh8fGcubGVuZ3RoKSYmKGYuYWRkKGcpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLGMubmV4dFBhZ2Uub25lKFwicGFnZXNob3dcIixmdW5jdGlvbigpe2cucHJlcGVuZFRvKHRoaXMpLGYuYXBwZW5kVG8odGhpcyl9KSkpfSxfdmlzaWJsZTohMCx1cGRhdGVQYWdlUGFkZGluZzpmdW5jdGlvbihjKXt2YXIgZD10aGlzLmVsZW1lbnQsZT1cImhlYWRlclwiPT09dGhpcy5yb2xlLGY9cGFyc2VGbG9hdChkLmNzcyhlP1widG9wXCI6XCJib3R0b21cIikpO3RoaXMub3B0aW9ucy5mdWxsc2NyZWVufHwoYz1jJiZjLnR5cGU9PT1iJiZjfHx0aGlzLnBhZ2V8fGQuY2xvc2VzdChcIi51aS1wYWdlXCIpLGM9dGhpcy5wYWdlP3RoaXMucGFnZTpcIi51aS1wYWdlLWFjdGl2ZVwiLGEoYykuY3NzKFwicGFkZGluZy1cIisoZT9cInRvcFwiOlwiYm90dG9tXCIpLGQub3V0ZXJIZWlnaHQoKStmKSl9LF91c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMud2luZG93LGQ9dGhpcy5lbGVtZW50LGU9Yy5zY3JvbGxUb3AoKSxmPWQuaGVpZ2h0KCksZz10aGlzLnBhZ2U/ZC5jbG9zZXN0KFwiLnVpLXBhZ2VcIikuaGVpZ2h0KCk6YShcIi51aS1wYWdlLWFjdGl2ZVwiKS5oZWlnaHQoKSxoPWEubW9iaWxlLmdldFNjcmVlbkhlaWdodCgpO3JldHVybiFiJiYodGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJlwibm9uZVwiIT09dGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJihcImhlYWRlclwiPT09dGhpcy5yb2xlJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmU+Znx8XCJmb290ZXJcIj09PXRoaXMucm9sZSYmIXRoaXMub3B0aW9ucy5mdWxsc2NyZWVuJiZnLWY+ZStoKXx8dGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4pfSxzaG93OmZ1bmN0aW9uKGEpe3ZhciBiPVwidWktZml4ZWQtaGlkZGVuXCIsYz10aGlzLmVsZW1lbnQ7dGhpcy5fdXNlVHJhbnNpdGlvbihhKT9jLnJlbW92ZUNsYXNzKFwib3V0IFwiK2IpLmFkZENsYXNzKFwiaW5cIikuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKFwiaW5cIil9KTpjLnJlbW92ZUNsYXNzKGIpLHRoaXMuX3Zpc2libGU9ITB9LGhpZGU6ZnVuY3Rpb24oYSl7dmFyIGI9XCJ1aS1maXhlZC1oaWRkZW5cIixjPXRoaXMuZWxlbWVudCxkPVwib3V0XCIrKFwic2xpZGVcIj09PXRoaXMub3B0aW9ucy50cmFuc2l0aW9uP1wiIHJldmVyc2VcIjpcIlwiKTt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2MuYWRkQ2xhc3MoZCkucmVtb3ZlQ2xhc3MoXCJpblwiKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MuYWRkQ2xhc3MoYikucmVtb3ZlQ2xhc3MoZCl9KTpjLmFkZENsYXNzKGIpLnJlbW92ZUNsYXNzKGQpLHRoaXMuX3Zpc2libGU9ITF9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fdmlzaWJsZT9cImhpZGVcIjpcInNob3dcIl0oKX0sX2JpbmRUb2dnbGVIYW5kbGVyczpmdW5jdGlvbigpe3ZhciBiLGMsZD10aGlzLGU9ZC5vcHRpb25zLGY9ITAsZz10aGlzLnBhZ2U/dGhpcy5wYWdlOmEoXCIudWktcGFnZVwiKTtnLmJpbmQoXCJ2Y2xpY2tcIixmdW5jdGlvbihiKXtlLnRhcFRvZ2dsZSYmIWEoYi50YXJnZXQpLmNsb3Nlc3QoZS50YXBUb2dnbGVCbGFja2xpc3QpLmxlbmd0aCYmZC50b2dnbGUoKX0pLmJpbmQoXCJmb2N1c2luIGZvY3Vzb3V0XCIsZnVuY3Rpb24oZyl7c2NyZWVuLndpZHRoPDEwMjUmJmEoZy50YXJnZXQpLmlzKGUuaGlkZUR1cmluZ0ZvY3VzKSYmIWEoZy50YXJnZXQpLmNsb3Nlc3QoXCIudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkXCIpLmxlbmd0aCYmKFwiZm9jdXNvdXRcIiE9PWcudHlwZXx8Zj9cImZvY3VzaW5cIj09PWcudHlwZSYmZiYmKGNsZWFyVGltZW91dChiKSxmPSExLGM9c2V0VGltZW91dChmdW5jdGlvbigpe2QuaGlkZSgpfSwwKSk6KGY9ITAsY2xlYXJUaW1lb3V0KGMpLGI9c2V0VGltZW91dChmdW5jdGlvbigpe2Quc2hvdygpfSwwKSkpfSl9LF9zZXRSZWxhdGl2ZTpmdW5jdGlvbigpe1wiZml4ZWRcIiE9PXRoaXMub3B0aW9ucy5wb3NpdGlvbiYmYShcIltkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZT0ncGFnZSddXCIpLmNzcyh7cG9zaXRpb246XCJyZWxhdGl2ZVwifSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZixnPXRoaXMucGFnZWNvbnRhaW5lci5wYWdlY29udGFpbmVyKFwiZ2V0QWN0aXZlUGFnZVwiKTt0aGlzLl9zdXBlcigpLFwiZml4ZWRcIj09PXRoaXMub3B0aW9ucy5wb3NpdGlvbiYmKGQ9YShcImJvZHk+LnVpLVwiK3RoaXMucm9sZStcIi1maXhlZFwiKS5hZGQoZy5maW5kKFwiLnVpLVwiK3RoaXMub3B0aW9ucy5yb2xlK1wiLWZpeGVkXCIpKS5ub3QodGhpcy5lbGVtZW50KS5sZW5ndGg+MCxmPWEoXCJib2R5Pi51aS1cIit0aGlzLnJvbGUrXCItZml4ZWRcIikuYWRkKGcuZmluZChcIi51aS1cIit0aGlzLm9wdGlvbnMucm9sZStcIi1mdWxsc2NyZWVuXCIpKS5ub3QodGhpcy5lbGVtZW50KS5sZW5ndGg+MCxjPVwidWktaGVhZGVyLWZpeGVkIHVpLWZvb3Rlci1maXhlZCB1aS1oZWFkZXItZnVsbHNjcmVlbiBpbiBvdXQgdWktZm9vdGVyLWZ1bGxzY3JlZW4gZmFkZSBzbGlkZWRvd24gc2xpZGV1cCB1aS1maXhlZC1oaWRkZW5cIix0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoYyksZnx8KGI9XCJ1aS1wYWdlLVwiK3RoaXMucm9sZStcIi1mdWxsc2NyZWVuXCIpLGR8fChlPVwiaGVhZGVyXCI9PT10aGlzLnJvbGUsYis9XCIgdWktcGFnZS1cIit0aGlzLnJvbGUrXCItZml4ZWRcIixnLmNzcyhcInBhZGRpbmctXCIrKGU/XCJ0b3BcIjpcImJvdHRvbVwiKSxcIlwiKSksZy5yZW1vdmVDbGFzcyhiKSlcclxufX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldChcIm1vYmlsZS50b29sYmFyXCIsYS5tb2JpbGUudG9vbGJhcix7X21ha2VGaXhlZDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5fd29ya2Fyb3VuZHMoKX0sX3dvcmthcm91bmRzOmZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudCxiPW5hdmlnYXRvci5wbGF0Zm9ybSxjPWEubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFswLTldKykvKSxkPSEhYyYmY1sxXSxlPW51bGwsZj10aGlzO2lmKGIuaW5kZXhPZihcImlQaG9uZVwiKT4tMXx8Yi5pbmRleE9mKFwiaVBhZFwiKT4tMXx8Yi5pbmRleE9mKFwiaVBvZFwiKT4tMSllPVwiaW9zXCI7ZWxzZXtpZighKGEuaW5kZXhPZihcIkFuZHJvaWRcIik+LTEpKXJldHVybjtlPVwiYW5kcm9pZFwifWlmKFwiaW9zXCI9PT1lKWYuX2JpbmRTY3JvbGxXb3JrYXJvdW5kKCk7ZWxzZXtpZighKFwiYW5kcm9pZFwiPT09ZSYmZCYmNTM0PmQpKXJldHVybjtmLl9iaW5kU2Nyb2xsV29ya2Fyb3VuZCgpLGYuX2JpbmRMaXN0VGh1bWJXb3JrYXJvdW5kKCl9fSxfdmlld3BvcnRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYj1hLmhhc0NsYXNzKFwidWktaGVhZGVyXCIpLGM9TWF0aC5hYnMoYS5vZmZzZXQoKS50b3AtdGhpcy53aW5kb3cuc2Nyb2xsVG9wKCkpO3JldHVybiBifHwoYz1NYXRoLnJvdW5kKGMtdGhpcy53aW5kb3cuaGVpZ2h0KCkrYS5vdXRlckhlaWdodCgpKS02MCksY30sX2JpbmRTY3JvbGxXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLl9vbih0aGlzLndpbmRvdyx7c2Nyb2xsc3RvcDpmdW5jdGlvbigpe3ZhciBiPWEuX3ZpZXdwb3J0T2Zmc2V0KCk7Yj4yJiZhLl92aXNpYmxlJiZhLl90cmlnZ2VyUmVkcmF3KCl9fSl9LF9iaW5kTGlzdFRodW1iV29ya2Fyb3VuZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5jbG9zZXN0KFwiLnVpLXBhZ2VcIikuYWRkQ2xhc3MoXCJ1aS1hbmRyb2lkLTJ4LWZpeGVkXCIpfSxfdHJpZ2dlclJlZHJhdzpmdW5jdGlvbigpe3ZhciBiPXBhcnNlRmxvYXQoYShcIi51aS1wYWdlLWFjdGl2ZVwiKS5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiKSk7YShcIi51aS1wYWdlLWFjdGl2ZVwiKS5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiLGIrMStcInB4XCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthKFwiLnVpLXBhZ2UtYWN0aXZlXCIpLmNzcyhcInBhZGRpbmctYm90dG9tXCIsYitcInB4XCIpfSwwKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksdGhpcy5lbGVtZW50LmNsb3Nlc3QoXCIudWktcGFnZS1hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJ1aS1hbmRyb2lkLTJ4LWZpeFwiKX19KX0oYSksZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dmFyIGE9ZS5jbG9uZSgpLGI9YS5lcSgwKSxjPWEuZXEoMSksZD1jLmNoaWxkcmVuKCk7cmV0dXJue2FyRWxzOmMuYWRkKGIpLGdkOmIsY3Q6YyxhcjpkfX12YXIgZD1hLm1vYmlsZS5icm93c2VyLm9sZElFJiZhLm1vYmlsZS5icm93c2VyLm9sZElFPD04LGU9YShcIjxkaXYgY2xhc3M9J3VpLXBvcHVwLWFycm93LWd1aWRlJz48L2Rpdj48ZGl2IGNsYXNzPSd1aS1wb3B1cC1hcnJvdy1jb250YWluZXJcIisoZD9cIiBpZVwiOlwiXCIpK1wiJz48ZGl2IGNsYXNzPSd1aS1wb3B1cC1hcnJvdyc+PC9kaXY+PC9kaXY+XCIpO2Eud2lkZ2V0KFwibW9iaWxlLnBvcHVwXCIsYS5tb2JpbGUucG9wdXAse29wdGlvbnM6e2Fycm93OlwiXCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuX3N1cGVyKCk7cmV0dXJuIHRoaXMub3B0aW9ucy5hcnJvdyYmKHRoaXMuX3VpLmFycm93PWE9dGhpcy5fYWRkQXJyb3coKSksYn0sX2FkZEFycm93OmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLm9wdGlvbnMsZD1jKCk7cmV0dXJuIGE9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ib2R5LVwiLGIudGhlbWUpLGQuYXIuYWRkQ2xhc3MoYSsoYi5zaGFkb3c/XCIgdWktb3ZlcmxheS1zaGFkb3dcIjpcIlwiKSksZC5hckVscy5oaWRlKCkuYXBwZW5kVG8odGhpcy5lbGVtZW50KSxkfSxfdW5lbmhhbmNlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fdWkuYXJyb3c7cmV0dXJuIGEmJmEuYXJFbHMucmVtb3ZlKCksdGhpcy5fc3VwZXIoKX0sX3RyeUFuQXJyb3c6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaT17fSxqPXt9O3JldHVybiBkLmFyRnVsbFthLmRpbUtleV0+ZC5ndWlkZURpbXNbYS5kaW1LZXldP2U6KGlbYS5mc3RdPWNbYS5mc3RdKyhkLmFySGFsZlthLm9EaW1LZXldK2QubWVudUhhbGZbYS5vRGltS2V5XSkqYS5vZmZzZXRGYWN0b3ItZC5jb250ZW50Qm94W2EuZnN0XSsoZC5jbGFtcEluZm8ubWVudVNpemVbYS5vRGltS2V5XS1kLmNvbnRlbnRCb3hbYS5vRGltS2V5XSkqYS5hcnJvd09mZnNldEZhY3RvcixpW2Euc25kXT1jW2Euc25kXSxmPWQucmVzdWx0fHx0aGlzLl9jYWxjdWxhdGVGaW5hbExvY2F0aW9uKGksZC5jbGFtcEluZm8pLGc9e3g6Zi5sZWZ0LHk6Zi50b3B9LGpbYS5mc3RdPWdbYS5mc3RdK2QuY29udGVudEJveFthLmZzdF0rYS50aXBPZmZzZXQsalthLnNuZF09TWF0aC5tYXgoZlthLnByb3BdK2QuZ3VpZGVPZmZzZXRbYS5wcm9wXStkLmFySGFsZlthLmRpbUtleV0sTWF0aC5taW4oZlthLnByb3BdK2QuZ3VpZGVPZmZzZXRbYS5wcm9wXStkLmd1aWRlRGltc1thLmRpbUtleV0tZC5hckhhbGZbYS5kaW1LZXldLGNbYS5zbmRdKSksaD1NYXRoLmFicyhjLngtai54KStNYXRoLmFicyhjLnktai55KSwoIWV8fGg8ZS5kaWZmKSYmKGpbYS5zbmRdLT1kLmFySGFsZlthLmRpbUtleV0rZlthLnByb3BdK2QuY29udGVudEJveFthLnNuZF0sZT17ZGlyOmIsZGlmZjpoLHJlc3VsdDpmLHBvc1Byb3A6YS5wcm9wLHBvc1ZhbDpqW2Euc25kXX0pLGUpfSxfZ2V0UGxhY2VtZW50U3RhdGU6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPXRoaXMuX3VpLmFycm93LGU9e2NsYW1wSW5mbzp0aGlzLl9jbGFtcFBvcHVwV2lkdGgoIWEpLGFyRnVsbDp7Y3g6ZC5jdC53aWR0aCgpLGN5OmQuY3QuaGVpZ2h0KCl9LGd1aWRlRGltczp7Y3g6ZC5nZC53aWR0aCgpLGN5OmQuZ2QuaGVpZ2h0KCl9LGd1aWRlT2Zmc2V0OmQuZ2Qub2Zmc2V0KCl9O3JldHVybiBiPXRoaXMuZWxlbWVudC5vZmZzZXQoKSxkLmdkLmNzcyh7bGVmdDowLHRvcDowLHJpZ2h0OjAsYm90dG9tOjB9KSxjPWQuZ2Qub2Zmc2V0KCksZS5jb250ZW50Qm94PXt4OmMubGVmdC1iLmxlZnQseTpjLnRvcC1iLnRvcCxjeDpkLmdkLndpZHRoKCksY3k6ZC5nZC5oZWlnaHQoKX0sZC5nZC5yZW1vdmVBdHRyKFwic3R5bGVcIiksZS5ndWlkZU9mZnNldD17bGVmdDplLmd1aWRlT2Zmc2V0LmxlZnQtYi5sZWZ0LHRvcDplLmd1aWRlT2Zmc2V0LnRvcC1iLnRvcH0sZS5hckhhbGY9e2N4OmUuYXJGdWxsLmN4LzIsY3k6ZS5hckZ1bGwuY3kvMn0sZS5tZW51SGFsZj17Y3g6ZS5jbGFtcEluZm8ubWVudVNpemUuY3gvMixjeTplLmNsYW1wSW5mby5tZW51U2l6ZS5jeS8yfSxlfSxfcGxhY2VtZW50Q29vcmRzOmZ1bmN0aW9uKGIpe3ZhciBjLGUsZixnLGgsaT10aGlzLm9wdGlvbnMuYXJyb3csaj10aGlzLl91aS5hcnJvdztyZXR1cm4gaj8oai5hckVscy5zaG93KCksaD17fSxjPXRoaXMuX2dldFBsYWNlbWVudFN0YXRlKCEwKSxmPXtsOntmc3Q6XCJ4XCIsc25kOlwieVwiLHByb3A6XCJ0b3BcIixkaW1LZXk6XCJjeVwiLG9EaW1LZXk6XCJjeFwiLG9mZnNldEZhY3RvcjoxLHRpcE9mZnNldDotYy5hckhhbGYuY3gsYXJyb3dPZmZzZXRGYWN0b3I6MH0scjp7ZnN0OlwieFwiLHNuZDpcInlcIixwcm9wOlwidG9wXCIsZGltS2V5OlwiY3lcIixvRGltS2V5OlwiY3hcIixvZmZzZXRGYWN0b3I6LTEsdGlwT2Zmc2V0OmMuYXJIYWxmLmN4K2MuY29udGVudEJveC5jeCxhcnJvd09mZnNldEZhY3RvcjoxfSxiOntmc3Q6XCJ5XCIsc25kOlwieFwiLHByb3A6XCJsZWZ0XCIsZGltS2V5OlwiY3hcIixvRGltS2V5OlwiY3lcIixvZmZzZXRGYWN0b3I6LTEsdGlwT2Zmc2V0OmMuYXJIYWxmLmN5K2MuY29udGVudEJveC5jeSxhcnJvd09mZnNldEZhY3RvcjoxfSx0Ontmc3Q6XCJ5XCIsc25kOlwieFwiLHByb3A6XCJsZWZ0XCIsZGltS2V5OlwiY3hcIixvRGltS2V5OlwiY3lcIixvZmZzZXRGYWN0b3I6MSx0aXBPZmZzZXQ6LWMuYXJIYWxmLmN5LGFycm93T2Zmc2V0RmFjdG9yOjB9fSxhLmVhY2goKGk9PT0hMD9cImwsdCxyLGJcIjppKS5zcGxpdChcIixcIiksYS5wcm94eShmdW5jdGlvbihhLGQpe2U9dGhpcy5fdHJ5QW5BcnJvdyhmW2RdLGQsYixjLGUpfSx0aGlzKSksZT8oai5jdC5yZW1vdmVDbGFzcyhcInVpLXBvcHVwLWFycm93LWwgdWktcG9wdXAtYXJyb3ctdCB1aS1wb3B1cC1hcnJvdy1yIHVpLXBvcHVwLWFycm93LWJcIikuYWRkQ2xhc3MoXCJ1aS1wb3B1cC1hcnJvdy1cIitlLmRpcikucmVtb3ZlQXR0cihcInN0eWxlXCIpLmNzcyhlLnBvc1Byb3AsZS5wb3NWYWwpLnNob3coKSxkfHwoZz10aGlzLmVsZW1lbnQub2Zmc2V0KCksaFtmW2UuZGlyXS5mc3RdPWouY3Qub2Zmc2V0KCksaFtmW2UuZGlyXS5zbmRdPXtsZWZ0OmcubGVmdCtjLmNvbnRlbnRCb3gueCx0b3A6Zy50b3ArYy5jb250ZW50Qm94Lnl9KSxlLnJlc3VsdCk6KGouYXJFbHMuaGlkZSgpLHRoaXMuX3N1cGVyKGIpKSk6dGhpcy5fc3VwZXIoYil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcy5vcHRpb25zLnRoZW1lLGU9dGhpcy5fdWkuYXJyb3csZj10aGlzLl9zdXBlcihhKTtpZihhLmFycm93IT09Yil7aWYoIWUmJmEuYXJyb3cpcmV0dXJuIHZvaWQodGhpcy5fdWkuYXJyb3c9dGhpcy5fYWRkQXJyb3coKSk7ZSYmIWEuYXJyb3cmJihlLmFyRWxzLnJlbW92ZSgpLHRoaXMuX3VpLmFycm93PW51bGwpfXJldHVybiBlPXRoaXMuX3VpLmFycm93LGUmJihhLnRoZW1lIT09YiYmKGQ9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ib2R5LVwiLGQpLGM9dGhpcy5fdGhlbWVDbGFzc0Zyb21PcHRpb24oXCJ1aS1ib2R5LVwiLGEudGhlbWUpLGUuYXIucmVtb3ZlQ2xhc3MoZCkuYWRkQ2xhc3MoYykpLGEuc2hhZG93IT09YiYmZS5hci50b2dnbGVDbGFzcyhcInVpLW92ZXJsYXktc2hhZG93XCIsYS5zaGFkb3cpKSxmfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX3VpLmFycm93O3JldHVybiBhJiZhLmFyRWxzLnJlbW92ZSgpLHRoaXMuX3N1cGVyKCl9fSl9KGEpLGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoXCJtb2JpbGUucGFuZWxcIix7b3B0aW9uczp7Y2xhc3Nlczp7cGFuZWw6XCJ1aS1wYW5lbFwiLHBhbmVsT3BlbjpcInVpLXBhbmVsLW9wZW5cIixwYW5lbENsb3NlZDpcInVpLXBhbmVsLWNsb3NlZFwiLHBhbmVsRml4ZWQ6XCJ1aS1wYW5lbC1maXhlZFwiLHBhbmVsSW5uZXI6XCJ1aS1wYW5lbC1pbm5lclwiLG1vZGFsOlwidWktcGFuZWwtZGlzbWlzc1wiLG1vZGFsT3BlbjpcInVpLXBhbmVsLWRpc21pc3Mtb3BlblwiLHBhZ2VDb250YWluZXI6XCJ1aS1wYW5lbC1wYWdlLWNvbnRhaW5lclwiLHBhZ2VXcmFwcGVyOlwidWktcGFuZWwtd3JhcHBlclwiLHBhZ2VGaXhlZFRvb2xiYXI6XCJ1aS1wYW5lbC1maXhlZC10b29sYmFyXCIscGFnZUNvbnRlbnRQcmVmaXg6XCJ1aS1wYW5lbC1wYWdlLWNvbnRlbnRcIixhbmltYXRlOlwidWktcGFuZWwtYW5pbWF0ZVwifSxhbmltYXRlOiEwLHRoZW1lOm51bGwscG9zaXRpb246XCJsZWZ0XCIsZGlzbWlzc2libGU6ITAsZGlzcGxheTpcInJldmVhbFwiLHN3aXBlQ2xvc2U6ITAscG9zaXRpb25GaXhlZDohMX0sX2Nsb3NlTGluazpudWxsLF9wYXJlbnRQYWdlOm51bGwsX3BhZ2U6bnVsbCxfbW9kYWw6bnVsbCxfcGFuZWxJbm5lcjpudWxsLF93cmFwcGVyOm51bGwsX2ZpeGVkVG9vbGJhcnM6bnVsbCxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5jbG9zZXN0KFwiLnVpLXBhZ2UsIDpqcW1EYXRhKHJvbGU9J3BhZ2UnKVwiKTthLmV4dGVuZCh0aGlzLHtfY2xvc2VMaW5rOmIuZmluZChcIjpqcW1EYXRhKHJlbD0nY2xvc2UnKVwiKSxfcGFyZW50UGFnZTpjLmxlbmd0aD4wP2M6ITEsX29wZW5lZFBhZ2U6bnVsbCxfcGFnZTp0aGlzLl9nZXRQYWdlLF9wYW5lbElubmVyOnRoaXMuX2dldFBhbmVsSW5uZXIoKSxfZml4ZWRUb29sYmFyczp0aGlzLl9nZXRGaXhlZFRvb2xiYXJzfSksXCJvdmVybGF5XCIhPT10aGlzLm9wdGlvbnMuZGlzcGxheSYmdGhpcy5fZ2V0V3JhcHBlcigpLHRoaXMuX2FkZFBhbmVsQ2xhc3NlcygpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmdGhpcy5vcHRpb25zLmFuaW1hdGUmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5hbmltYXRlKSx0aGlzLl9iaW5kVXBkYXRlTGF5b3V0KCksdGhpcy5fYmluZENsb3NlRXZlbnRzKCksdGhpcy5fYmluZExpbmtMaXN0ZW5lcnMoKSx0aGlzLl9iaW5kUGFnZUV2ZW50cygpLHRoaXMub3B0aW9ucy5kaXNtaXNzaWJsZSYmdGhpcy5fY3JlYXRlTW9kYWwoKSx0aGlzLl9iaW5kU3dpcGVFdmVudHMoKX0sX2dldFBhbmVsSW5uZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuZmluZChcIi5cIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbElubmVyKTtyZXR1cm4gMD09PWEubGVuZ3RoJiYoYT10aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS53cmFwQWxsKFwiPGRpdiBjbGFzcz0nXCIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxJbm5lcitcIicgLz5cIikucGFyZW50KCkpLGF9LF9jcmVhdGVNb2RhbDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLl9wYXJlbnRQYWdlP2IuX3BhcmVudFBhZ2UucGFyZW50KCk6Yi5lbGVtZW50LnBhcmVudCgpO2IuX21vZGFsPWEoXCI8ZGl2IGNsYXNzPSdcIitiLm9wdGlvbnMuY2xhc3Nlcy5tb2RhbCtcIic+PC9kaXY+XCIpLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXtiLmNsb3NlKCl9KS5hcHBlbmRUbyhjKX0sX2dldFBhZ2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9vcGVuZWRQYWdlfHx0aGlzLl9wYXJlbnRQYWdlfHxhKFwiLlwiK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7cmV0dXJuIGJ9LF9nZXRXcmFwcGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fcGFnZSgpLmZpbmQoXCIuXCIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZVdyYXBwZXIpOzA9PT1hLmxlbmd0aCYmKGE9dGhpcy5fcGFnZSgpLmNoaWxkcmVuKFwiLnVpLWhlYWRlcjpub3QoLnVpLWhlYWRlci1maXhlZCksIC51aS1jb250ZW50Om5vdCgudWktcG9wdXApLCAudWktZm9vdGVyOm5vdCgudWktZm9vdGVyLWZpeGVkKVwiKS53cmFwQWxsKFwiPGRpdiBjbGFzcz0nXCIrdGhpcy5vcHRpb25zLmNsYXNzZXMucGFnZVdyYXBwZXIrXCInPjwvZGl2PlwiKS5wYXJlbnQoKSksdGhpcy5fd3JhcHBlcj1hfSxfZ2V0Rml4ZWRUb29sYmFyczpmdW5jdGlvbigpe3ZhciBiPWEoXCJib2R5XCIpLmNoaWxkcmVuKFwiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZFwiKSxjPXRoaXMuX3BhZ2UoKS5maW5kKFwiLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZFwiKSxkPWIuYWRkKGMpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhZ2VGaXhlZFRvb2xiYXIpO3JldHVybiBkfSxfZ2V0UG9zRGlzcGxheUNsYXNzZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGErXCItcG9zaXRpb24tXCIrdGhpcy5vcHRpb25zLnBvc2l0aW9uK1wiIFwiK2ErXCItZGlzcGxheS1cIit0aGlzLm9wdGlvbnMuZGlzcGxheX0sX2dldFBhbmVsQ2xhc3NlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsK1wiIFwiK3RoaXMuX2dldFBvc0Rpc3BsYXlDbGFzc2VzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsKStcIiBcIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbENsb3NlZCtcIiB1aS1ib2R5LVwiKyh0aGlzLm9wdGlvbnMudGhlbWU/dGhpcy5vcHRpb25zLnRoZW1lOlwiaW5oZXJpdFwiKTtyZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJihhKz1cIiBcIit0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbEZpeGVkKSxhfSxfYWRkUGFuZWxDbGFzc2VzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMuX2dldFBhbmVsQ2xhc3NlcygpKX0sX2hhbmRsZUNsb3NlQ2xpY2s6ZnVuY3Rpb24oYSl7YS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8dGhpcy5jbG9zZSgpfSxfYmluZENsb3NlRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5fb24odGhpcy5fY2xvc2VMaW5rLHtjbGljazpcIl9oYW5kbGVDbG9zZUNsaWNrXCJ9KSx0aGlzLl9vbih7XCJjbGljayBhOmpxbURhdGEoYWpheD0nZmFsc2UnKVwiOlwiX2hhbmRsZUNsb3NlQ2xpY2tcIn0pfSxfcG9zaXRpb25QYW5lbDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGQ9Yy5fcGFuZWxJbm5lci5vdXRlckhlaWdodCgpLGU9ZD5hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKTtlfHwhYy5vcHRpb25zLnBvc2l0aW9uRml4ZWQ/KGUmJihjLl91bmZpeFBhbmVsKCksYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KGQpKSxiJiZ0aGlzLndpbmRvd1swXS5zY3JvbGxUbygwLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKSk6Yy5fZml4UGFuZWwoKX0sX2JpbmRGaXhMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuX29uKGEoYikse3Rocm90dGxlZHJlc2l6ZTpcIl9wb3NpdGlvblBhbmVsXCJ9KX0sX3VuYmluZEZpeExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5fb2ZmKGEoYiksXCJ0aHJvdHRsZWRyZXNpemVcIil9LF91bmZpeFBhbmVsOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQmJmEuc3VwcG9ydC5maXhlZFBvc2l0aW9uJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMucGFuZWxGaXhlZCl9LF9maXhQYW5lbDpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkJiZhLnN1cHBvcnQuZml4ZWRQb3NpdGlvbiYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnBhbmVsRml4ZWQpfSxfYmluZFVwZGF0ZUxheW91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5lbGVtZW50Lm9uKFwidXBkYXRlbGF5b3V0XCIsZnVuY3Rpb24oKXthLl9vcGVuJiZhLl9wb3NpdGlvblBhbmVsKCl9KX0sX2JpbmRMaW5rTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5fb24oXCJib2R5XCIse1wiY2xpY2sgYVwiOlwiX2hhbmRsZUNsaWNrXCJ9KX0sX2hhbmRsZUNsaWNrOmZ1bmN0aW9uKGIpe3ZhciBkLGU9dGhpcy5lbGVtZW50LmF0dHIoXCJpZFwiKTtiLmN1cnJlbnRUYXJnZXQuaHJlZi5zcGxpdChcIiNcIilbMV09PT1lJiZlIT09YyYmKGIucHJldmVudERlZmF1bHQoKSxkPWEoYi50YXJnZXQpLGQuaGFzQ2xhc3MoXCJ1aS1idG5cIikmJihkLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSx0aGlzLmVsZW1lbnQub25lKFwicGFuZWxvcGVuIHBhbmVsY2xvc2VcIixmdW5jdGlvbigpe2QucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkpLHRoaXMudG9nZ2xlKCkpfSxfYmluZFN3aXBlRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuX21vZGFsP2EuZWxlbWVudC5hZGQoYS5fbW9kYWwpOmEuZWxlbWVudDthLm9wdGlvbnMuc3dpcGVDbG9zZSYmKFwibGVmdFwiPT09YS5vcHRpb25zLnBvc2l0aW9uP2Iub24oXCJzd2lwZWxlZnQucGFuZWxcIixmdW5jdGlvbigpe2EuY2xvc2UoKX0pOmIub24oXCJzd2lwZXJpZ2h0LnBhbmVsXCIsZnVuY3Rpb24oKXthLmNsb3NlKCl9KSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5kb2N1bWVudC5vbihcInBhbmVsYmVmb3Jlb3BlblwiLGZ1bmN0aW9uKGIpe2EuX29wZW4mJmIudGFyZ2V0IT09YS5lbGVtZW50WzBdJiZhLmNsb3NlKCl9KS5vbihcImtleXVwLnBhbmVsXCIsZnVuY3Rpb24oYil7Mjc9PT1iLmtleUNvZGUmJmEuX29wZW4mJmEuY2xvc2UoKX0pLHRoaXMuX3BhcmVudFBhZ2V8fFwib3ZlcmxheVwiPT09dGhpcy5vcHRpb25zLmRpc3BsYXl8fHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse3BhZ2VzaG93OmZ1bmN0aW9uKCl7dGhpcy5fb3BlbmVkUGFnZT1udWxsLHRoaXMuX2dldFdyYXBwZXIoKX19KSxhLl9wYXJlbnRQYWdlP3RoaXMuZG9jdW1lbnQub24oXCJwYWdlaGlkZVwiLFwiOmpxbURhdGEocm9sZT0ncGFnZScpXCIsZnVuY3Rpb24oKXthLl9vcGVuJiZhLmNsb3NlKCEwKX0pOnRoaXMuZG9jdW1lbnQub24oXCJwYWdlYmVmb3JlaGlkZVwiLGZ1bmN0aW9uKCl7YS5fb3BlbiYmYS5jbG9zZSghMCl9KX0sX29wZW46ITEsX3BhZ2VDb250ZW50T3BlbkNsYXNzZXM6bnVsbCxfbW9kYWxPcGVuQ2xhc3NlczpudWxsLG9wZW46ZnVuY3Rpb24oYil7aWYoIXRoaXMuX29wZW4pe3ZhciBjPXRoaXMsZD1jLm9wdGlvbnMsZT1mdW5jdGlvbigpe2MuX29mZihjLmRvY3VtZW50LFwicGFuZWxjbG9zZVwiKSxjLl9wYWdlKCkuanFtRGF0YShcInBhbmVsXCIsXCJvcGVuXCIpLGEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlJiZcIm92ZXJsYXlcIiE9PWQuZGlzcGxheSYmKGMuX3dyYXBwZXIuYWRkQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpLGMuX2ZpeGVkVG9vbGJhcnMoKS5hZGRDbGFzcyhkLmNsYXNzZXMuYW5pbWF0ZSkpLCFiJiZhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZT8oYy5fd3JhcHBlcnx8Yy5lbGVtZW50KS5hbmltYXRpb25Db21wbGV0ZShmLFwidHJhbnNpdGlvblwiKTpzZXRUaW1lb3V0KGYsMCksZC50aGVtZSYmXCJvdmVybGF5XCIhPT1kLmRpc3BsYXkmJmMuX3BhZ2UoKS5wYXJlbnQoKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRhaW5lcitcIi10aGVtZWQgXCIrZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrXCItXCIrZC50aGVtZSksYy5lbGVtZW50LnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYW5lbENsb3NlZCkuYWRkQ2xhc3MoZC5jbGFzc2VzLnBhbmVsT3BlbiksYy5fcG9zaXRpb25QYW5lbCghMCksYy5fcGFnZUNvbnRlbnRPcGVuQ2xhc3Nlcz1jLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgpLFwib3ZlcmxheVwiIT09ZC5kaXNwbGF5JiYoYy5fcGFnZSgpLnBhcmVudCgpLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGFpbmVyKSxjLl93cmFwcGVyLmFkZENsYXNzKGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMpLGMuX2ZpeGVkVG9vbGJhcnMoKS5hZGRDbGFzcyhjLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzKSksYy5fbW9kYWxPcGVuQ2xhc3Nlcz1jLl9nZXRQb3NEaXNwbGF5Q2xhc3NlcyhkLmNsYXNzZXMubW9kYWwpK1wiIFwiK2QuY2xhc3Nlcy5tb2RhbE9wZW4sYy5fbW9kYWwmJmMuX21vZGFsLmFkZENsYXNzKGMuX21vZGFsT3BlbkNsYXNzZXMpLmhlaWdodChNYXRoLm1heChjLl9tb2RhbC5oZWlnaHQoKSxjLmRvY3VtZW50LmhlaWdodCgpKSl9LGY9ZnVuY3Rpb24oKXtjLl9vcGVuJiYoXCJvdmVybGF5XCIhPT1kLmRpc3BsYXkmJihjLl93cmFwcGVyLmFkZENsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCtcIi1vcGVuXCIpLGMuX2ZpeGVkVG9vbGJhcnMoKS5hZGRDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrXCItb3BlblwiKSksYy5fYmluZEZpeExpc3RlbmVyKCksYy5fdHJpZ2dlcihcIm9wZW5cIiksYy5fb3BlbmVkUGFnZT1jLl9wYWdlKCkpfTtjLl90cmlnZ2VyKFwiYmVmb3Jlb3BlblwiKSxcIm9wZW5cIj09PWMuX3BhZ2UoKS5qcW1EYXRhKFwicGFuZWxcIik/Yy5fb24oYy5kb2N1bWVudCx7cGFuZWxjbG9zZTplfSk6ZSgpLGMuX29wZW49ITB9fSxjbG9zZTpmdW5jdGlvbihiKXtpZih0aGlzLl9vcGVuKXt2YXIgYz10aGlzLGQ9dGhpcy5vcHRpb25zLGU9ZnVuY3Rpb24oKXtjLmVsZW1lbnQucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhbmVsT3BlbiksXCJvdmVybGF5XCIhPT1kLmRpc3BsYXkmJihjLl93cmFwcGVyLnJlbW92ZUNsYXNzKGMuX3BhZ2VDb250ZW50T3BlbkNsYXNzZXMpLGMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhjLl9wYWdlQ29udGVudE9wZW5DbGFzc2VzKSksIWImJmEuc3VwcG9ydC5jc3NUcmFuc2Zvcm0zZCYmZC5hbmltYXRlPyhjLl93cmFwcGVyfHxjLmVsZW1lbnQpLmFuaW1hdGlvbkNvbXBsZXRlKGYsXCJ0cmFuc2l0aW9uXCIpOnNldFRpbWVvdXQoZiwwKSxjLl9tb2RhbCYmYy5fbW9kYWwucmVtb3ZlQ2xhc3MoYy5fbW9kYWxPcGVuQ2xhc3NlcykuaGVpZ2h0KFwiXCIpfSxmPWZ1bmN0aW9uKCl7ZC50aGVtZSYmXCJvdmVybGF5XCIhPT1kLmRpc3BsYXkmJmMuX3BhZ2UoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhkLmNsYXNzZXMucGFnZUNvbnRhaW5lcitcIi10aGVtZWQgXCIrZC5jbGFzc2VzLnBhZ2VDb250YWluZXIrXCItXCIrZC50aGVtZSksYy5lbGVtZW50LmFkZENsYXNzKGQuY2xhc3Nlcy5wYW5lbENsb3NlZCksXCJvdmVybGF5XCIhPT1kLmRpc3BsYXkmJihjLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250YWluZXIpLGMuX3dyYXBwZXIucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLnBhZ2VDb250ZW50UHJlZml4K1wiLW9wZW5cIiksYy5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5wYWdlQ29udGVudFByZWZpeCtcIi1vcGVuXCIpKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmQuYW5pbWF0ZSYmXCJvdmVybGF5XCIhPT1kLmRpc3BsYXkmJihjLl93cmFwcGVyLnJlbW92ZUNsYXNzKGQuY2xhc3Nlcy5hbmltYXRlKSxjLl9maXhlZFRvb2xiYXJzKCkucmVtb3ZlQ2xhc3MoZC5jbGFzc2VzLmFuaW1hdGUpKSxjLl9maXhQYW5lbCgpLGMuX3VuYmluZEZpeExpc3RlbmVyKCksYS5tb2JpbGUucmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCksYy5fcGFnZSgpLmpxbVJlbW92ZURhdGEoXCJwYW5lbFwiKSxjLl90cmlnZ2VyKFwiY2xvc2VcIiksYy5fb3BlbmVkUGFnZT1udWxsfTtjLl90cmlnZ2VyKFwiYmVmb3JlY2xvc2VcIiksZSgpLGMuX29wZW49ITF9fSx0b2dnbGU6ZnVuY3Rpb24oKXt0aGlzW3RoaXMuX29wZW4/XCJjbG9zZVwiOlwib3BlblwiXSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBiLGM9dGhpcy5vcHRpb25zLGQ9YShcImJvZHkgPiA6bW9iaWxlLXBhbmVsXCIpLmxlbmd0aCthLm1vYmlsZS5hY3RpdmVQYWdlLmZpbmQoXCI6bW9iaWxlLXBhbmVsXCIpLmxlbmd0aD4xO1wib3ZlcmxheVwiIT09Yy5kaXNwbGF5JiYoYj1hKFwiYm9keSA+IDptb2JpbGUtcGFuZWxcIikuYWRkKGEubW9iaWxlLmFjdGl2ZVBhZ2UuZmluZChcIjptb2JpbGUtcGFuZWxcIikpLDA9PT1iLm5vdChcIi51aS1wYW5lbC1kaXNwbGF5LW92ZXJsYXlcIikubm90KHRoaXMuZWxlbWVudCkubGVuZ3RoJiZ0aGlzLl93cmFwcGVyLmNoaWxkcmVuKCkudW53cmFwKCksdGhpcy5fb3BlbiYmKHRoaXMuX2ZpeGVkVG9vbGJhcnMoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMucGFnZUNvbnRlbnRQcmVmaXgrXCItb3BlblwiKSxhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmMuYW5pbWF0ZSYmdGhpcy5fZml4ZWRUb29sYmFycygpLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5hbmltYXRlKSx0aGlzLl9wYWdlKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoYy5jbGFzc2VzLnBhZ2VDb250YWluZXIpLGMudGhlbWUmJnRoaXMuX3BhZ2UoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhjLmNsYXNzZXMucGFnZUNvbnRhaW5lcitcIi10aGVtZWQgXCIrYy5jbGFzc2VzLnBhZ2VDb250YWluZXIrXCItXCIrYy50aGVtZSkpKSxkfHx0aGlzLmRvY3VtZW50Lm9mZihcInBhbmVsb3BlbiBwYW5lbGNsb3NlXCIpLHRoaXMuX29wZW4mJnRoaXMuX3BhZ2UoKS5qcW1SZW1vdmVEYXRhKFwicGFuZWxcIiksdGhpcy5fcGFuZWxJbm5lci5jaGlsZHJlbigpLnVud3JhcCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhbdGhpcy5fZ2V0UGFuZWxDbGFzc2VzKCksYy5jbGFzc2VzLnBhbmVsT3BlbixjLmNsYXNzZXMuYW5pbWF0ZV0uam9pbihcIiBcIikpLm9mZihcInN3aXBlbGVmdC5wYW5lbCBzd2lwZXJpZ2h0LnBhbmVsXCIpLm9mZihcInBhbmVsYmVmb3Jlb3BlblwiKS5vZmYoXCJwYW5lbGhpZGVcIikub2ZmKFwia2V5dXAucGFuZWxcIikub2ZmKFwidXBkYXRlbGF5b3V0XCIpLHRoaXMuX21vZGFsJiZ0aGlzLl9tb2RhbC5yZW1vdmUoKX19KX0oYSksZnVuY3Rpb24oYSxiKXthLndpZGdldChcIm1vYmlsZS50YWJsZVwiLHtvcHRpb25zOntjbGFzc2VzOnt0YWJsZTpcInVpLXRhYmxlXCJ9LGVuaGFuY2VkOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmVuaGFuY2VkfHx0aGlzLmVsZW1lbnQuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMudGFibGUpLGEuZXh0ZW5kKHRoaXMse2hlYWRlcnM6YixhbGxIZWFkZXJzOmJ9KSx0aGlzLl9yZWZyZXNoKCEwKX0sX3NldEhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQuZmluZChcInRoZWFkIHRyXCIpO3RoaXMuaGVhZGVycz10aGlzLmVsZW1lbnQuZmluZChcInRyOmVxKDApXCIpLmNoaWxkcmVuKCksdGhpcy5hbGxIZWFkZXJzPXRoaXMuaGVhZGVycy5hZGQoYS5jaGlsZHJlbigpKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3JlZnJlc2goKX0scmVidWlsZDphLm5vb3AsX3JlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz1iLmZpbmQoXCJ0aGVhZCB0clwiKTt0aGlzLl9zZXRIZWFkZXJzKCksYy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9MDthKHRoaXMpLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe3ZhciBlLGY9cGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIpLDEwKSxnPVwiOm50aC1jaGlsZChcIisoZCsxKStcIilcIjtpZih0aGlzLnNldEF0dHJpYnV0ZShcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJjb2xzdGFydFwiLGQrMSksZilmb3IoZT0wO2YtMT5lO2UrKylkKyssZys9XCIsIDpudGgtY2hpbGQoXCIrKGQrMSkrXCIpXCI7YSh0aGlzKS5qcW1EYXRhKFwiY2VsbHNcIixiLmZpbmQoXCJ0clwiKS5ub3QoYy5lcSgwKSkubm90KHRoaXMpLmNoaWxkcmVuKGcpKSxkKyt9KX0pfX0pfShhKSxmdW5jdGlvbihhKXthLndpZGdldChcIm1vYmlsZS50YWJsZVwiLGEubW9iaWxlLnRhYmxlLHtvcHRpb25zOnttb2RlOlwiY29sdW1udG9nZ2xlXCIsY29sdW1uQnRuVGhlbWU6bnVsbCxjb2x1bW5Qb3B1cFRoZW1lOm51bGwsY29sdW1uQnRuVGV4dDpcIkNvbHVtbnMuLi5cIixjbGFzc2VzOmEuZXh0ZW5kKGEubW9iaWxlLnRhYmxlLnByb3RvdHlwZS5vcHRpb25zLmNsYXNzZXMse3BvcHVwOlwidWktdGFibGUtY29sdW1udG9nZ2xlLXBvcHVwXCIsY29sdW1uQnRuOlwidWktdGFibGUtY29sdW1udG9nZ2xlLWJ0blwiLHByaW9yaXR5UHJlZml4OlwidWktdGFibGUtcHJpb3JpdHktXCIsY29sdW1uVG9nZ2xlVGFibGU6XCJ1aS10YWJsZS1jb2x1bW50b2dnbGVcIn0pfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKSxcImNvbHVtbnRvZ2dsZVwiPT09dGhpcy5vcHRpb25zLm1vZGUmJihhLmV4dGVuZCh0aGlzLHtfbWVudTpudWxsfSksdGhpcy5vcHRpb25zLmVuaGFuY2VkPyh0aGlzLl9tZW51PWEodGhpcy5kb2N1bWVudFswXS5nZXRFbGVtZW50QnlJZCh0aGlzLl9pZCgpK1wiLXBvcHVwXCIpKS5jaGlsZHJlbigpLmZpcnN0KCksdGhpcy5fYWRkVG9nZ2xlcyh0aGlzLl9tZW51LCEwKSk6KHRoaXMuX21lbnU9dGhpcy5fZW5oYW5jZUNvbFRvZ2dsZSgpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5jb2x1bW5Ub2dnbGVUYWJsZSkpLHRoaXMuX3NldHVwRXZlbnRzKCksdGhpcy5fc2V0VG9nZ2xlU3RhdGUoKSl9LF9pZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYXR0cihcImlkXCIpfHx0aGlzLndpZGdldE5hbWUrdGhpcy51dWlkfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vbih0aGlzLndpbmRvdyx7dGhyb3R0bGVkcmVzaXplOlwiX3NldFRvZ2dsZVN0YXRlXCJ9KSx0aGlzLl9vbih0aGlzLl9tZW51LHtcImNoYW5nZSBpbnB1dFwiOlwiX21lbnVJbnB1dENoYW5nZVwifSl9LF9hZGRUb2dnbGVzOmZ1bmN0aW9uKGIsYyl7dmFyIGQsZT0wLGY9dGhpcy5vcHRpb25zLGc9Yi5jb250cm9sZ3JvdXAoXCJjb250YWluZXJcIik7Yz9kPWIuZmluZChcImlucHV0XCIpOmcuZW1wdHkoKSx0aGlzLmhlYWRlcnMubm90KFwidGRcIikuZWFjaChmdW5jdGlvbigpe3ZhciBiLGgsaT1hKHRoaXMpLGo9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMsXCJwcmlvcml0eVwiKTtqJiYoaD1pLmFkZChpLmpxbURhdGEoXCJjZWxsc1wiKSksaC5hZGRDbGFzcyhmLmNsYXNzZXMucHJpb3JpdHlQcmVmaXgraiksYj0oYz9kLmVxKGUrKyk6YShcIjxsYWJlbD48aW5wdXQgdHlwZT0nY2hlY2tib3gnIGNoZWNrZWQgLz5cIisoaS5jaGlsZHJlbihcImFiYnJcIikuZmlyc3QoKS5hdHRyKFwidGl0bGVcIil8fGkudGV4dCgpKStcIjwvbGFiZWw+XCIpLmFwcGVuZFRvKGcpLmNoaWxkcmVuKDApLmNoZWNrYm94cmFkaW8oe3RoZW1lOmYuY29sdW1uUG9wdXBUaGVtZX0pKS5qcW1EYXRhKFwiaGVhZGVyXCIsaSkuanFtRGF0YShcImNlbGxzXCIsaCksaS5qcW1EYXRhKFwiaW5wdXRcIixiKSl9KSxjfHxiLmNvbnRyb2xncm91cChcInJlZnJlc2hcIil9LF9tZW51SW5wdXRDaGFuZ2U6ZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCksZD1jWzBdLmNoZWNrZWQ7Yy5qcW1EYXRhKFwiY2VsbHNcIikudG9nZ2xlQ2xhc3MoXCJ1aS10YWJsZS1jZWxsLWhpZGRlblwiLCFkKS50b2dnbGVDbGFzcyhcInVpLXRhYmxlLWNlbGwtdmlzaWJsZVwiLGQpfSxfdW5sb2NrQ2VsbHM6ZnVuY3Rpb24oYSl7YS5yZW1vdmVDbGFzcyhcInVpLXRhYmxlLWNlbGwtaGlkZGVuIHVpLXRhYmxlLWNlbGwtdmlzaWJsZVwiKX0sX2VuaGFuY2VDb2xUb2dnbGU6ZnVuY3Rpb24oKXt2YXIgYixjLGQsZSxmPXRoaXMuZWxlbWVudCxnPXRoaXMub3B0aW9ucyxoPWEubW9iaWxlLm5zLGk9dGhpcy5kb2N1bWVudFswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuIGI9dGhpcy5faWQoKStcIi1wb3B1cFwiLGM9YShcIjxhIGhyZWY9JyNcIitiK1wiJyBjbGFzcz0nXCIrZy5jbGFzc2VzLmNvbHVtbkJ0bitcIiB1aS1idG4gdWktYnRuLVwiKyhnLmNvbHVtbkJ0blRoZW1lfHxcImFcIikrXCIgdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgdWktbWluaScgZGF0YS1cIitoK1wicmVsPSdwb3B1cCc+XCIrZy5jb2x1bW5CdG5UZXh0K1wiPC9hPlwiKSxkPWEoXCI8ZGl2IGNsYXNzPSdcIitnLmNsYXNzZXMucG9wdXArXCInIGlkPSdcIitiK1wiJz48L2Rpdj5cIiksZT1hKFwiPGZpZWxkc2V0PjwvZmllbGRzZXQ+XCIpLmNvbnRyb2xncm91cCgpLHRoaXMuX2FkZFRvZ2dsZXMoZSwhMSksZS5hcHBlbmRUbyhkKSxpLmFwcGVuZENoaWxkKGRbMF0pLGkuYXBwZW5kQ2hpbGQoY1swXSksZi5iZWZvcmUoaSksZC5wb3B1cCgpLGV9LHJlYnVpbGQ6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLFwiY29sdW1udG9nZ2xlXCI9PT10aGlzLm9wdGlvbnMubW9kZSYmdGhpcy5fcmVmcmVzaCghMSl9LF9yZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZTtpZih0aGlzLl9zdXBlcihiKSwhYiYmXCJjb2x1bW50b2dnbGVcIj09PXRoaXMub3B0aW9ucy5tb2RlKWZvcihjPXRoaXMuaGVhZGVycyxkPVtdLHRoaXMuX21lbnUuZmluZChcImlucHV0XCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGU9Yi5qcW1EYXRhKFwiaGVhZGVyXCIpLGY9Yy5pbmRleChlWzBdKTtmPi0xJiYhYi5wcm9wKFwiY2hlY2tlZFwiKSYmZC5wdXNoKGYpfSksdGhpcy5fdW5sb2NrQ2VsbHModGhpcy5lbGVtZW50LmZpbmQoXCIudWktdGFibGUtY2VsbC1oaWRkZW4sIC51aS10YWJsZS1jZWxsLXZpc2libGVcIikpLHRoaXMuX2FkZFRvZ2dsZXModGhpcy5fbWVudSxiKSxlPWQubGVuZ3RoLTE7ZT4tMTtlLS0pYy5lcShkW2VdKS5qcW1EYXRhKFwiaW5wdXRcIikucHJvcChcImNoZWNrZWRcIiwhMSkuY2hlY2tib3hyYWRpbyhcInJlZnJlc2hcIikudHJpZ2dlcihcImNoYW5nZVwiKX0sX3NldFRvZ2dsZVN0YXRlOmZ1bmN0aW9uKCl7dGhpcy5fbWVudS5maW5kKFwiaW5wdXRcIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7dGhpcy5jaGVja2VkPVwidGFibGUtY2VsbFwiPT09Yi5qcW1EYXRhKFwiY2VsbHNcIikuZXEoMCkuY3NzKFwiZGlzcGxheVwiKSxiLmNoZWNrYm94cmFkaW8oXCJyZWZyZXNoXCIpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKX19KX0oYSksZnVuY3Rpb24oYSl7YS53aWRnZXQoXCJtb2JpbGUudGFibGVcIixhLm1vYmlsZS50YWJsZSx7b3B0aW9uczp7bW9kZTpcInJlZmxvd1wiLGNsYXNzZXM6YS5leHRlbmQoYS5tb2JpbGUudGFibGUucHJvdG90eXBlLm9wdGlvbnMuY2xhc3Nlcyx7cmVmbG93VGFibGU6XCJ1aS10YWJsZS1yZWZsb3dcIixjZWxsTGFiZWxzOlwidWktdGFibGUtY2VsbC1sYWJlbFwifSl9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpLFwicmVmbG93XCI9PT10aGlzLm9wdGlvbnMubW9kZSYmKHRoaXMub3B0aW9ucy5lbmhhbmNlZHx8KHRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5yZWZsb3dUYWJsZSksdGhpcy5fdXBkYXRlUmVmbG93KCkpKX0scmVidWlsZDpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCksXCJyZWZsb3dcIj09PXRoaXMub3B0aW9ucy5tb2RlJiZ0aGlzLl9yZWZyZXNoKCExKX0sX3JlZnJlc2g6ZnVuY3Rpb24oYSl7dGhpcy5fc3VwZXIoYSksYXx8XCJyZWZsb3dcIiE9PXRoaXMub3B0aW9ucy5tb2RlfHx0aGlzLl91cGRhdGVSZWZsb3coKX0sX3VwZGF0ZVJlZmxvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLm9wdGlvbnM7YShiLmFsbEhlYWRlcnMuZ2V0KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQsZSxmPWEodGhpcykuanFtRGF0YShcImNlbGxzXCIpLGc9YS5tb2JpbGUuZ2V0QXR0cmlidXRlKHRoaXMsXCJjb2xzdGFydFwiKSxoPWYubm90KHRoaXMpLmZpbHRlcihcInRoZWFkIHRoXCIpLmxlbmd0aCYmXCIgdWktdGFibGUtY2VsbC1sYWJlbC10b3BcIixpPWEodGhpcykuY2xvbmUoKS5jb250ZW50cygpO2kubGVuZ3RoPjAmJihoPyhkPXBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKSwxMCksZT1cIlwiLGQmJihlPVwidGQ6bnRoLWNoaWxkKFwiK2QrXCJuICsgXCIrZytcIilcIiksYi5fYWRkTGFiZWxzKGYuZmlsdGVyKGUpLGMuY2xhc3Nlcy5jZWxsTGFiZWxzK2gsaSkpOmIuX2FkZExhYmVscyhmLGMuY2xhc3Nlcy5jZWxsTGFiZWxzLGkpKX0pfSxfYWRkTGFiZWxzOmZ1bmN0aW9uKGIsYyxkKXsxPT09ZC5sZW5ndGgmJlwiYWJiclwiPT09ZFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYoZD1kLmVxKDApLmF0dHIoXCJ0aXRsZVwiKSksYi5ub3QoXCI6aGFzKGIuXCIrYytcIilcIikucHJlcGVuZChhKFwiPGIgY2xhc3M9J1wiK2MrXCInPjwvYj5cIikuYXBwZW5kKGQpKX19KX0oYSksZnVuY3Rpb24oYSxjKXt2YXIgZD1mdW5jdGlvbihiLGMpe3JldHVybi0xPT09KFwiXCIrKGEubW9iaWxlLmdldEF0dHJpYnV0ZSh0aGlzLFwiZmlsdGVydGV4dFwiKXx8YSh0aGlzKS50ZXh0KCkpKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYyl9O2Eud2lkZ2V0KFwibW9iaWxlLmZpbHRlcmFibGVcIix7aW5pdFNlbGVjdG9yOlwiOmpxbURhdGEoZmlsdGVyPSd0cnVlJylcIixvcHRpb25zOntmaWx0ZXJSZXZlYWw6ITEsZmlsdGVyQ2FsbGJhY2s6ZCxlbmhhbmNlZDohMSxpbnB1dDpudWxsLGNoaWxkcmVuOlwiPiBsaSwgPiBvcHRpb24sID4gb3B0Z3JvdXAgb3B0aW9uLCA+IHRib2R5IHRyLCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktYnRuLCA+IC51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgPiAudWktY2hlY2tib3gsID4gLnVpLWNvbnRyb2xncm91cC1jb250cm9scyA+IC51aS1yYWRpb1wifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zO2EuZXh0ZW5kKHRoaXMse19zZWFyY2g6bnVsbCxfdGltZXI6MH0pLHRoaXMuX3NldElucHV0KGIuaW5wdXQpLGIuZW5oYW5jZWR8fHRoaXMuX2ZpbHRlckl0ZW1zKCh0aGlzLl9zZWFyY2gmJnRoaXMuX3NlYXJjaC52YWwoKXx8XCJcIikudG9Mb3dlckNhc2UoKSl9LF9vbktleVVwOmZ1bmN0aW9uKCl7dmFyIGMsZCxlPXRoaXMuX3NlYXJjaDtpZihlKXtpZihjPWUudmFsKCkudG9Mb3dlckNhc2UoKSxkPWEubW9iaWxlLmdldEF0dHJpYnV0ZShlWzBdLFwibGFzdHZhbFwiKStcIlwiLGQmJmQ9PT1jKXJldHVybjt0aGlzLl90aW1lciYmKGIuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKSx0aGlzLl90aW1lcj0wKSx0aGlzLl90aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmlnZ2VyKFwiYmVmb3JlZmlsdGVyXCIsbnVsbCx7aW5wdXQ6ZX0pPT09ITE/ITE6KGVbMF0uc2V0QXR0cmlidXRlKFwiZGF0YS1cIithLm1vYmlsZS5ucytcImxhc3R2YWxcIixjKSx0aGlzLl9maWx0ZXJJdGVtcyhjKSx2b2lkKHRoaXMuX3RpbWVyPTApKX0sMjUwKX19LF9nZXRGaWx0ZXJhYmxlSXRlbXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMuY2hpbGRyZW4sZD1jP2EuaXNGdW5jdGlvbihjKT9jKCk6Yy5ub2RlTmFtZT9hKGMpOmMuanF1ZXJ5P2M6dGhpcy5lbGVtZW50LmZpbmQoYyk6e2xlbmd0aDowfTtyZXR1cm4gMD09PWQubGVuZ3RoJiYoZD1iLmNoaWxkcmVuKCkpLGR9LF9maWx0ZXJJdGVtczpmdW5jdGlvbihiKXt2YXIgYyxlLGYsZyxoPVtdLGk9W10saj10aGlzLm9wdGlvbnMsaz10aGlzLl9nZXRGaWx0ZXJhYmxlSXRlbXMoKTtpZihudWxsIT1iKWZvcihlPWouZmlsdGVyQ2FsbGJhY2t8fGQsZj1rLmxlbmd0aCxjPTA7Zj5jO2MrKylnPWUuY2FsbChrW2NdLGMsYik/aTpoLGcucHVzaChrW2NdKTswPT09aS5sZW5ndGg/a1tqLmZpbHRlclJldmVhbCYmMD09PWIubGVuZ3RoP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKFwidWktc2NyZWVuLWhpZGRlblwiKTooYShpKS5hZGRDbGFzcyhcInVpLXNjcmVlbi1oaWRkZW5cIiksYShoKS5yZW1vdmVDbGFzcyhcInVpLXNjcmVlbi1oaWRkZW5cIikpLHRoaXMuX3JlZnJlc2hDaGlsZFdpZGdldCgpLHRoaXMuX3RyaWdnZXIoXCJmaWx0ZXJcIixudWxsLHtpdGVtczprfSl9LF9yZWZyZXNoQ2hpbGRXaWRnZXQ6ZnVuY3Rpb24oKXt2YXIgYixjLGQ9W1wiY29sbGFwc2libGVzZXRcIixcInNlbGVjdG1lbnVcIixcImNvbnRyb2xncm91cFwiLFwibGlzdHZpZXdcIl07Zm9yKGM9ZC5sZW5ndGgtMTtjPi0xO2MtLSliPWRbY10sYS5tb2JpbGVbYl0mJihiPXRoaXMuZWxlbWVudC5kYXRhKFwibW9iaWxlLVwiK2IpLGImJmEuaXNGdW5jdGlvbihiLnJlZnJlc2gpJiZiLnJlZnJlc2goKSl9LF9zZXRJbnB1dDpmdW5jdGlvbihjKXt2YXIgZD10aGlzLl9zZWFyY2g7dGhpcy5fdGltZXImJihiLmNsZWFyVGltZW91dCh0aGlzLl90aW1lciksdGhpcy5fdGltZXI9MCksZCYmKHRoaXMuX29mZihkLFwia2V5dXAgY2hhbmdlIGlucHV0XCIpLGQ9bnVsbCksYyYmKGQ9Yy5qcXVlcnk/YzpjLm5vZGVOYW1lP2EoYyk6dGhpcy5kb2N1bWVudC5maW5kKGMpLHRoaXMuX29uKGQse2tleWRvd246XCJfb25LZXlEb3duXCIsa2V5cHJlc3M6XCJfb25LZXlQcmVzc1wiLGtleXVwOlwiX29uS2V5VXBcIixjaGFuZ2U6XCJfb25LZXlVcFwiLGlucHV0OlwiX29uS2V5VXBcIn0pKSx0aGlzLl9zZWFyY2g9ZH0sX29uS2V5RG93bjpmdW5jdGlvbihiKXtiLmtleUNvZGU9PT1hLnVpLmtleUNvZGUuRU5URVImJihiLnByZXZlbnREZWZhdWx0KCksdGhpcy5fcHJldmVudEtleVByZXNzPSEwKX0sX29uS2V5UHJlc3M6ZnVuY3Rpb24oYSl7dGhpcy5fcHJldmVudEtleVByZXNzJiYoYS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX3ByZXZlbnRLZXlQcmVzcz0hMSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiPSEoYS5maWx0ZXJSZXZlYWw9PT1jJiZhLmZpbHRlckNhbGxiYWNrPT09YyYmYS5jaGlsZHJlbj09PWMpO3RoaXMuX3N1cGVyKGEpLGEuaW5wdXQhPT1jJiYodGhpcy5fc2V0SW5wdXQoYS5pbnB1dCksYj0hMCksYiYmdGhpcy5yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9dGhpcy5fZ2V0RmlsdGVyYWJsZUl0ZW1zKCk7YS5lbmhhbmNlZD9iLnRvZ2dsZUNsYXNzKFwidWktc2NyZWVuLWhpZGRlblwiLGEuZmlsdGVyUmV2ZWFsKTpiLnJlbW92ZUNsYXNzKFwidWktc2NyZWVuLWhpZGRlblwiKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX3RpbWVyJiYoYi5jbGVhclRpbWVvdXQodGhpcy5fdGltZXIpLHRoaXMuX3RpbWVyPTApLHRoaXMuX2ZpbHRlckl0ZW1zKCh0aGlzLl9zZWFyY2gmJnRoaXMuX3NlYXJjaC52YWwoKXx8XCJcIikudG9Mb3dlckNhc2UoKSl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7Yi5jYWxsKHRoaXMsYyksYS5fc3luY1RleHRJbnB1dE9wdGlvbnMoYyl9fSxkPS8oXnxcXHMpdWktbGktZGl2aWRlcihcXHN8JCkvLGU9YS5tb2JpbGUuZmlsdGVyYWJsZS5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjazthLm1vYmlsZS5maWx0ZXJhYmxlLnByb3RvdHlwZS5vcHRpb25zLmZpbHRlckNhbGxiYWNrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIXRoaXMuY2xhc3NOYW1lLm1hdGNoKGQpJiZlLmNhbGwodGhpcyxhLGIpfSxhLndpZGdldChcIm1vYmlsZS5maWx0ZXJhYmxlXCIsYS5tb2JpbGUuZmlsdGVyYWJsZSx7b3B0aW9uczp7ZmlsdGVyUGxhY2Vob2xkZXI6XCJGaWx0ZXIgaXRlbXMuLi5cIixmaWx0ZXJUaGVtZTpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGIsYyxkPXRoaXMuZWxlbWVudCxlPVtcImNvbGxhcHNpYmxlc2V0XCIsXCJzZWxlY3RtZW51XCIsXCJjb250cm9sZ3JvdXBcIixcImxpc3R2aWV3XCJdLGY9e307Zm9yKHRoaXMuX3N1cGVyKCksYS5leHRlbmQodGhpcyx7X3dpZGdldDpudWxsfSksYj1lLmxlbmd0aC0xO2I+LTE7Yi0tKWlmKGM9ZVtiXSxhLm1vYmlsZVtjXSl7aWYodGhpcy5fc2V0V2lkZ2V0KGQuZGF0YShcIm1vYmlsZS1cIitjKSkpYnJlYWs7ZltjK1wiY3JlYXRlXCJdPVwiX2hhbmRsZUNyZWF0ZVwifXRoaXMuX3dpZGdldHx8dGhpcy5fb24oZCxmKX0sX2hhbmRsZUNyZWF0ZTpmdW5jdGlvbihhKXt0aGlzLl9zZXRXaWRnZXQodGhpcy5lbGVtZW50LmRhdGEoXCJtb2JpbGUtXCIrYS50eXBlLnN1YnN0cmluZygwLGEudHlwZS5sZW5ndGgtNikpKX0sX3RyaWdnZXI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLl93aWRnZXQmJlwibW9iaWxlLWxpc3R2aWV3XCI9PT10aGlzLl93aWRnZXQud2lkZ2V0RnVsbE5hbWUmJlwiYmVmb3JlZmlsdGVyXCI9PT1hJiZ0aGlzLl93aWRnZXQuX3RyaWdnZXIoXCJiZWZvcmVmaWx0ZXJcIixiLGMpLHRoaXMuX3N1cGVyKGEsYixjKX0sX3NldFdpZGdldDpmdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5fd2lkZ2V0JiZhJiYodGhpcy5fd2lkZ2V0PWEsdGhpcy5fd2lkZ2V0Ll9zZXRPcHRpb25zPWModGhpcyx0aGlzLl93aWRnZXQuX3NldE9wdGlvbnMpKSx0aGlzLl93aWRnZXQmJih0aGlzLl9zeW5jVGV4dElucHV0T3B0aW9ucyh0aGlzLl93aWRnZXQub3B0aW9ucyksXCJsaXN0dmlld1wiPT09dGhpcy5fd2lkZ2V0LndpZGdldE5hbWUmJih0aGlzLl93aWRnZXQub3B0aW9ucy5oaWRlRGl2aWRlcnM9ITAsdGhpcy5fd2lkZ2V0LmVsZW1lbnQubGlzdHZpZXcoXCJyZWZyZXNoXCIpKSksISF0aGlzLl93aWRnZXR9LF9pc1NlYXJjaEludGVybmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlYXJjaCYmdGhpcy5fc2VhcmNoLmpxbURhdGEoXCJ1aS1maWx0ZXJhYmxlLVwiK3RoaXMudXVpZCtcIi1pbnRlcm5hbFwiKX0sX3NldElucHV0OmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMub3B0aW9ucyxkPSEwLGU9e307aWYoIWIpe2lmKHRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSlyZXR1cm47ZD0hMSxiPWEoXCI8aW5wdXQgZGF0YS1cIithLm1vYmlsZS5ucytcInR5cGU9J3NlYXJjaCcgcGxhY2Vob2xkZXI9J1wiK2MuZmlsdGVyUGxhY2Vob2xkZXIrXCInPjwvaW5wdXQ+XCIpLmpxbURhdGEoXCJ1aS1maWx0ZXJhYmxlLVwiK3RoaXMudXVpZCtcIi1pbnRlcm5hbFwiLCEwKSxhKFwiPGZvcm0gY2xhc3M9J3VpLWZpbHRlcmFibGUnPjwvZm9ybT5cIikuYXBwZW5kKGIpLnN1Ym1pdChmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCksYi5ibHVyKCl9KS5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50KSxhLm1vYmlsZS50ZXh0aW5wdXQmJihudWxsIT10aGlzLm9wdGlvbnMuZmlsdGVyVGhlbWUmJihlLnRoZW1lPWMuZmlsdGVyVGhlbWUpLGIudGV4dGlucHV0KGUpKX10aGlzLl9zdXBlcihiKSx0aGlzLl9pc1NlYXJjaEludGVybmFsKCkmJmQmJnRoaXMuX3NlYXJjaC5hdHRyKFwicGxhY2Vob2xkZXJcIix0aGlzLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXIpfSxfc2V0T3B0aW9uczpmdW5jdGlvbihjKXt2YXIgZD10aGlzLl9zdXBlcihjKTtyZXR1cm4gYy5maWx0ZXJQbGFjZWhvbGRlciE9PWImJnRoaXMuX2lzU2VhcmNoSW50ZXJuYWwoKSYmdGhpcy5fc2VhcmNoLmF0dHIoXCJwbGFjZWhvbGRlclwiLGMuZmlsdGVyUGxhY2Vob2xkZXIpLGMuZmlsdGVyVGhlbWUhPT1iJiZ0aGlzLl9zZWFyY2gmJmEubW9iaWxlLnRleHRpbnB1dCYmdGhpcy5fc2VhcmNoLnRleHRpbnB1dChcIm9wdGlvblwiLFwidGhlbWVcIixjLmZpbHRlclRoZW1lKSxkfSxfcmVmcmVzaENoaWxkV2lkZ2V0OmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaGluZ0NoaWxkV2lkZ2V0PSEwLHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx0aGlzLl9yZWZyZXNoaW5nQ2hpbGRXaWRnZXQ9ITF9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9yZWZyZXNoaW5nQ2hpbGRXaWRnZXR8fHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9pc1NlYXJjaEludGVybmFsKCkmJnRoaXMuX3NlYXJjaC5yZW1vdmUoKSx0aGlzLl9zdXBlcigpfSxfc3luY1RleHRJbnB1dE9wdGlvbnM6ZnVuY3Rpb24oYyl7dmFyIGQsZT17fTtpZih0aGlzLl9pc1NlYXJjaEludGVybmFsKCkmJmEubW9iaWxlLnRleHRpbnB1dCl7Zm9yKGQgaW4gYS5tb2JpbGUudGV4dGlucHV0LnByb3RvdHlwZS5vcHRpb25zKWNbZF0hPT1iJiYoZVtkXT1cInRoZW1lXCI9PT1kJiZudWxsIT10aGlzLm9wdGlvbnMuZmlsdGVyVGhlbWU/dGhpcy5vcHRpb25zLmZpbHRlclRoZW1lOmNbZF0pO3RoaXMuX3NlYXJjaC50ZXh0aW5wdXQoXCJvcHRpb25cIixlKX19fSksYS53aWRnZXQoXCJtb2JpbGUubGlzdHZpZXdcIixhLm1vYmlsZS5saXN0dmlldyx7b3B0aW9uczp7ZmlsdGVyOiExfSxfY3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5maWx0ZXIhPT0hMHx8dGhpcy5lbGVtZW50LmRhdGEoXCJtb2JpbGUtZmlsdGVyYWJsZVwiKXx8dGhpcy5lbGVtZW50LmZpbHRlcmFibGUoKSx0aGlzLl9zdXBlcigpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE7dGhpcy5fc3VwZXJBcHBseShhcmd1bWVudHMpLHRoaXMub3B0aW9ucy5maWx0ZXI9PT0hMCYmKGE9dGhpcy5lbGVtZW50LmRhdGEoXCJtb2JpbGUtZmlsdGVyYWJsZVwiKSxhJiZhLnJlZnJlc2goKSl9fSl9KGEpLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3JldHVybisrZX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLmhhc2gubGVuZ3RoPjEmJmRlY29kZVVSSUNvbXBvbmVudChhLmhyZWYucmVwbGFjZShmLFwiXCIpKT09PWRlY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5ocmVmLnJlcGxhY2UoZixcIlwiKSl9dmFyIGU9MCxmPS8jLiokLzthLndpZGdldChcInVpLnRhYnNcIix7dmVyc2lvbjpcImZhZGYyYjMxMmEwNTA0MDQzNjQ1MWM2NGJiZmFmNDgxNGJjNjJjNTZcIixkZWxheTozMDAsb3B0aW9uczp7YWN0aXZlOm51bGwsY29sbGFwc2libGU6ITEsZXZlbnQ6XCJjbGlja1wiLGhlaWdodFN0eWxlOlwiY29udGVudFwiLGhpZGU6bnVsbCxzaG93Om51bGwsYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsLGJlZm9yZUxvYWQ6bnVsbCxsb2FkOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy5vcHRpb25zO3RoaXMucnVubmluZz0hMSx0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoXCJ1aS10YWJzIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYWxsXCIpLnRvZ2dsZUNsYXNzKFwidWktdGFicy1jb2xsYXBzaWJsZVwiLGMuY29sbGFwc2libGUpLmRlbGVnYXRlKFwiLnVpLXRhYnMtbmF2ID4gbGlcIixcIm1vdXNlZG93blwiK3RoaXMuZXZlbnROYW1lc3BhY2UsZnVuY3Rpb24oYil7YSh0aGlzKS5pcyhcIi51aS1zdGF0ZS1kaXNhYmxlZFwiKSYmYi5wcmV2ZW50RGVmYXVsdCgpfSkuZGVsZWdhdGUoXCIudWktdGFicy1hbmNob3JcIixcImZvY3VzXCIrdGhpcy5ldmVudE5hbWVzcGFjZSxmdW5jdGlvbigpe2EodGhpcykuY2xvc2VzdChcImxpXCIpLmlzKFwiLnVpLXN0YXRlLWRpc2FibGVkXCIpJiZ0aGlzLmJsdXIoKX0pLHRoaXMuX3Byb2Nlc3NUYWJzKCksYy5hY3RpdmU9dGhpcy5faW5pdGlhbEFjdGl2ZSgpLGEuaXNBcnJheShjLmRpc2FibGVkKSYmKGMuZGlzYWJsZWQ9YS51bmlxdWUoYy5kaXNhYmxlZC5jb25jYXQoYS5tYXAodGhpcy50YWJzLmZpbHRlcihcIi51aS1zdGF0ZS1kaXNhYmxlZFwiKSxmdW5jdGlvbihhKXtyZXR1cm4gYi50YWJzLmluZGV4KGEpfSkpKS5zb3J0KCkpLHRoaXMuYWN0aXZlPXRoaXMub3B0aW9ucy5hY3RpdmUhPT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aD90aGlzLl9maW5kQWN0aXZlKGMuYWN0aXZlKTphKCksdGhpcy5fcmVmcmVzaCgpLHRoaXMuYWN0aXZlLmxlbmd0aCYmdGhpcy5sb2FkKGMuYWN0aXZlKX0sX2luaXRpYWxBY3RpdmU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMuYWN0aXZlLGM9dGhpcy5vcHRpb25zLmNvbGxhcHNpYmxlLGQ9bG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSk7cmV0dXJuIG51bGw9PT1iJiYoZCYmdGhpcy50YWJzLmVhY2goZnVuY3Rpb24oYyxlKXtyZXR1cm4gYShlKS5hdHRyKFwiYXJpYS1jb250cm9sc1wiKT09PWQ/KGI9YywhMSk6dm9pZCAwfSksbnVsbD09PWImJihiPXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZmlsdGVyKFwiLnVpLXRhYnMtYWN0aXZlXCIpKSksKG51bGw9PT1ifHwtMT09PWIpJiYoYj10aGlzLnRhYnMubGVuZ3RoPzA6ITEpKSxiIT09ITEmJihiPXRoaXMudGFicy5pbmRleCh0aGlzLnRhYnMuZXEoYikpLC0xPT09YiYmKGI9Yz8hMTowKSksIWMmJmI9PT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aCYmKGI9MCksYn0sX2dldENyZWF0ZUV2ZW50RGF0YTpmdW5jdGlvbigpe3JldHVybnt0YWI6dGhpcy5hY3RpdmUscGFuZWw6dGhpcy5hY3RpdmUubGVuZ3RoP3RoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKTphKCl9fSxfdGFiS2V5ZG93bjpmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMuZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCkuY2xvc2VzdChcImxpXCIpLGQ9dGhpcy50YWJzLmluZGV4KGMpLGU9ITA7aWYoIXRoaXMuX2hhbmRsZVBhZ2VOYXYoYikpe3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS51aS5rZXlDb2RlLlJJR0hUOmNhc2UgYS51aS5rZXlDb2RlLkRPV046ZCsrO2JyZWFrO2Nhc2UgYS51aS5rZXlDb2RlLlVQOmNhc2UgYS51aS5rZXlDb2RlLkxFRlQ6ZT0hMSxkLS07YnJlYWs7Y2FzZSBhLnVpLmtleUNvZGUuRU5EOmQ9dGhpcy5hbmNob3JzLmxlbmd0aC0xO2JyZWFrO2Nhc2UgYS51aS5rZXlDb2RlLkhPTUU6ZD0wO2JyZWFrO2Nhc2UgYS51aS5rZXlDb2RlLlNQQUNFOnJldHVybiBiLnByZXZlbnREZWZhdWx0KCksY2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGluZyksdm9pZCB0aGlzLl9hY3RpdmF0ZShkKTtjYXNlIGEudWkua2V5Q29kZS5FTlRFUjpyZXR1cm4gYi5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHZvaWQgdGhpcy5fYWN0aXZhdGUoZD09PXRoaXMub3B0aW9ucy5hY3RpdmU/ITE6ZCk7ZGVmYXVsdDpyZXR1cm59Yi5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLGQ9dGhpcy5fZm9jdXNOZXh0VGFiKGQsZSksYi5jdHJsS2V5fHwoYy5hdHRyKFwiYXJpYS1zZWxlY3RlZFwiLFwiZmFsc2VcIiksdGhpcy50YWJzLmVxKGQpLmF0dHIoXCJhcmlhLXNlbGVjdGVkXCIsXCJ0cnVlXCIpLHRoaXMuYWN0aXZhdGluZz10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMub3B0aW9uKFwiYWN0aXZlXCIsZCl9LHRoaXMuZGVsYXkpKX19LF9wYW5lbEtleWRvd246ZnVuY3Rpb24oYil7dGhpcy5faGFuZGxlUGFnZU5hdihiKXx8Yi5jdHJsS2V5JiZiLmtleUNvZGU9PT1hLnVpLmtleUNvZGUuVVAmJihiLnByZXZlbnREZWZhdWx0KCksdGhpcy5hY3RpdmUuZm9jdXMoKSl9LF9oYW5kbGVQYWdlTmF2OmZ1bmN0aW9uKGIpe3JldHVybiBiLmFsdEtleSYmYi5rZXlDb2RlPT09YS51aS5rZXlDb2RlLlBBR0VfVVA/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlLTEsITEpKSwhMCk6Yi5hbHRLZXkmJmIua2V5Q29kZT09PWEudWkua2V5Q29kZS5QQUdFX0RPV04/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlKzEsITApKSwhMCk6dm9pZCAwfSxfZmluZE5leHRUYWI6ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKCl7cmV0dXJuIGI+ZSYmKGI9MCksMD5iJiYoYj1lKSxifWZvcih2YXIgZT10aGlzLnRhYnMubGVuZ3RoLTE7LTEhPT1hLmluQXJyYXkoZCgpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCk7KWI9Yz9iKzE6Yi0xO3JldHVybiBifSxfZm9jdXNOZXh0VGFiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9dGhpcy5fZmluZE5leHRUYWIoYSxiKSx0aGlzLnRhYnMuZXEoYSkuZm9jdXMoKSxhfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuXCJhY3RpdmVcIj09PWE/dm9pZCB0aGlzLl9hY3RpdmF0ZShiKTpcImRpc2FibGVkXCI9PT1hP3ZvaWQgdGhpcy5fc2V0dXBEaXNhYmxlZChiKToodGhpcy5fc3VwZXIoYSxiKSxcImNvbGxhcHNpYmxlXCI9PT1hJiYodGhpcy5lbGVtZW50LnRvZ2dsZUNsYXNzKFwidWktdGFicy1jb2xsYXBzaWJsZVwiLGIpLGJ8fHRoaXMub3B0aW9ucy5hY3RpdmUhPT0hMXx8dGhpcy5fYWN0aXZhdGUoMCkpLFwiZXZlbnRcIj09PWEmJnRoaXMuX3NldHVwRXZlbnRzKGIpLHZvaWQoXCJoZWlnaHRTdHlsZVwiPT09YSYmdGhpcy5fc2V0dXBIZWlnaHRTdHlsZShiKSkpfSxfdGFiSWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuYXR0cihcImFyaWEtY29udHJvbHNcIil8fFwidWktdGFicy1cIitjKCl9LF9zYW5pdGl6ZVNlbGVjdG9yOmZ1bmN0aW9uKGEpe3JldHVybiBhP2EucmVwbGFjZSgvWyFcIiQlJicoKSorLC5cXC86Ozw9Pj9AXFxbXFxdXFxeYHt8fX5dL2csXCJcXFxcJCZcIik6XCJcIn0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3B0aW9ucyxjPXRoaXMudGFibGlzdC5jaGlsZHJlbihcIjpoYXMoYVtocmVmXSlcIik7Yi5kaXNhYmxlZD1hLm1hcChjLmZpbHRlcihcIi51aS1zdGF0ZS1kaXNhYmxlZFwiKSxmdW5jdGlvbihhKXtyZXR1cm4gYy5pbmRleChhKX0pLHRoaXMuX3Byb2Nlc3NUYWJzKCksYi5hY3RpdmUhPT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aD90aGlzLmFjdGl2ZS5sZW5ndGgmJiFhLmNvbnRhaW5zKHRoaXMudGFibGlzdFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy50YWJzLmxlbmd0aD09PWIuZGlzYWJsZWQubGVuZ3RoPyhiLmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1hKCkpOnRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZpbmROZXh0VGFiKE1hdGgubWF4KDAsYi5hY3RpdmUtMSksITEpKTpiLmFjdGl2ZT10aGlzLnRhYnMuaW5kZXgodGhpcy5hY3RpdmUpOihiLmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1hKCkpLHRoaXMuX3JlZnJlc2goKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9zZXR1cERpc2FibGVkKHRoaXMub3B0aW9ucy5kaXNhYmxlZCksdGhpcy5fc2V0dXBFdmVudHModGhpcy5vcHRpb25zLmV2ZW50KSx0aGlzLl9zZXR1cEhlaWdodFN0eWxlKHRoaXMub3B0aW9ucy5oZWlnaHRTdHlsZSksdGhpcy50YWJzLm5vdCh0aGlzLmFjdGl2ZSkuYXR0cih7XCJhcmlhLXNlbGVjdGVkXCI6XCJmYWxzZVwiLHRhYkluZGV4Oi0xfSksdGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoe1wiYXJpYS1leHBhbmRlZFwiOlwiZmFsc2VcIixcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCJ9KSx0aGlzLmFjdGl2ZS5sZW5ndGg/KHRoaXMuYWN0aXZlLmFkZENsYXNzKFwidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlXCIpLmF0dHIoe1wiYXJpYS1zZWxlY3RlZFwiOlwidHJ1ZVwiLHRhYkluZGV4OjB9KSx0aGlzLl9nZXRQYW5lbEZvclRhYih0aGlzLmFjdGl2ZSkuc2hvdygpLmF0dHIoe1wiYXJpYS1leHBhbmRlZFwiOlwidHJ1ZVwiLFwiYXJpYS1oaWRkZW5cIjpcImZhbHNlXCJ9KSk6dGhpcy50YWJzLmVxKDApLmF0dHIoXCJ0YWJJbmRleFwiLDApfSxfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3RoaXMudGFibGlzdD10aGlzLl9nZXRMaXN0KCkuYWRkQ2xhc3MoXCJ1aS10YWJzLW5hdiB1aS1oZWxwZXItcmVzZXQgdWktaGVscGVyLWNsZWFyZml4IHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbFwiKS5hdHRyKFwicm9sZVwiLFwidGFibGlzdFwiKSx0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoXCI+IGxpOmhhcyhhW2hyZWZdKVwiKS5hZGRDbGFzcyhcInVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLXRvcFwiKS5hdHRyKHtyb2xlOlwidGFiXCIsdGFiSW5kZXg6LTF9KSx0aGlzLmFuY2hvcnM9dGhpcy50YWJzLm1hcChmdW5jdGlvbigpe3JldHVybiBhKFwiYVwiLHRoaXMpWzBdfSkuYWRkQ2xhc3MoXCJ1aS10YWJzLWFuY2hvclwiKS5hdHRyKHtyb2xlOlwicHJlc2VudGF0aW9uXCIsdGFiSW5kZXg6LTF9KSx0aGlzLnBhbmVscz1hKCksdGhpcy5hbmNob3JzLmVhY2goZnVuY3Rpb24oYyxlKXt2YXIgZixnLGgsaT1hKGUpLnVuaXF1ZUlkKCkuYXR0cihcImlkXCIpLGo9YShlKS5jbG9zZXN0KFwibGlcIiksaz1qLmF0dHIoXCJhcmlhLWNvbnRyb2xzXCIpO2QoZSk/KGY9ZS5oYXNoLGc9Yi5lbGVtZW50LmZpbmQoYi5fc2FuaXRpemVTZWxlY3RvcihmKSkpOihoPWIuX3RhYklkKGopLGY9XCIjXCIraCxnPWIuZWxlbWVudC5maW5kKGYpLGcubGVuZ3RofHwoZz1iLl9jcmVhdGVQYW5lbChoKSxnLmluc2VydEFmdGVyKGIucGFuZWxzW2MtMV18fGIudGFibGlzdCkpLGcuYXR0cihcImFyaWEtbGl2ZVwiLFwicG9saXRlXCIpKSxnLmxlbmd0aCYmKGIucGFuZWxzPWIucGFuZWxzLmFkZChnKSksayYmai5kYXRhKFwidWktdGFicy1hcmlhLWNvbnRyb2xzXCIsayksai5hdHRyKHtcImFyaWEtY29udHJvbHNcIjpmLnN1YnN0cmluZygxKSxcImFyaWEtbGFiZWxsZWRieVwiOml9KSxnLmF0dHIoXCJhcmlhLWxhYmVsbGVkYnlcIixpKX0pLHRoaXMucGFuZWxzLmFkZENsYXNzKFwidWktdGFicy1wYW5lbCB1aS13aWRnZXQtY29udGVudCB1aS1jb3JuZXItYm90dG9tXCIpLmF0dHIoXCJyb2xlXCIsXCJ0YWJwYW5lbFwiKX0sX2dldExpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmZpbmQoXCJvbCx1bFwiKS5lcSgwKX0sX2NyZWF0ZVBhbmVsOmZ1bmN0aW9uKGIpe3JldHVybiBhKFwiPGRpdj5cIikuYXR0cihcImlkXCIsYikuYWRkQ2xhc3MoXCJ1aS10YWJzLXBhbmVsIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1ib3R0b21cIikuZGF0YShcInVpLXRhYnMtZGVzdHJveVwiLCEwKX0sX3NldHVwRGlzYWJsZWQ6ZnVuY3Rpb24oYil7YS5pc0FycmF5KGIpJiYoYi5sZW5ndGg/Yi5sZW5ndGg9PT10aGlzLmFuY2hvcnMubGVuZ3RoJiYoYj0hMCk6Yj0hMSk7Zm9yKHZhciBjLGQ9MDtjPXRoaXMudGFic1tkXTtkKyspYj09PSEwfHwtMSE9PWEuaW5BcnJheShkLGIpP2EoYykuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLFwidHJ1ZVwiKTphKGMpLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtZGlzYWJsZWRcIikucmVtb3ZlQXR0cihcImFyaWEtZGlzYWJsZWRcIik7dGhpcy5vcHRpb25zLmRpc2FibGVkPWJ9LF9zZXR1cEV2ZW50czpmdW5jdGlvbihiKXt2YXIgYz17Y2xpY2s6ZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpfX07YiYmYS5lYWNoKGIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEsYil7Y1tiXT1cIl9ldmVudEhhbmRsZXJcIn0pLHRoaXMuX29mZih0aGlzLmFuY2hvcnMuYWRkKHRoaXMudGFicykuYWRkKHRoaXMucGFuZWxzKSksdGhpcy5fb24odGhpcy5hbmNob3JzLGMpLHRoaXMuX29uKHRoaXMudGFicyx7a2V5ZG93bjpcIl90YWJLZXlkb3duXCJ9KSx0aGlzLl9vbih0aGlzLnBhbmVscyx7a2V5ZG93bjpcIl9wYW5lbEtleWRvd25cIn0pLHRoaXMuX2ZvY3VzYWJsZSh0aGlzLnRhYnMpLHRoaXMuX2hvdmVyYWJsZSh0aGlzLnRhYnMpfSxfc2V0dXBIZWlnaHRTdHlsZTpmdW5jdGlvbihiKXt2YXIgYyxkPXRoaXMuZWxlbWVudC5wYXJlbnQoKTtcImZpbGxcIj09PWI/KGM9ZC5oZWlnaHQoKSxjLT10aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKS10aGlzLmVsZW1lbnQuaGVpZ2h0KCksdGhpcy5lbGVtZW50LnNpYmxpbmdzKFwiOnZpc2libGVcIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZD1iLmNzcyhcInBvc2l0aW9uXCIpO1wiYWJzb2x1dGVcIiE9PWQmJlwiZml4ZWRcIiE9PWQmJihjLT1iLm91dGVySGVpZ2h0KCEwKSl9KSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS5ub3QodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXtjLT1hKHRoaXMpLm91dGVySGVpZ2h0KCEwKVxyXG59KSx0aGlzLnBhbmVscy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5oZWlnaHQoTWF0aC5tYXgoMCxjLWEodGhpcykuaW5uZXJIZWlnaHQoKSthKHRoaXMpLmhlaWdodCgpKSl9KS5jc3MoXCJvdmVyZmxvd1wiLFwiYXV0b1wiKSk6XCJhdXRvXCI9PT1iJiYoYz0wLHRoaXMucGFuZWxzLmVhY2goZnVuY3Rpb24oKXtjPU1hdGgubWF4KGMsYSh0aGlzKS5oZWlnaHQoXCJcIikuaGVpZ2h0KCkpfSkuaGVpZ2h0KGMpKX0sX2V2ZW50SGFuZGxlcjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLm9wdGlvbnMsZD10aGlzLmFjdGl2ZSxlPWEoYi5jdXJyZW50VGFyZ2V0KSxmPWUuY2xvc2VzdChcImxpXCIpLGc9ZlswXT09PWRbMF0saD1nJiZjLmNvbGxhcHNpYmxlLGk9aD9hKCk6dGhpcy5fZ2V0UGFuZWxGb3JUYWIoZiksaj1kLmxlbmd0aD90aGlzLl9nZXRQYW5lbEZvclRhYihkKTphKCksaz17b2xkVGFiOmQsb2xkUGFuZWw6aixuZXdUYWI6aD9hKCk6ZixuZXdQYW5lbDppfTtiLnByZXZlbnREZWZhdWx0KCksZi5oYXNDbGFzcyhcInVpLXN0YXRlLWRpc2FibGVkXCIpfHxmLmhhc0NsYXNzKFwidWktdGFicy1sb2FkaW5nXCIpfHx0aGlzLnJ1bm5pbmd8fGcmJiFjLmNvbGxhcHNpYmxlfHx0aGlzLl90cmlnZ2VyKFwiYmVmb3JlQWN0aXZhdGVcIixiLGspPT09ITF8fChjLmFjdGl2ZT1oPyExOnRoaXMudGFicy5pbmRleChmKSx0aGlzLmFjdGl2ZT1nP2EoKTpmLHRoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLGoubGVuZ3RofHxpLmxlbmd0aHx8YS5lcnJvcihcImpRdWVyeSBVSSBUYWJzOiBNaXNtYXRjaGluZyBmcmFnbWVudCBpZGVudGlmaWVyLlwiKSxpLmxlbmd0aCYmdGhpcy5sb2FkKHRoaXMudGFicy5pbmRleChmKSxiKSx0aGlzLl90b2dnbGUoYixrKSl9LF90b2dnbGU6ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKCl7Zi5ydW5uaW5nPSExLGYuX3RyaWdnZXIoXCJhY3RpdmF0ZVwiLGIsYyl9ZnVuY3Rpb24gZSgpe2MubmV3VGFiLmNsb3Nlc3QoXCJsaVwiKS5hZGRDbGFzcyhcInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZVwiKSxnLmxlbmd0aCYmZi5vcHRpb25zLnNob3c/Zi5fc2hvdyhnLGYub3B0aW9ucy5zaG93LGQpOihnLnNob3coKSxkKCkpfXZhciBmPXRoaXMsZz1jLm5ld1BhbmVsLGg9Yy5vbGRQYW5lbDt0aGlzLnJ1bm5pbmc9ITAsaC5sZW5ndGgmJnRoaXMub3B0aW9ucy5oaWRlP3RoaXMuX2hpZGUoaCx0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2Mub2xkVGFiLmNsb3Nlc3QoXCJsaVwiKS5yZW1vdmVDbGFzcyhcInVpLXRhYnMtYWN0aXZlIHVpLXN0YXRlLWFjdGl2ZVwiKSxlKCl9KTooYy5vbGRUYWIuY2xvc2VzdChcImxpXCIpLnJlbW92ZUNsYXNzKFwidWktdGFicy1hY3RpdmUgdWktc3RhdGUtYWN0aXZlXCIpLGguaGlkZSgpLGUoKSksaC5hdHRyKHtcImFyaWEtZXhwYW5kZWRcIjpcImZhbHNlXCIsXCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwifSksYy5vbGRUYWIuYXR0cihcImFyaWEtc2VsZWN0ZWRcIixcImZhbHNlXCIpLGcubGVuZ3RoJiZoLmxlbmd0aD9jLm9sZFRhYi5hdHRyKFwidGFiSW5kZXhcIiwtMSk6Zy5sZW5ndGgmJnRoaXMudGFicy5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PWEodGhpcykuYXR0cihcInRhYkluZGV4XCIpfSkuYXR0cihcInRhYkluZGV4XCIsLTEpLGcuYXR0cih7XCJhcmlhLWV4cGFuZGVkXCI6XCJ0cnVlXCIsXCJhcmlhLWhpZGRlblwiOlwiZmFsc2VcIn0pLGMubmV3VGFiLmF0dHIoe1wiYXJpYS1zZWxlY3RlZFwiOlwidHJ1ZVwiLHRhYkluZGV4OjB9KX0sX2FjdGl2YXRlOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9dGhpcy5fZmluZEFjdGl2ZShiKTtkWzBdIT09dGhpcy5hY3RpdmVbMF0mJihkLmxlbmd0aHx8KGQ9dGhpcy5hY3RpdmUpLGM9ZC5maW5kKFwiLnVpLXRhYnMtYW5jaG9yXCIpWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OmMsY3VycmVudFRhcmdldDpjLHByZXZlbnREZWZhdWx0OmEubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24oYil7cmV0dXJuIGI9PT0hMT9hKCk6dGhpcy50YWJzLmVxKGIpfSxfZ2V0SW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPXRoaXMuYW5jaG9ycy5pbmRleCh0aGlzLmFuY2hvcnMuZmlsdGVyKFwiW2hyZWYkPSdcIithK1wiJ11cIikpKSxhfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMueGhyJiZ0aGlzLnhoci5hYm9ydCgpLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLXRhYnMgdWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwgdWktdGFicy1jb2xsYXBzaWJsZVwiKSx0aGlzLnRhYmxpc3QucmVtb3ZlQ2xhc3MoXCJ1aS10YWJzLW5hdiB1aS1oZWxwZXItcmVzZXQgdWktaGVscGVyLWNsZWFyZml4IHVpLXdpZGdldC1oZWFkZXIgdWktY29ybmVyLWFsbFwiKS5yZW1vdmVBdHRyKFwicm9sZVwiKSx0aGlzLmFuY2hvcnMucmVtb3ZlQ2xhc3MoXCJ1aS10YWJzLWFuY2hvclwiKS5yZW1vdmVBdHRyKFwicm9sZVwiKS5yZW1vdmVBdHRyKFwidGFiSW5kZXhcIikucmVtb3ZlVW5pcXVlSWQoKSx0aGlzLnRhYnMuYWRkKHRoaXMucGFuZWxzKS5lYWNoKGZ1bmN0aW9uKCl7YS5kYXRhKHRoaXMsXCJ1aS10YWJzLWRlc3Ryb3lcIik/YSh0aGlzKS5yZW1vdmUoKTphKHRoaXMpLnJlbW92ZUNsYXNzKFwidWktc3RhdGUtZGVmYXVsdCB1aS1zdGF0ZS1hY3RpdmUgdWktc3RhdGUtZGlzYWJsZWQgdWktY29ybmVyLXRvcCB1aS1jb3JuZXItYm90dG9tIHVpLXdpZGdldC1jb250ZW50IHVpLXRhYnMtYWN0aXZlIHVpLXRhYnMtcGFuZWxcIikucmVtb3ZlQXR0cihcInRhYkluZGV4XCIpLnJlbW92ZUF0dHIoXCJhcmlhLWxpdmVcIikucmVtb3ZlQXR0cihcImFyaWEtYnVzeVwiKS5yZW1vdmVBdHRyKFwiYXJpYS1zZWxlY3RlZFwiKS5yZW1vdmVBdHRyKFwiYXJpYS1sYWJlbGxlZGJ5XCIpLnJlbW92ZUF0dHIoXCJhcmlhLWhpZGRlblwiKS5yZW1vdmVBdHRyKFwiYXJpYS1leHBhbmRlZFwiKS5yZW1vdmVBdHRyKFwicm9sZVwiKX0pLHRoaXMudGFicy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPWIuZGF0YShcInVpLXRhYnMtYXJpYS1jb250cm9sc1wiKTtjP2IuYXR0cihcImFyaWEtY29udHJvbHNcIixjKS5yZW1vdmVEYXRhKFwidWktdGFicy1hcmlhLWNvbnRyb2xzXCIpOmIucmVtb3ZlQXR0cihcImFyaWEtY29udHJvbHNcIil9KSx0aGlzLnBhbmVscy5zaG93KCksXCJjb250ZW50XCIhPT10aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJnRoaXMucGFuZWxzLmNzcyhcImhlaWdodFwiLFwiXCIpfSxlbmFibGU6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5vcHRpb25zLmRpc2FibGVkO2QhPT0hMSYmKGM9PT1iP2Q9ITE6KGM9dGhpcy5fZ2V0SW5kZXgoYyksZD1hLmlzQXJyYXkoZCk/YS5tYXAoZCxmdW5jdGlvbihhKXtyZXR1cm4gYSE9PWM/YTpudWxsfSk6YS5tYXAodGhpcy50YWJzLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIhPT1jP2I6bnVsbH0pKSx0aGlzLl9zZXR1cERpc2FibGVkKGQpKX0sZGlzYWJsZTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7aWYoZCE9PSEwKXtpZihjPT09YilkPSEwO2Vsc2V7aWYoYz10aGlzLl9nZXRJbmRleChjKSwtMSE9PWEuaW5BcnJheShjLGQpKXJldHVybjtkPWEuaXNBcnJheShkKT9hLm1lcmdlKFtjXSxkKS5zb3J0KCk6W2NdfXRoaXMuX3NldHVwRGlzYWJsZWQoZCl9fSxsb2FkOmZ1bmN0aW9uKGIsYyl7Yj10aGlzLl9nZXRJbmRleChiKTt2YXIgZT10aGlzLGY9dGhpcy50YWJzLmVxKGIpLGc9Zi5maW5kKFwiLnVpLXRhYnMtYW5jaG9yXCIpLGg9dGhpcy5fZ2V0UGFuZWxGb3JUYWIoZiksaT17dGFiOmYscGFuZWw6aH07ZChnWzBdKXx8KHRoaXMueGhyPWEuYWpheCh0aGlzLl9hamF4U2V0dGluZ3MoZyxjLGkpKSx0aGlzLnhociYmXCJjYW5jZWxlZFwiIT09dGhpcy54aHIuc3RhdHVzVGV4dCYmKGYuYWRkQ2xhc3MoXCJ1aS10YWJzLWxvYWRpbmdcIiksaC5hdHRyKFwiYXJpYS1idXN5XCIsXCJ0cnVlXCIpLHRoaXMueGhyLnN1Y2Nlc3MoZnVuY3Rpb24oYSl7c2V0VGltZW91dChmdW5jdGlvbigpe2guaHRtbChhKSxlLl90cmlnZ2VyKFwibG9hZFwiLGMsaSl9LDEpfSkuY29tcGxldGUoZnVuY3Rpb24oYSxiKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XCJhYm9ydFwiPT09YiYmZS5wYW5lbHMuc3RvcCghMSwhMCksZi5yZW1vdmVDbGFzcyhcInVpLXRhYnMtbG9hZGluZ1wiKSxoLnJlbW92ZUF0dHIoXCJhcmlhLWJ1c3lcIiksYT09PWUueGhyJiZkZWxldGUgZS54aHJ9LDEpfSkpKX0sX2FqYXhTZXR0aW5nczpmdW5jdGlvbihiLGMsZCl7dmFyIGU9dGhpcztyZXR1cm57dXJsOmIuYXR0cihcImhyZWZcIiksYmVmb3JlU2VuZDpmdW5jdGlvbihiLGYpe3JldHVybiBlLl90cmlnZ2VyKFwiYmVmb3JlTG9hZFwiLGMsYS5leHRlbmQoe2pxWEhSOmIsYWpheFNldHRpbmdzOmZ9LGQpKX19fSxfZ2V0UGFuZWxGb3JUYWI6ZnVuY3Rpb24oYil7dmFyIGM9YShiKS5hdHRyKFwiYXJpYS1jb250cm9sc1wiKTtyZXR1cm4gdGhpcy5lbGVtZW50LmZpbmQodGhpcy5fc2FuaXRpemVTZWxlY3RvcihcIiNcIitjKSl9fSl9KGEpLGZ1bmN0aW9uKCl7fShhKSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZT1hLm9yaWdpbmFsRXZlbnQsaT1lLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHksZj1NYXRoLmFicyhpLngpLGc9TWF0aC5hYnMoaS55KSxoPU1hdGguYWJzKGkueiksIWIub3JpZW50YXRpb24mJihmPjd8fChoPjYmJjg+Z3x8OD5oJiZnPjYpJiZmPjUpP2QuZW5hYmxlZCYmZC5kaXNhYmxlKCk6ZC5lbmFibGVkfHxkLmVuYWJsZSgpfWEubW9iaWxlLmlvc29yaWVudGF0aW9uZml4RW5hYmxlZD0hMDt2YXIgZCxlLGYsZyxoLGksaj1uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJi9PUyBbMS01XV9bMC05X10qIGxpa2UgTWFjIE9TIFgvaS50ZXN0KGopJiZqLmluZGV4T2YoXCJBcHBsZVdlYktpdFwiKT4tMT8oZD1hLm1vYmlsZS56b29tLHZvaWQgYS5tb2JpbGUuZG9jdW1lbnQub24oXCJtb2JpbGVpbml0XCIsZnVuY3Rpb24oKXthLm1vYmlsZS5pb3NvcmllbnRhdGlvbmZpeEVuYWJsZWQmJmEubW9iaWxlLndpbmRvdy5iaW5kKFwib3JpZW50YXRpb25jaGFuZ2UuaW9zb3JpZW50YXRpb25maXhcIixkLmVuYWJsZSkuYmluZChcImRldmljZW1vdGlvbi5pb3NvcmllbnRhdGlvbmZpeFwiLGMpfSkpOnZvaWQoYS5tb2JpbGUuaW9zb3JpZW50YXRpb25maXhFbmFibGVkPSExKX0oYSx0aGlzKSxmdW5jdGlvbihhLGIsZCl7ZnVuY3Rpb24gZSgpe2YucmVtb3ZlQ2xhc3MoXCJ1aS1tb2JpbGUtcmVuZGVyaW5nXCIpfXZhciBmPWEoXCJodG1sXCIpLGc9YS5tb2JpbGUud2luZG93O2EoYi5kb2N1bWVudCkudHJpZ2dlcihcIm1vYmlsZWluaXRcIiksYS5tb2JpbGUuZ3JhZGVBKCkmJihhLm1vYmlsZS5hamF4QmxhY2tsaXN0JiYoYS5tb2JpbGUuYWpheEVuYWJsZWQ9ITEpLGYuYWRkQ2xhc3MoXCJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZ1wiKSxzZXRUaW1lb3V0KGUsNWUzKSxhLmV4dGVuZChhLm1vYmlsZSx7aW5pdGlhbGl6ZVBhZ2U6ZnVuY3Rpb24oKXt2YXIgYj1hLm1vYmlsZS5wYXRoLGY9YShcIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJylcIiksaD1iLnN0cmlwSGFzaChiLnN0cmlwUXVlcnlQYXJhbXMoYi5wYXJzZUxvY2F0aW9uKCkuaGFzaCkpLGk9YS5tb2JpbGUucGF0aC5wYXJzZUxvY2F0aW9uKCksaj1oP2MuZ2V0RWxlbWVudEJ5SWQoaCk6ZDtmLmxlbmd0aHx8KGY9YShcImJvZHlcIikud3JhcElubmVyKFwiPGRpdiBkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZT0ncGFnZSc+PC9kaXY+XCIpLmNoaWxkcmVuKDApKSxmLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpO2NbMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInVybFwiKXx8Yy5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInVybFwiLGMuYXR0cihcImlkXCIpfHxiLmNvbnZlcnRVcmxUb0RhdGFVcmwoaS5wYXRobmFtZStpLnNlYXJjaCkpfSksYS5tb2JpbGUuZmlyc3RQYWdlPWYuZmlyc3QoKSxhLm1vYmlsZS5wYWdlQ29udGFpbmVyPWEubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5hZGRDbGFzcyhcInVpLW1vYmlsZS12aWV3cG9ydFwiKS5wYWdlY29udGFpbmVyKCksYS5tb2JpbGUubmF2cmVhZHlEZWZlcnJlZC5yZXNvbHZlKCksZy50cmlnZ2VyKFwicGFnZWNvbnRhaW5lcmNyZWF0ZVwiKSxhLm1vYmlsZS5sb2FkaW5nKFwic2hvd1wiKSxlKCksYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQmJmEubW9iaWxlLnBhdGguaXNIYXNoVmFsaWQobG9jYXRpb24uaGFzaCkmJihhKGopLmlzKFwiOmpxbURhdGEocm9sZT0ncGFnZScpXCIpfHxhLm1vYmlsZS5wYXRoLmlzUGF0aChoKXx8aD09PWEubW9iaWxlLmRpYWxvZ0hhc2hLZXkpP2EuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKT8oYS5tb2JpbGUubmF2aWdhdGUuaGlzdG9yeS5zdGFjaz1bXSxhLm1vYmlsZS5uYXZpZ2F0ZShhLm1vYmlsZS5wYXRoLmlzUGF0aChsb2NhdGlvbi5oYXNoKT9sb2NhdGlvbi5oYXNoOmxvY2F0aW9uLmhyZWYpKTpnLnRyaWdnZXIoXCJoYXNoY2hhbmdlXCIsWyEwXSk6KGEuZXZlbnQuc3BlY2lhbC5uYXZpZ2F0ZS5pc1B1c2hTdGF0ZUVuYWJsZWQoKSYmYS5tb2JpbGUubmF2aWdhdGUubmF2aWdhdG9yLnNxdWFzaChiLnBhcnNlTG9jYXRpb24oKS5ocmVmKSxhLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjpcIm5vbmVcIixyZXZlcnNlOiEwLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KSl9fSksYShmdW5jdGlvbigpe2Euc3VwcG9ydC5pbmxpbmVTVkcoKSxhLm1vYmlsZS5oaWRlVXJsQmFyJiZiLnNjcm9sbFRvKDAsMSksYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw9YS5zdXBwb3J0LnNjcm9sbFRvcCYmMSE9PWEubW9iaWxlLndpbmRvdy5zY3JvbGxUb3AoKT8xOjAsYS5tb2JpbGUuYXV0b0luaXRpYWxpemVQYWdlJiZhLm1vYmlsZS5pbml0aWFsaXplUGFnZSgpLGEubW9iaWxlLmhpZGVVcmxCYXImJmcubG9hZChhLm1vYmlsZS5zaWxlbnRTY3JvbGwpLGEuc3VwcG9ydC5jc3NQb2ludGVyRXZlbnRzfHxhLm1vYmlsZS5kb2N1bWVudC5kZWxlZ2F0ZShcIi51aS1zdGF0ZS1kaXNhYmxlZCwudWktZGlzYWJsZWRcIixcInZjbGlja1wiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKSxhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpfSl9KSl9KGEsdGhpcyl9KTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9anF1ZXJ5Lm1vYmlsZS0xLjQuNS5taW4ubWFwIl0sImZpbGUiOiJqcXVlcnkubW9iaWxlLm1pbi5qcyJ9
